function cx(f,g){for(var h=0;h<g.length;h++){const y=g[h];if(typeof y!="string"&&!Array.isArray(y)){for(const A in y)if(A!=="default"&&!(A in f)){const w=Object.getOwnPropertyDescriptor(y,A);w&&Object.defineProperty(f,A,w.get?w:{enumerable:!0,get:()=>y[A]})}}}return Object.freeze(Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}))}(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))y(A);new MutationObserver(A=>{for(const w of A)if(w.type==="childList")for(const _ of w.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&y(_)}).observe(document,{childList:!0,subtree:!0});function h(A){const w={};return A.integrity&&(w.integrity=A.integrity),A.referrerPolicy&&(w.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?w.credentials="include":A.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function y(A){if(A.ep)return;A.ep=!0;const w=h(A);fetch(A.href,w)}})();var Jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ux(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var l0={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md;function fx(){if(Md)return Tl;Md=1;var f=Symbol.for("react.transitional.element"),g=Symbol.for("react.fragment");function h(y,A,w){var _=null;if(w!==void 0&&(_=""+w),A.key!==void 0&&(_=""+A.key),"key"in A){w={};for(var O in A)O!=="key"&&(w[O]=A[O])}else w=A;return A=w.ref,{$$typeof:f,type:y,key:_,ref:A!==void 0?A:null,props:w}}return Tl.Fragment=g,Tl.jsx=h,Tl.jsxs=h,Tl}var Od;function dx(){return Od||(Od=1,l0.exports=fx()),l0.exports}var m=dx(),o0={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd;function hx(){if(Dd)return Ke;Dd=1;var f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),_=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),L=Symbol.iterator;function H(k){return k===null||typeof k!="object"?null:(k=L&&k[L]||k["@@iterator"],typeof k=="function"?k:null)}var ie={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,Q={};function ce(k,he,Ee){this.props=k,this.context=he,this.refs=Q,this.updater=Ee||ie}ce.prototype.isReactComponent={},ce.prototype.setState=function(k,he){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,he,"setState")},ce.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function W(){}W.prototype=ce.prototype;function se(k,he,Ee){this.props=k,this.context=he,this.refs=Q,this.updater=Ee||ie}var le=se.prototype=new W;le.constructor=se,ae(le,ce.prototype),le.isPureReactComponent=!0;var Se=Array.isArray,Ie={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function re(k,he,Ee,ve,De,st){return Ee=st.ref,{$$typeof:f,type:k,key:he,ref:Ee!==void 0?Ee:null,props:st}}function be(k,he){return re(k.type,he,void 0,void 0,void 0,k.props)}function oe(k){return typeof k=="object"&&k!==null&&k.$$typeof===f}function Ne(k){var he={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Ee){return he[Ee]})}var Oe=/\/+/g;function Ae(k,he){return typeof k=="object"&&k!==null&&k.key!=null?Ne(""+k.key):he.toString(36)}function Te(){}function tt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Te,Te):(k.status="pending",k.then(function(he){k.status==="pending"&&(k.status="fulfilled",k.value=he)},function(he){k.status==="pending"&&(k.status="rejected",k.reason=he)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function X(k,he,Ee,ve,De){var st=typeof k;(st==="undefined"||st==="boolean")&&(k=null);var ye=!1;if(k===null)ye=!0;else switch(st){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(k.$$typeof){case f:case g:ye=!0;break;case R:return ye=k._init,X(ye(k._payload),he,Ee,ve,De)}}if(ye)return De=De(k),ye=ve===""?"."+Ae(k,0):ve,Se(De)?(Ee="",ye!=null&&(Ee=ye.replace(Oe,"$&/")+"/"),X(De,he,Ee,"",function(Hn){return Hn})):De!=null&&(oe(De)&&(De=be(De,Ee+(De.key==null||k&&k.key===De.key?"":(""+De.key).replace(Oe,"$&/")+"/")+ye)),he.push(De)),1;ye=0;var Sn=ve===""?".":ve+":";if(Se(k))for(var Qe=0;Qe<k.length;Qe++)ve=k[Qe],st=Sn+Ae(ve,Qe),ye+=X(ve,he,Ee,st,De);else if(Qe=H(k),typeof Qe=="function")for(k=Qe.call(k),Qe=0;!(ve=k.next()).done;)ve=ve.value,st=Sn+Ae(ve,Qe++),ye+=X(ve,he,Ee,st,De);else if(st==="object"){if(typeof k.then=="function")return X(tt(k),he,Ee,ve,De);throw he=String(k),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return ye}function J(k,he,Ee){if(k==null)return k;var ve=[],De=0;return X(k,ve,"","",function(st){return he.call(Ee,st,De++)}),ve}function de(k){if(k._status===-1){var he=k._result;he=he(),he.then(function(Ee){(k._status===0||k._status===-1)&&(k._status=1,k._result=Ee)},function(Ee){(k._status===0||k._status===-1)&&(k._status=2,k._result=Ee)}),k._status===-1&&(k._status=0,k._result=he)}if(k._status===1)return k._result.default;throw k._result}var je=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function He(){}return Ke.Children={map:J,forEach:function(k,he,Ee){J(k,function(){he.apply(this,arguments)},Ee)},count:function(k){var he=0;return J(k,function(){he++}),he},toArray:function(k){return J(k,function(he){return he})||[]},only:function(k){if(!oe(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ke.Component=ce,Ke.Fragment=h,Ke.Profiler=A,Ke.PureComponent=se,Ke.StrictMode=y,Ke.Suspense=M,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(k){return Ie.H.useMemoCache(k)}},Ke.cache=function(k){return function(){return k.apply(null,arguments)}},Ke.cloneElement=function(k,he,Ee){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ve=ae({},k.props),De=k.key,st=void 0;if(he!=null)for(ye in he.ref!==void 0&&(st=void 0),he.key!==void 0&&(De=""+he.key),he)!ne.call(he,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&he.ref===void 0||(ve[ye]=he[ye]);var ye=arguments.length-2;if(ye===1)ve.children=Ee;else if(1<ye){for(var Sn=Array(ye),Qe=0;Qe<ye;Qe++)Sn[Qe]=arguments[Qe+2];ve.children=Sn}return re(k.type,De,void 0,void 0,st,ve)},Ke.createContext=function(k){return k={$$typeof:_,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:w,_context:k},k},Ke.createElement=function(k,he,Ee){var ve,De={},st=null;if(he!=null)for(ve in he.key!==void 0&&(st=""+he.key),he)ne.call(he,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(De[ve]=he[ve]);var ye=arguments.length-2;if(ye===1)De.children=Ee;else if(1<ye){for(var Sn=Array(ye),Qe=0;Qe<ye;Qe++)Sn[Qe]=arguments[Qe+2];De.children=Sn}if(k&&k.defaultProps)for(ve in ye=k.defaultProps,ye)De[ve]===void 0&&(De[ve]=ye[ve]);return re(k,st,void 0,void 0,null,De)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(k){return{$$typeof:O,render:k}},Ke.isValidElement=oe,Ke.lazy=function(k){return{$$typeof:R,_payload:{_status:-1,_result:k},_init:de}},Ke.memo=function(k,he){return{$$typeof:E,type:k,compare:he===void 0?null:he}},Ke.startTransition=function(k){var he=Ie.T,Ee={};Ie.T=Ee;try{var ve=k(),De=Ie.S;De!==null&&De(Ee,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(He,je)}catch(st){je(st)}finally{Ie.T=he}},Ke.unstable_useCacheRefresh=function(){return Ie.H.useCacheRefresh()},Ke.use=function(k){return Ie.H.use(k)},Ke.useActionState=function(k,he,Ee){return Ie.H.useActionState(k,he,Ee)},Ke.useCallback=function(k,he){return Ie.H.useCallback(k,he)},Ke.useContext=function(k){return Ie.H.useContext(k)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(k,he){return Ie.H.useDeferredValue(k,he)},Ke.useEffect=function(k,he,Ee){var ve=Ie.H;if(typeof Ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ve.useEffect(k,he)},Ke.useId=function(){return Ie.H.useId()},Ke.useImperativeHandle=function(k,he,Ee){return Ie.H.useImperativeHandle(k,he,Ee)},Ke.useInsertionEffect=function(k,he){return Ie.H.useInsertionEffect(k,he)},Ke.useLayoutEffect=function(k,he){return Ie.H.useLayoutEffect(k,he)},Ke.useMemo=function(k,he){return Ie.H.useMemo(k,he)},Ke.useOptimistic=function(k,he){return Ie.H.useOptimistic(k,he)},Ke.useReducer=function(k,he,Ee){return Ie.H.useReducer(k,he,Ee)},Ke.useRef=function(k){return Ie.H.useRef(k)},Ke.useState=function(k){return Ie.H.useState(k)},Ke.useSyncExternalStore=function(k,he,Ee){return Ie.H.useSyncExternalStore(k,he,Ee)},Ke.useTransition=function(){return Ie.H.useTransition()},Ke.version="19.1.0",Ke}var Rd;function E0(){return Rd||(Rd=1,o0.exports=hx()),o0.exports}var q=E0(),c0={exports:{}},_l={},u0={exports:{}},f0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function gx(){return Bd||(Bd=1,function(f){function g(J,de){var je=J.length;J.push(de);e:for(;0<je;){var He=je-1>>>1,k=J[He];if(0<A(k,de))J[He]=de,J[je]=k,je=He;else break e}}function h(J){return J.length===0?null:J[0]}function y(J){if(J.length===0)return null;var de=J[0],je=J.pop();if(je!==de){J[0]=je;e:for(var He=0,k=J.length,he=k>>>1;He<he;){var Ee=2*(He+1)-1,ve=J[Ee],De=Ee+1,st=J[De];if(0>A(ve,je))De<k&&0>A(st,ve)?(J[He]=st,J[De]=je,He=De):(J[He]=ve,J[Ee]=je,He=Ee);else if(De<k&&0>A(st,je))J[He]=st,J[De]=je,He=De;else break e}}return de}function A(J,de){var je=J.sortIndex-de.sortIndex;return je!==0?je:J.id-de.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;f.unstable_now=function(){return w.now()}}else{var _=Date,O=_.now();f.unstable_now=function(){return _.now()-O}}var M=[],E=[],R=1,L=null,H=3,ie=!1,ae=!1,Q=!1,ce=!1,W=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function Se(J){for(var de=h(E);de!==null;){if(de.callback===null)y(E);else if(de.startTime<=J)y(E),de.sortIndex=de.expirationTime,g(M,de);else break;de=h(E)}}function Ie(J){if(Q=!1,Se(J),!ae)if(h(M)!==null)ae=!0,ne||(ne=!0,Ae());else{var de=h(E);de!==null&&X(Ie,de.startTime-J)}}var ne=!1,re=-1,be=5,oe=-1;function Ne(){return ce?!0:!(f.unstable_now()-oe<be)}function Oe(){if(ce=!1,ne){var J=f.unstable_now();oe=J;var de=!0;try{e:{ae=!1,Q&&(Q=!1,se(re),re=-1),ie=!0;var je=H;try{t:{for(Se(J),L=h(M);L!==null&&!(L.expirationTime>J&&Ne());){var He=L.callback;if(typeof He=="function"){L.callback=null,H=L.priorityLevel;var k=He(L.expirationTime<=J);if(J=f.unstable_now(),typeof k=="function"){L.callback=k,Se(J),de=!0;break t}L===h(M)&&y(M),Se(J)}else y(M);L=h(M)}if(L!==null)de=!0;else{var he=h(E);he!==null&&X(Ie,he.startTime-J),de=!1}}break e}finally{L=null,H=je,ie=!1}de=void 0}}finally{de?Ae():ne=!1}}}var Ae;if(typeof le=="function")Ae=function(){le(Oe)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,tt=Te.port2;Te.port1.onmessage=Oe,Ae=function(){tt.postMessage(null)}}else Ae=function(){W(Oe,0)};function X(J,de){re=W(function(){J(f.unstable_now())},de)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(J){J.callback=null},f.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<J?Math.floor(1e3/J):5},f.unstable_getCurrentPriorityLevel=function(){return H},f.unstable_next=function(J){switch(H){case 1:case 2:case 3:var de=3;break;default:de=H}var je=H;H=de;try{return J()}finally{H=je}},f.unstable_requestPaint=function(){ce=!0},f.unstable_runWithPriority=function(J,de){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var je=H;H=J;try{return de()}finally{H=je}},f.unstable_scheduleCallback=function(J,de,je){var He=f.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?He+je:He):je=He,J){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=je+k,J={id:R++,callback:de,priorityLevel:J,startTime:je,expirationTime:k,sortIndex:-1},je>He?(J.sortIndex=je,g(E,J),h(M)===null&&J===h(E)&&(Q?(se(re),re=-1):Q=!0,X(Ie,je-He))):(J.sortIndex=k,g(M,J),ae||ie||(ae=!0,ne||(ne=!0,Ae()))),J},f.unstable_shouldYield=Ne,f.unstable_wrapCallback=function(J){var de=H;return function(){var je=H;H=de;try{return J.apply(this,arguments)}finally{H=je}}}}(f0)),f0}var Ld;function xx(){return Ld||(Ld=1,u0.exports=gx()),u0.exports}var d0={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function mx(){if(jd)return Un;jd=1;var f=E0();function g(M){var E="https://react.dev/errors/"+M;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)E+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+M+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(){}var y={d:{f:h,r:function(){throw Error(g(522))},D:h,C:h,L:h,m:h,X:h,S:h,M:h},p:0,findDOMNode:null},A=Symbol.for("react.portal");function w(M,E,R){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:L==null?null:""+L,children:M,containerInfo:E,implementation:R}}var _=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function O(M,E){if(M==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=y,Un.createPortal=function(M,E){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(g(299));return w(M,E,null,R)},Un.flushSync=function(M){var E=_.T,R=y.p;try{if(_.T=null,y.p=2,M)return M()}finally{_.T=E,y.p=R,y.d.f()}},Un.preconnect=function(M,E){typeof M=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,y.d.C(M,E))},Un.prefetchDNS=function(M){typeof M=="string"&&y.d.D(M)},Un.preinit=function(M,E){if(typeof M=="string"&&E&&typeof E.as=="string"){var R=E.as,L=O(R,E.crossOrigin),H=typeof E.integrity=="string"?E.integrity:void 0,ie=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;R==="style"?y.d.S(M,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:L,integrity:H,fetchPriority:ie}):R==="script"&&y.d.X(M,{crossOrigin:L,integrity:H,fetchPriority:ie,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Un.preinitModule=function(M,E){if(typeof M=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var R=O(E.as,E.crossOrigin);y.d.M(M,{crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&y.d.M(M)},Un.preload=function(M,E){if(typeof M=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var R=E.as,L=O(R,E.crossOrigin);y.d.L(M,R,{crossOrigin:L,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Un.preloadModule=function(M,E){if(typeof M=="string")if(E){var R=O(E.as,E.crossOrigin);y.d.m(M,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else y.d.m(M)},Un.requestFormReset=function(M){y.d.r(M)},Un.unstable_batchedUpdates=function(M,E){return M(E)},Un.useFormState=function(M,E,R){return _.H.useFormState(M,E,R)},Un.useFormStatus=function(){return _.H.useHostTransitionStatus()},Un.version="19.1.0",Un}var kd;function px(){if(kd)return d0.exports;kd=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(g){console.error(g)}}return f(),d0.exports=mx(),d0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function yx(){if(Ud)return _l;Ud=1;var f=xx(),g=E0(),h=px();function y(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function _(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function O(e){if(w(e)!==e)throw Error(y(188))}function M(e){var n=e.alternate;if(!n){if(n=w(e),n===null)throw Error(y(188));return n!==e?null:e}for(var i=e,o=n;;){var d=i.return;if(d===null)break;var p=d.alternate;if(p===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===i)return O(d),e;if(p===o)return O(d),n;p=p.sibling}throw Error(y(188))}if(i.return!==o.return)i=d,o=p;else{for(var S=!1,I=d.child;I;){if(I===i){S=!0,i=d,o=p;break}if(I===o){S=!0,o=d,i=p;break}I=I.sibling}if(!S){for(I=p.child;I;){if(I===i){S=!0,i=p,o=d;break}if(I===o){S=!0,o=p,i=d;break}I=I.sibling}if(!S)throw Error(y(189))}}if(i.alternate!==o)throw Error(y(190))}if(i.tag!==3)throw Error(y(188));return i.stateNode.current===i?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,L=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),ie=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),le=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=Oe&&e[Oe]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Symbol.for("react.client.reference");function tt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case ce:return"Profiler";case Q:return"StrictMode";case Ie:return"Suspense";case ne:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ie:return"Portal";case le:return(e.displayName||"Context")+".Provider";case se:return(e._context.displayName||"Context")+".Consumer";case Se:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return n=e.displayName||null,n!==null?n:tt(e.type)||"Memo";case be:n=e._payload,e=e._init;try{return tt(e(n))}catch{}}return null}var X=Array.isArray,J=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=h.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je={pending:!1,data:null,method:null,action:null},He=[],k=-1;function he(e){return{current:e}}function Ee(e){0>k||(e.current=He[k],He[k]=null,k--)}function ve(e,n){k++,He[k]=e.current,e.current=n}var De=he(null),st=he(null),ye=he(null),Sn=he(null);function Qe(e,n){switch(ve(ye,n),ve(st,e),ve(De,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?rd(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=rd(n),e=id(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ee(De),ve(De,e)}function Hn(){Ee(De),Ee(st),Ee(ye)}function er(e){e.memoizedState!==null&&ve(Sn,e);var n=De.current,i=id(n,e.type);n!==i&&(ve(st,e),ve(De,i))}function cn(e){st.current===e&&(Ee(De),Ee(st)),Sn.current===e&&(Ee(Sn),El._currentValue=je)}var Nr=Object.prototype.hasOwnProperty,ct=f.unstable_scheduleCallback,Da=f.unstable_cancelCallback,ca=f.unstable_shouldYield,oi=f.unstable_requestPaint,Nt=f.unstable_now,Tt=f.unstable_getCurrentPriorityLevel,lt=f.unstable_ImmediatePriority,ci=f.unstable_UserBlockingPriority,Re=f.unstable_NormalPriority,Ui=f.unstable_LowPriority,Os=f.unstable_IdlePriority,Aa=f.log,Ds=f.unstable_setDisableYieldValue,vn=null,On=null;function Nn(e){if(typeof Aa=="function"&&Ds(e),On&&typeof On.setStrictMode=="function")try{On.setStrictMode(vn,e)}catch{}}var bt=Math.clz32?Math.clz32:dc,Pl=Math.log,zi=Math.LN2;function dc(e){return e>>>=0,e===0?32:31-(Pl(e)/zi|0)|0}var kt=256,Ce=4194304;function Dt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ht(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var d=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var I=o&134217727;return I!==0?(o=I&~p,o!==0?d=Dt(o):(S&=I,S!==0?d=Dt(S):i||(i=I&~e,i!==0&&(d=Dt(i))))):(I=o&~p,I!==0?d=Dt(I):S!==0?d=Dt(S):i||(i=o&~e,i!==0&&(d=Dt(i)))),d===0?0:n!==0&&n!==d&&(n&p)===0&&(p=d&-d,i=n&-n,p>=i||p===32&&(i&4194048)!==0)?n:d}function _t(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ui(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pi(){var e=kt;return kt<<=1,(kt&4194048)===0&&(kt=256),e}function Rs(){var e=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),e}function ut(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Wn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fl(e,n,i,o,d,p){var S=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var I=e.entanglements,j=e.expirationTimes,Z=e.hiddenUpdates;for(i=S&~i;0<i;){var ue=31-bt(i),ge=1<<ue;I[ue]=0,j[ue]=-1;var K=Z[ue];if(K!==null)for(Z[ue]=null,ue=0;ue<K.length;ue++){var ee=K[ue];ee!==null&&(ee.lane&=-536870913)}i&=~ge}o!==0&&Bs(e,o,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~n))}function Bs(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-bt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&4194090}function Gn(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-bt(i),d=1<<o;d&n|e[o]&n&&(e[o]|=n),i&=~d}}function fi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tr(){var e=de.p;return e!==0?e:(e=window.event,e===void 0?32:Sd(e.type))}function Fi(e,n){var i=de.p;try{return de.p=e,n()}finally{de.p=i}}var un=Math.random().toString(36).slice(2),yn="__reactFiber$"+un,Xt="__reactProps$"+un,Ra="__reactContainer$"+un,bn="__reactEvents$"+un,nr="__reactListeners$"+un,Vn="__reactHandles$"+un,Me="__reactResources$"+un,ua="__reactMarker$"+un;function di(e){delete e[yn],delete e[Xt],delete e[bn],delete e[nr],delete e[Vn]}function Jt(e){var n=e[yn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Ra]||i[yn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=cd(e);e!==null;){if(i=e[yn])return i;e=cd(e)}return n}e=i,i=e.parentNode}return null}function Kn(e){if(e=e[yn]||e[Ra]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ba(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(y(33))}function Ea(e){var n=e[Me];return n||(n=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function wt(e){e[ua]=!0}var Hl=new Set,Gl={};function wn(e,n){qt(e,n),qt(e+"Capture",n)}function qt(e,n){for(Gl[e]=n,e=0;e<n.length;e++)Hl.add(n[e])}var Lt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ls={},Ca={};function js(e){return Nr.call(Ca,e)?!0:Nr.call(Ls,e)?!1:Lt.test(e)?Ca[e]=!0:(Ls[e]=!0,!1)}function xe(e,n,i){if(js(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Hi(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function gt(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}var La,Vl;function nt(e){if(La===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);La=n&&n[1]||"",Vl=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+La+e+Vl}var ft=!1;function Je(e,n){if(!e||ft)return"";ft=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ee){var K=ee}Reflect.construct(e,[],ge)}else{try{ge.call()}catch(ee){K=ee}e.call(ge.prototype)}}else{try{throw Error()}catch(ee){K=ee}(ge=e())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ee){if(ee&&K&&typeof ee.stack=="string")return[ee.stack,K.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=o.DetermineComponentFrameRoot(),S=p[0],I=p[1];if(S&&I){var j=S.split(`
`),Z=I.split(`
`);for(d=o=0;o<j.length&&!j[o].includes("DetermineComponentFrameRoot");)o++;for(;d<Z.length&&!Z[d].includes("DetermineComponentFrameRoot");)d++;if(o===j.length||d===Z.length)for(o=j.length-1,d=Z.length-1;1<=o&&0<=d&&j[o]!==Z[d];)d--;for(;1<=o&&0<=d;o--,d--)if(j[o]!==Z[d]){if(o!==1||d!==1)do if(o--,d--,0>d||j[o]!==Z[d]){var ue=`
`+j[o].replace(" at new "," at ");return e.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",e.displayName)),ue}while(1<=o&&0<=d);break}}}finally{ft=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?nt(i):""}function ks(e){switch(e.tag){case 26:case 27:case 5:return nt(e.type);case 16:return nt("Lazy");case 13:return nt("Suspense");case 19:return nt("SuspenseList");case 0:case 15:return Je(e.type,!1);case 11:return Je(e.type.render,!1);case 1:return Je(e.type,!0);case 31:return nt("Activity");default:return""}}function Gi(e){try{var n="";do n+=ks(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zt(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ja(e){var n=Zt(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,p=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){o=""+S,p.call(this,S)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Vi(e){e._valueTracker||(e._valueTracker=ja(e))}function Pt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=Zt(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function Jn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hc=/[\n"\\]/g;function fn(e){return e.replace(hc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pt(e,n,i,o,d,p,S,I){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dn(n)):e.value!==""+Dn(n)&&(e.value=""+Dn(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?V(e,S,Dn(n)):i!=null?V(e,S,Dn(i)):o!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?e.name=""+Dn(I):e.removeAttribute("name")}function dn(e,n,i,o,d,p,S,I){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||n!=null))return;i=i!=null?""+Dn(i):"",n=n!=null?""+Dn(n):i,I||n===e.value||(e.value=n),e.defaultValue=n}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=I?e.checked:!!o,e.defaultChecked=!!o,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S)}function V(e,n,i){n==="number"&&Jn(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function D(e,n,i,o){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Dn(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function ke(e,n,i){if(n!=null&&(n=""+Dn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Dn(i):""}function $t(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(y(92));if(X(o)){if(1<o.length)throw Error(y(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=Dn(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o)}function hn(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var gc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yi(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||gc.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function zn(e,n,i){if(n!=null&&typeof n!="object")throw Error(y(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in n)o=n[d],n.hasOwnProperty(d)&&i[d]!==o&&Yi(e,d,o)}else for(var p in n)n.hasOwnProperty(p)&&Yi(e,p,n[p])}function Ue(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ut=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(e){return Yl.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var hi=null;function Tr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ka=null,_r=null;function en(e){var n=Kn(e);if(n&&(e=n.stateNode)){var i=e[Xt]||null;e:switch(e=n.stateNode,n.type){case"input":if(pt(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var d=o[Xt]||null;if(!d)throw Error(y(90));pt(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&Pt(o)}break e;case"textarea":ke(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&D(e,!!i.multiple,n,!1)}}}var ar=!1;function Sa(e,n,i){if(ar)return e(n,i);ar=!0;try{var o=e(n);return o}finally{if(ar=!1,(ka!==null||_r!==null)&&(Oo(),ka&&(n=ka,e=_r,_r=ka=null,en(n),e)))for(n=0;n<e.length;n++)en(e[n])}}function Pe(e,n){var i=e.stateNode;if(i===null)return null;var o=i[Xt]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(y(231,n,typeof i));return i}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qe=!1;if(va)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch{qe=!1}var Ua=null,gi=null,xi=null;function za(){if(xi)return xi;var e,n=gi,i=n.length,o,d="value"in Ua?Ua.value:Ua.textContent,p=d.length;for(e=0;e<i&&n[e]===d[e];e++);var S=i-e;for(o=1;o<=S&&n[i-o]===d[p-o];o++);return xi=d.slice(e,1<o?1-o:void 0)}function qi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pa(){return!0}function Ir(){return!1}function sn(e){function n(i,o,d,p,S){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var I in e)e.hasOwnProperty(I)&&(i=e[I],this[I]=i?i(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Pa:Ir,this.isPropagationStopped=Ir,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),n}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=sn(Fa),Na=R({},Fa,{view:0,detail:0}),Rn=sn(Na),Zi,Qi,Mr,Wi=R({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mr&&(Mr&&e.type==="mousemove"?(Zi=e.screenX-Mr.screenX,Qi=e.screenY-Mr.screenY):Qi=Zi=0,Mr=e),Zi)},movementY:function(e){return"movementY"in e?e.movementY:Qi}}),Xl=sn(Wi),xc=R({},Wi,{dataTransfer:0}),yt=sn(xc),ql=R({},Na,{relatedTarget:0}),Or=sn(ql),Ga=R({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),mc=sn(Ga),te=R({},Fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),We=sn(te),gn=R({},Fa,{data:0}),mi=sn(gn),Zl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yc[e])?!!n[e]:!1}function pi(){return bc}var tn=R({},Na,{key:function(e){if(e.key){var n=Zl[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pi,charCode:function(e){return e.type==="keypress"?qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Us=sn(tn),Ft=R({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yi=sn(Ft),rr=R({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pi}),At=sn(rr),Fe=R({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),wc=sn(Fe),Rt=R({},Wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ir=sn(Rt),Dr=R({},Fa,{newState:0,oldState:0}),Ac=sn(Dr),fa=[9,13,27,32],bi=va&&"CompositionEvent"in window,Rr=null;va&&"documentMode"in document&&(Rr=document.documentMode);var zs=va&&"TextEvent"in window&&!Rr,Ps=va&&(!bi||Rr&&8<Rr&&11>=Rr),Fs=" ",Ql=!1;function sr(e,n){switch(e){case"keyup":return fa.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ki(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Br=!1;function wi(e,n){switch(e){case"compositionend":return Ki(n);case"keypress":return n.which!==32?null:(Ql=!0,Fs);case"textInput":return e=n.data,e===Fs&&Ql?null:e;default:return null}}function Ec(e,n){if(Br)return e==="compositionend"||!bi&&sr(e,n)?(e=za(),xi=gi=Ua=null,Br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ps&&n.locale!=="ko"?null:n.data;default:return null}}var Va={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ai(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Va[e.type]:n==="textarea"}function Pn(e,n,i,o){ka?_r?_r.push(o):_r=[o]:ka=o,n=ko(n,"onChange"),0<n.length&&(i=new Ha("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var Lr=null,Bn=null;function Cc(e){$1(e,0)}function jr(e){var n=Ba(e);if(Pt(n))return e}function Wl(e,n){if(e==="change")return n}var Hs=!1;if(va){var Yn;if(va){var Gs="oninput"in document;if(!Gs){var Ji=document.createElement("div");Ji.setAttribute("oninput","return;"),Gs=typeof Ji.oninput=="function"}Yn=Gs}else Yn=!1;Hs=Yn&&(!document.documentMode||9<document.documentMode)}function kr(){Lr&&(Lr.detachEvent("onpropertychange",ot),Bn=Lr=null)}function ot(e){if(e.propertyName==="value"&&jr(Bn)){var n=[];Pn(n,Bn,e,Tr(e)),Sa(Cc,n)}}function $i(e,n,i){e==="focusin"?(kr(),Lr=n,Bn=i,Lr.attachEvent("onpropertychange",ot)):e==="focusout"&&kr()}function v(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jr(Bn)}function t(e,n){if(e==="click")return jr(n)}function a(e,n){if(e==="input"||e==="change")return jr(n)}function r(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var s=typeof Object.is=="function"?Object.is:r;function l(e,n){if(s(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!Nr.call(n,d)||!s(e[d],n[d]))return!1}return!0}function c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function u(e,n){var i=c(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=c(i)}}function x(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?x(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function b(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Jn(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Jn(e.document)}return n}function C(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var N=va&&"documentMode"in document&&11>=document.documentMode,T=null,B=null,U=null,z=!1;function G(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;z||T==null||T!==Jn(o)||(o=T,"selectionStart"in o&&C(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),U&&l(U,o)||(U=o,o=ko(B,"onSelect"),0<o.length&&(n=new Ha("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=T)))}function $(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var pe={animationend:$("Animation","AnimationEnd"),animationiteration:$("Animation","AnimationIteration"),animationstart:$("Animation","AnimationStart"),transitionrun:$("Transition","TransitionRun"),transitionstart:$("Transition","TransitionStart"),transitioncancel:$("Transition","TransitionCancel"),transitionend:$("Transition","TransitionEnd")},we={},me={};va&&(me=document.createElement("div").style,"AnimationEvent"in window||(delete pe.animationend.animation,delete pe.animationiteration.animation,delete pe.animationstart.animation),"TransitionEvent"in window||delete pe.transitionend.transition);function Ze(e){if(we[e])return we[e];if(!pe[e])return e;var n=pe[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in me)return we[e]=n[i];return e}var Xe=Ze("animationend"),Tn=Ze("animationiteration"),Xn=Ze("animationstart"),Ln=Ze("transitionrun"),Et=Ze("transitionstart"),xn=Ze("transitioncancel"),jn=Ze("transitionend"),lr=new Map,Ya="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ya.push("scrollEnd");function $n(e,n){lr.set(e,n),wn(n,[e])}var Kl=new WeakMap;function da(e,n){if(typeof e=="object"&&e!==null){var i=Kl.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Gi(n)},Kl.set(e,n),n)}return{value:e,source:n,stack:Gi(n)}}var ha=[],es=0,Sc=0;function Jl(){for(var e=es,n=Sc=es=0;n<e;){var i=ha[n];ha[n++]=null;var o=ha[n];ha[n++]=null;var d=ha[n];ha[n++]=null;var p=ha[n];if(ha[n++]=null,o!==null&&d!==null){var S=o.pending;S===null?d.next=d:(d.next=S.next,S.next=d),o.pending=d}p!==0&&j0(i,d,p)}}function $l(e,n,i,o){ha[es++]=e,ha[es++]=n,ha[es++]=i,ha[es++]=o,Sc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function vc(e,n,i,o){return $l(e,n,i,o),eo(e)}function ts(e,n){return $l(e,null,null,n),eo(e)}function j0(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var d=!1,p=e.return;p!==null;)p.childLanes|=i,o=p.alternate,o!==null&&(o.childLanes|=i),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&n!==null&&(d=31-bt(i),e=p.hiddenUpdates,o=e[d],o===null?e[d]=[n]:o.push(n),n.lane=i|536870912),p):null}function eo(e){if(50<gl)throw gl=0,Ou=null,Error(y(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ns={};function Zh(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(e,n,i,o){return new Zh(e,n,i,o)}function Nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function or(e,n){var i=e.alternate;return i===null?(i=ea(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function k0(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function to(e,n,i,o,d,p){var S=0;if(o=e,typeof e=="function")Nc(e)&&(S=1);else if(typeof e=="string")S=Wg(e,i,De.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=ea(31,i,n,d),e.elementType=oe,e.lanes=p,e;case ae:return Ei(i.children,d,p,n);case Q:S=8,d|=24;break;case ce:return e=ea(12,i,n,d|2),e.elementType=ce,e.lanes=p,e;case Ie:return e=ea(13,i,n,d),e.elementType=Ie,e.lanes=p,e;case ne:return e=ea(19,i,n,d),e.elementType=ne,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:case le:S=10;break e;case se:S=9;break e;case Se:S=11;break e;case re:S=14;break e;case be:S=16,o=null;break e}S=29,i=Error(y(130,e===null?"null":typeof e,"")),o=null}return n=ea(S,i,n,d),n.elementType=e,n.type=o,n.lanes=p,n}function Ei(e,n,i,o){return e=ea(7,e,o,n),e.lanes=i,e}function Tc(e,n,i){return e=ea(6,e,null,n),e.lanes=i,e}function _c(e,n,i){return n=ea(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var as=[],rs=0,no=null,ao=0,ga=[],xa=0,Ci=null,cr=1,ur="";function Si(e,n){as[rs++]=ao,as[rs++]=no,no=e,ao=n}function U0(e,n,i){ga[xa++]=cr,ga[xa++]=ur,ga[xa++]=Ci,Ci=e;var o=cr;e=ur;var d=32-bt(o)-1;o&=~(1<<d),i+=1;var p=32-bt(n)+d;if(30<p){var S=d-d%5;p=(o&(1<<S)-1).toString(32),o>>=S,d-=S,cr=1<<32-bt(n)+d|i<<d|o,ur=p+e}else cr=1<<p|i<<d|o,ur=e}function Ic(e){e.return!==null&&(Si(e,1),U0(e,1,0))}function Mc(e){for(;e===no;)no=as[--rs],as[rs]=null,ao=as[--rs],as[rs]=null;for(;e===Ci;)Ci=ga[--xa],ga[xa]=null,ur=ga[--xa],ga[xa]=null,cr=ga[--xa],ga[xa]=null}var Fn=null,Qt=null,mt=!1,vi=null,Xa=!1,Oc=Error(y(519));function Ni(e){var n=Error(y(418,""));throw Xs(da(n,e)),Oc}function z0(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[yn]=e,n[Xt]=o,i){case"dialog":rt("cancel",n),rt("close",n);break;case"iframe":case"object":case"embed":rt("load",n);break;case"video":case"audio":for(i=0;i<ml.length;i++)rt(ml[i],n);break;case"source":rt("error",n);break;case"img":case"image":case"link":rt("error",n),rt("load",n);break;case"details":rt("toggle",n);break;case"input":rt("invalid",n),dn(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Vi(n);break;case"select":rt("invalid",n);break;case"textarea":rt("invalid",n),$t(n,o.value,o.defaultValue,o.children),Vi(n)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||ad(n.textContent,i)?(o.popover!=null&&(rt("beforetoggle",n),rt("toggle",n)),o.onScroll!=null&&rt("scroll",n),o.onScrollEnd!=null&&rt("scrollend",n),o.onClick!=null&&(n.onclick=Uo),n=!0):n=!1,n||Ni(e)}function P0(e){for(Fn=e.return;Fn;)switch(Fn.tag){case 5:case 13:Xa=!1;return;case 27:case 3:Xa=!0;return;default:Fn=Fn.return}}function Vs(e){if(e!==Fn)return!1;if(!mt)return P0(e),mt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||qu(e.type,e.memoizedProps)),i=!i),i&&Qt&&Ni(e),P0(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){Qt=_a(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}Qt=null}}else n===27?(n=Qt,$r(e.type)?(e=Ku,Ku=null,Qt=e):Qt=n):Qt=Fn?_a(e.stateNode.nextSibling):null;return!0}function Ys(){Qt=Fn=null,mt=!1}function F0(){var e=vi;return e!==null&&(Qn===null?Qn=e:Qn.push.apply(Qn,e),vi=null),e}function Xs(e){vi===null?vi=[e]:vi.push(e)}var Dc=he(null),Ti=null,fr=null;function Ur(e,n,i){ve(Dc,n._currentValue),n._currentValue=i}function dr(e){e._currentValue=Dc.current,Ee(Dc)}function Rc(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function Bc(e,n,i,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var S=d.child;p=p.firstContext;e:for(;p!==null;){var I=p;p=d;for(var j=0;j<n.length;j++)if(I.context===n[j]){p.lanes|=i,I=p.alternate,I!==null&&(I.lanes|=i),Rc(p.return,i,e),o||(S=null);break e}p=I.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(y(341));S.lanes|=i,p=S.alternate,p!==null&&(p.lanes|=i),Rc(S,i,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function qs(e,n,i,o){e=null;for(var d=n,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(y(387));if(S=S.memoizedProps,S!==null){var I=d.type;s(d.pendingProps.value,S.value)||(e!==null?e.push(I):e=[I])}}else if(d===Sn.current){if(S=d.alternate,S===null)throw Error(y(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}d=d.return}e!==null&&Bc(n,e,i,o),n.flags|=262144}function ro(e){for(e=e.firstContext;e!==null;){if(!s(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){Ti=e,fr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kn(e){return H0(Ti,e)}function io(e,n){return Ti===null&&_i(e),H0(e,n)}function H0(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},fr===null){if(e===null)throw Error(y(308));fr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else fr=fr.next=n;return i}var Qh=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},Wh=f.unstable_scheduleCallback,Kh=f.unstable_NormalPriority,mn={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new Qh,data:new Map,refCount:0}}function Zs(e){e.refCount--,e.refCount===0&&Wh(Kh,function(){e.controller.abort()})}var Qs=null,jc=0,is=0,ss=null;function Jh(e,n){if(Qs===null){var i=Qs=[];jc=0,is=Uu(),ss={status:"pending",value:void 0,then:function(o){i.push(o)}}}return jc++,n.then(G0,G0),n}function G0(){if(--jc===0&&Qs!==null){ss!==null&&(ss.status="fulfilled");var e=Qs;Qs=null,is=0,ss=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $h(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var d=0;d<i.length;d++)(0,i[d])(n)},function(d){for(o.status="rejected",o.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),o}var V0=J.S;J.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Jh(e,n),V0!==null&&V0(e,n)};var Ii=he(null);function kc(){var e=Ii.current;return e!==null?e:jt.pooledCache}function so(e,n){n===null?ve(Ii,Ii.current):ve(Ii,n.pool)}function Y0(){var e=kc();return e===null?null:{parent:mn._currentValue,pool:e}}var Ws=Error(y(460)),X0=Error(y(474)),lo=Error(y(542)),Uc={then:function(){}};function q0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function oo(){}function Z0(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(oo,oo),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,W0(e),e;default:if(typeof n.status=="string")n.then(oo,oo);else{if(e=jt,e!==null&&100<e.shellSuspendCounter)throw Error(y(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=o}},function(o){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,W0(e),e}throw Ks=n,Ws}}var Ks=null;function Q0(){if(Ks===null)throw Error(y(459));var e=Ks;return Ks=null,e}function W0(e){if(e===Ws||e===lo)throw Error(y(483))}var zr=!1;function zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fr(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ct&2)!==0){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,n=eo(e),j0(e,null,i),n}return $l(e,o,n,i),eo(e)}function Js(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Gn(e,i)}}function Fc(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var S={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?d=p=S:p=p.next=S,i=i.next}while(i!==null);p===null?d=p=n:p=p.next=n}else d=p=n;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Hc=!1;function $s(){if(Hc){var e=ss;if(e!==null)throw e}}function el(e,n,i,o){Hc=!1;var d=e.updateQueue;zr=!1;var p=d.firstBaseUpdate,S=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var j=I,Z=j.next;j.next=null,S===null?p=Z:S.next=Z,S=j;var ue=e.alternate;ue!==null&&(ue=ue.updateQueue,I=ue.lastBaseUpdate,I!==S&&(I===null?ue.firstBaseUpdate=Z:I.next=Z,ue.lastBaseUpdate=j))}if(p!==null){var ge=d.baseState;S=0,ue=Z=j=null,I=p;do{var K=I.lane&-536870913,ee=K!==I.lane;if(ee?(dt&K)===K:(o&K)===K){K!==0&&K===is&&(Hc=!0),ue!==null&&(ue=ue.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ye=e,Ge=I;K=n;var Ot=i;switch(Ge.tag){case 1:if(Ye=Ge.payload,typeof Ye=="function"){ge=Ye.call(Ot,ge,K);break e}ge=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Ge.payload,K=typeof Ye=="function"?Ye.call(Ot,ge,K):Ye,K==null)break e;ge=R({},ge,K);break e;case 2:zr=!0}}K=I.callback,K!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=d.callbacks,ee===null?d.callbacks=[K]:ee.push(K))}else ee={lane:K,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ue===null?(Z=ue=ee,j=ge):ue=ue.next=ee,S|=K;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;ee=I,I=ee.next,ee.next=null,d.lastBaseUpdate=ee,d.shared.pending=null}}while(!0);ue===null&&(j=ge),d.baseState=j,d.firstBaseUpdate=Z,d.lastBaseUpdate=ue,p===null&&(d.shared.lanes=0),Qr|=S,e.lanes=S,e.memoizedState=ge}}function K0(e,n){if(typeof e!="function")throw Error(y(191,e));e.call(n)}function J0(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)K0(i[e],n)}var ls=he(null),co=he(0);function $0(e,n){e=br,ve(co,e),ve(ls,n),br=e|n.baseLanes}function Gc(){ve(co,br),ve(ls,ls.current)}function Vc(){br=co.current,Ee(ls),Ee(co)}var Hr=0,$e=null,It=null,ln=null,uo=!1,os=!1,Mi=!1,fo=0,tl=0,cs=null,eg=0;function nn(){throw Error(y(321))}function Yc(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!s(e[i],n[i]))return!1;return!0}function Xc(e,n,i,o,d,p){return Hr=p,$e=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,J.H=e===null||e.memoizedState===null?kf:Uf,Mi=!1,p=i(o,d),Mi=!1,os&&(p=tf(n,i,o,d)),ef(e),p}function ef(e){J.H=yo;var n=It!==null&&It.next!==null;if(Hr=0,ln=It=$e=null,uo=!1,tl=0,cs=null,n)throw Error(y(300));e===null||An||(e=e.dependencies,e!==null&&ro(e)&&(An=!0))}function tf(e,n,i,o){$e=e;var d=0;do{if(os&&(cs=null),tl=0,os=!1,25<=d)throw Error(y(301));if(d+=1,ln=It=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}J.H=lg,p=n(i,o)}while(os);return p}function tg(){var e=J.H,n=e.useState()[0];return n=typeof n.then=="function"?nl(n):n,e=e.useState()[0],(It!==null?It.memoizedState:null)!==e&&($e.flags|=1024),n}function qc(){var e=fo!==0;return fo=0,e}function Zc(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Qc(e){if(uo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}uo=!1}Hr=0,ln=It=$e=null,os=!1,tl=fo=0,cs=null}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?$e.memoizedState=ln=e:ln=ln.next=e,ln}function on(){if(It===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var n=ln===null?$e.memoizedState:ln.next;if(n!==null)ln=n,It=e;else{if(e===null)throw $e.alternate===null?Error(y(467)):Error(y(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},ln===null?$e.memoizedState=ln=e:ln=ln.next=e}return ln}function Wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var n=tl;return tl+=1,cs===null&&(cs=[]),e=Z0(cs,e,n),n=$e,(ln===null?n.memoizedState:ln.next)===null&&(n=n.alternate,J.H=n===null||n.memoizedState===null?kf:Uf),e}function ho(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===le)return kn(e)}throw Error(y(438,String(e)))}function Kc(e){var n=null,i=$e.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=$e.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Wc(),$e.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=Ne;return n.index++,i}function hr(e,n){return typeof n=="function"?n(e):n}function go(e){var n=on();return Jc(n,It,e)}function Jc(e,n,i){var o=e.queue;if(o===null)throw Error(y(311));o.lastRenderedReducer=i;var d=e.baseQueue,p=o.pending;if(p!==null){if(d!==null){var S=d.next;d.next=p.next,p.next=S}n.baseQueue=d=p,o.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{n=d.next;var I=S=null,j=null,Z=n,ue=!1;do{var ge=Z.lane&-536870913;if(ge!==Z.lane?(dt&ge)===ge:(Hr&ge)===ge){var K=Z.revertLane;if(K===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ge===is&&(ue=!0);else if((Hr&K)===K){Z=Z.next,K===is&&(ue=!0);continue}else ge={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},j===null?(I=j=ge,S=p):j=j.next=ge,$e.lanes|=K,Qr|=K;ge=Z.action,Mi&&i(p,ge),p=Z.hasEagerState?Z.eagerState:i(p,ge)}else K={lane:ge,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},j===null?(I=j=K,S=p):j=j.next=K,$e.lanes|=ge,Qr|=ge;Z=Z.next}while(Z!==null&&Z!==n);if(j===null?S=p:j.next=I,!s(p,e.memoizedState)&&(An=!0,ue&&(i=ss,i!==null)))throw i;e.memoizedState=p,e.baseState=S,e.baseQueue=j,o.lastRenderedState=p}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function $c(e){var n=on(),i=n.queue;if(i===null)throw Error(y(311));i.lastRenderedReducer=e;var o=i.dispatch,d=i.pending,p=n.memoizedState;if(d!==null){i.pending=null;var S=d=d.next;do p=e(p,S.action),S=S.next;while(S!==d);s(p,n.memoizedState)||(An=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),i.lastRenderedState=p}return[p,o]}function nf(e,n,i){var o=$e,d=on(),p=mt;if(p){if(i===void 0)throw Error(y(407));i=i()}else i=n();var S=!s((It||d).memoizedState,i);S&&(d.memoizedState=i,An=!0),d=d.queue;var I=sf.bind(null,o,d,e);if(al(2048,8,I,[e]),d.getSnapshot!==n||S||ln!==null&&ln.memoizedState.tag&1){if(o.flags|=2048,us(9,xo(),rf.bind(null,o,d,i,n),null),jt===null)throw Error(y(349));p||(Hr&124)!==0||af(o,n,i)}return i}function af(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=$e.updateQueue,n===null?(n=Wc(),$e.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function rf(e,n,i,o){n.value=i,n.getSnapshot=o,lf(n)&&of(e)}function sf(e,n,i){return i(function(){lf(n)&&of(e)})}function lf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!s(e,i)}catch{return!0}}function of(e){var n=ts(e,2);n!==null&&ia(n,e,2)}function eu(e){var n=qn();if(typeof e=="function"){var i=e;if(e=i(),Mi){Nn(!0);try{i()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:e},n}function cf(e,n,i,o){return e.baseState=i,Jc(e,It,typeof o=="function"?o:hr)}function ng(e,n,i,o,d){if(po(e))throw Error(y(485));if(e=n.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};J.T!==null?i(!0):p.isTransition=!1,o(p),i=n.pending,i===null?(p.next=n.pending=p,uf(n,p)):(p.next=i.next,n.pending=i.next=p)}}function uf(e,n){var i=n.action,o=n.payload,d=e.state;if(n.isTransition){var p=J.T,S={};J.T=S;try{var I=i(d,o),j=J.S;j!==null&&j(S,I),ff(e,n,I)}catch(Z){tu(e,n,Z)}finally{J.T=p}}else try{p=i(d,o),ff(e,n,p)}catch(Z){tu(e,n,Z)}}function ff(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){df(e,n,o)},function(o){return tu(e,n,o)}):df(e,n,i)}function df(e,n,i){n.status="fulfilled",n.value=i,hf(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,uf(e,i)))}function tu(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,hf(n),n=n.next;while(n!==o)}e.action=null}function hf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function gf(e,n){return n}function xf(e,n){if(mt){var i=jt.formState;if(i!==null){e:{var o=$e;if(mt){if(Qt){t:{for(var d=Qt,p=Xa;d.nodeType!==8;){if(!p){d=null;break t}if(d=_a(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Qt=_a(d.nextSibling),o=d.data==="F!";break e}}Ni(o)}o=!1}o&&(n=i[0])}}return i=qn(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gf,lastRenderedState:n},i.queue=o,i=Bf.bind(null,$e,o),o.dispatch=i,o=eu(!1),p=su.bind(null,$e,!1,o.queue),o=qn(),d={state:n,dispatch:null,action:e,pending:null},o.queue=d,i=ng.bind(null,$e,d,p,i),d.dispatch=i,o.memoizedState=e,[n,i,!1]}function mf(e){var n=on();return pf(n,It,e)}function pf(e,n,i){if(n=Jc(e,n,gf)[0],e=go(hr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=nl(n)}catch(S){throw S===Ws?lo:S}else o=n;n=on();var d=n.queue,p=d.dispatch;return i!==n.memoizedState&&($e.flags|=2048,us(9,xo(),ag.bind(null,d,i),null)),[o,p,e]}function ag(e,n){e.action=n}function yf(e){var n=on(),i=It;if(i!==null)return pf(n,i,e);on(),n=n.memoizedState,i=on();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function us(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=$e.updateQueue,n===null&&(n=Wc(),$e.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function xo(){return{destroy:void 0,resource:void 0}}function bf(){return on().memoizedState}function mo(e,n,i,o){var d=qn();o=o===void 0?null:o,$e.flags|=e,d.memoizedState=us(1|n,xo(),i,o)}function al(e,n,i,o){var d=on();o=o===void 0?null:o;var p=d.memoizedState.inst;It!==null&&o!==null&&Yc(o,It.memoizedState.deps)?d.memoizedState=us(n,p,i,o):($e.flags|=e,d.memoizedState=us(1|n,p,i,o))}function wf(e,n){mo(8390656,8,e,n)}function Af(e,n){al(2048,8,e,n)}function Ef(e,n){return al(4,2,e,n)}function Cf(e,n){return al(4,4,e,n)}function Sf(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vf(e,n,i){i=i!=null?i.concat([e]):null,al(4,4,Sf.bind(null,n,e),i)}function nu(){}function Nf(e,n){var i=on();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&Yc(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function Tf(e,n){var i=on();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&Yc(n,o[1]))return o[0];if(o=e(),Mi){Nn(!0);try{e()}finally{Nn(!1)}}return i.memoizedState=[o,n],o}function au(e,n,i){return i===void 0||(Hr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=M1(),$e.lanes|=e,Qr|=e,i)}function _f(e,n,i,o){return s(i,n)?i:ls.current!==null?(e=au(e,i,o),s(e,n)||(An=!0),e):(Hr&42)===0?(An=!0,e.memoizedState=i):(e=M1(),$e.lanes|=e,Qr|=e,n)}function If(e,n,i,o,d){var p=de.p;de.p=p!==0&&8>p?p:8;var S=J.T,I={};J.T=I,su(e,!1,n,i);try{var j=d(),Z=J.S;if(Z!==null&&Z(I,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ue=$h(j,o);rl(e,n,ue,ra(e))}else rl(e,n,o,ra(e))}catch(ge){rl(e,n,{then:function(){},status:"rejected",reason:ge},ra())}finally{de.p=p,J.T=S}}function rg(){}function ru(e,n,i,o){if(e.tag!==5)throw Error(y(476));var d=Mf(e).queue;If(e,d,n,je,i===null?rg:function(){return Of(e),i(o)})}function Mf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:je,baseState:je,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:je},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Of(e){var n=Mf(e).next.queue;rl(e,n,{},ra())}function iu(){return kn(El)}function Df(){return on().memoizedState}function Rf(){return on().memoizedState}function ig(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=ra();e=Pr(i);var o=Fr(n,e,i);o!==null&&(ia(o,n,i),Js(o,n,i)),n={cache:Lc()},e.payload=n;return}n=n.return}}function sg(e,n,i){var o=ra();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},po(e)?Lf(n,i):(i=vc(e,n,i,o),i!==null&&(ia(i,e,o),jf(i,n,o)))}function Bf(e,n,i){var o=ra();rl(e,n,i,o)}function rl(e,n,i,o){var d={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(po(e))Lf(n,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var S=n.lastRenderedState,I=p(S,i);if(d.hasEagerState=!0,d.eagerState=I,s(I,S))return $l(e,n,d,0),jt===null&&Jl(),!1}catch{}finally{}if(i=vc(e,n,d,o),i!==null)return ia(i,e,o),jf(i,n,o),!0}return!1}function su(e,n,i,o){if(o={lane:2,revertLane:Uu(),action:o,hasEagerState:!1,eagerState:null,next:null},po(e)){if(n)throw Error(y(479))}else n=vc(e,i,o,2),n!==null&&ia(n,e,2)}function po(e){var n=e.alternate;return e===$e||n!==null&&n===$e}function Lf(e,n){os=uo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function jf(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Gn(e,i)}}var yo={readContext:kn,use:ho,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn},kf={readContext:kn,use:ho,useCallback:function(e,n){return qn().memoizedState=[e,n===void 0?null:n],e},useContext:kn,useEffect:wf,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,mo(4194308,4,Sf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return mo(4194308,4,e,n)},useInsertionEffect:function(e,n){mo(4,2,e,n)},useMemo:function(e,n){var i=qn();n=n===void 0?null:n;var o=e();if(Mi){Nn(!0);try{e()}finally{Nn(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=qn();if(i!==void 0){var d=i(n);if(Mi){Nn(!0);try{i(n)}finally{Nn(!1)}}}else d=n;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=sg.bind(null,$e,e),[o.memoizedState,e]},useRef:function(e){var n=qn();return e={current:e},n.memoizedState=e},useState:function(e){e=eu(e);var n=e.queue,i=Bf.bind(null,$e,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:nu,useDeferredValue:function(e,n){var i=qn();return au(i,e,n)},useTransition:function(){var e=eu(!1);return e=If.bind(null,$e,e.queue,!0,!1),qn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=$e,d=qn();if(mt){if(i===void 0)throw Error(y(407));i=i()}else{if(i=n(),jt===null)throw Error(y(349));(dt&124)!==0||af(o,n,i)}d.memoizedState=i;var p={value:i,getSnapshot:n};return d.queue=p,wf(sf.bind(null,o,p,e),[e]),o.flags|=2048,us(9,xo(),rf.bind(null,o,p,i,n),null),i},useId:function(){var e=qn(),n=jt.identifierPrefix;if(mt){var i=ur,o=cr;i=(o&~(1<<32-bt(o)-1)).toString(32)+i,n="«"+n+"R"+i,i=fo++,0<i&&(n+="H"+i.toString(32)),n+="»"}else i=eg++,n="«"+n+"r"+i.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:iu,useFormState:xf,useActionState:xf,useOptimistic:function(e){var n=qn();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=su.bind(null,$e,!0,i),i.dispatch=n,[e,n]},useMemoCache:Kc,useCacheRefresh:function(){return qn().memoizedState=ig.bind(null,$e)}},Uf={readContext:kn,use:ho,useCallback:Nf,useContext:kn,useEffect:Af,useImperativeHandle:vf,useInsertionEffect:Ef,useLayoutEffect:Cf,useMemo:Tf,useReducer:go,useRef:bf,useState:function(){return go(hr)},useDebugValue:nu,useDeferredValue:function(e,n){var i=on();return _f(i,It.memoizedState,e,n)},useTransition:function(){var e=go(hr)[0],n=on().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:nf,useId:Df,useHostTransitionStatus:iu,useFormState:mf,useActionState:mf,useOptimistic:function(e,n){var i=on();return cf(i,It,e,n)},useMemoCache:Kc,useCacheRefresh:Rf},lg={readContext:kn,use:ho,useCallback:Nf,useContext:kn,useEffect:Af,useImperativeHandle:vf,useInsertionEffect:Ef,useLayoutEffect:Cf,useMemo:Tf,useReducer:$c,useRef:bf,useState:function(){return $c(hr)},useDebugValue:nu,useDeferredValue:function(e,n){var i=on();return It===null?au(i,e,n):_f(i,It.memoizedState,e,n)},useTransition:function(){var e=$c(hr)[0],n=on().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:nf,useId:Df,useHostTransitionStatus:iu,useFormState:yf,useActionState:yf,useOptimistic:function(e,n){var i=on();return It!==null?cf(i,It,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Kc,useCacheRefresh:Rf},fs=null,il=0;function bo(e){var n=il;return il+=1,fs===null&&(fs=[]),Z0(fs,e,n)}function sl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function wo(e,n){throw n.$$typeof===L?Error(y(525)):(e=Object.prototype.toString.call(n),Error(y(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function zf(e){var n=e._init;return n(e._payload)}function Pf(e){function n(F,P){if(e){var Y=F.deletions;Y===null?(F.deletions=[P],F.flags|=16):Y.push(P)}}function i(F,P){if(!e)return null;for(;P!==null;)n(F,P),P=P.sibling;return null}function o(F){for(var P=new Map;F!==null;)F.key!==null?P.set(F.key,F):P.set(F.index,F),F=F.sibling;return P}function d(F,P){return F=or(F,P),F.index=0,F.sibling=null,F}function p(F,P,Y){return F.index=Y,e?(Y=F.alternate,Y!==null?(Y=Y.index,Y<P?(F.flags|=67108866,P):Y):(F.flags|=67108866,P)):(F.flags|=1048576,P)}function S(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function I(F,P,Y,fe){return P===null||P.tag!==6?(P=Tc(Y,F.mode,fe),P.return=F,P):(P=d(P,Y),P.return=F,P)}function j(F,P,Y,fe){var Be=Y.type;return Be===ae?ue(F,P,Y.props.children,fe,Y.key):P!==null&&(P.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===be&&zf(Be)===P.type)?(P=d(P,Y.props),sl(P,Y),P.return=F,P):(P=to(Y.type,Y.key,Y.props,null,F.mode,fe),sl(P,Y),P.return=F,P)}function Z(F,P,Y,fe){return P===null||P.tag!==4||P.stateNode.containerInfo!==Y.containerInfo||P.stateNode.implementation!==Y.implementation?(P=_c(Y,F.mode,fe),P.return=F,P):(P=d(P,Y.children||[]),P.return=F,P)}function ue(F,P,Y,fe,Be){return P===null||P.tag!==7?(P=Ei(Y,F.mode,fe,Be),P.return=F,P):(P=d(P,Y),P.return=F,P)}function ge(F,P,Y){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Tc(""+P,F.mode,Y),P.return=F,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return Y=to(P.type,P.key,P.props,null,F.mode,Y),sl(Y,P),Y.return=F,Y;case ie:return P=_c(P,F.mode,Y),P.return=F,P;case be:var fe=P._init;return P=fe(P._payload),ge(F,P,Y)}if(X(P)||Ae(P))return P=Ei(P,F.mode,Y,null),P.return=F,P;if(typeof P.then=="function")return ge(F,bo(P),Y);if(P.$$typeof===le)return ge(F,io(F,P),Y);wo(F,P)}return null}function K(F,P,Y,fe){var Be=P!==null?P.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Be!==null?null:I(F,P,""+Y,fe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return Y.key===Be?j(F,P,Y,fe):null;case ie:return Y.key===Be?Z(F,P,Y,fe):null;case be:return Be=Y._init,Y=Be(Y._payload),K(F,P,Y,fe)}if(X(Y)||Ae(Y))return Be!==null?null:ue(F,P,Y,fe,null);if(typeof Y.then=="function")return K(F,P,bo(Y),fe);if(Y.$$typeof===le)return K(F,P,io(F,Y),fe);wo(F,Y)}return null}function ee(F,P,Y,fe,Be){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return F=F.get(Y)||null,I(P,F,""+fe,Be);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case H:return F=F.get(fe.key===null?Y:fe.key)||null,j(P,F,fe,Be);case ie:return F=F.get(fe.key===null?Y:fe.key)||null,Z(P,F,fe,Be);case be:var et=fe._init;return fe=et(fe._payload),ee(F,P,Y,fe,Be)}if(X(fe)||Ae(fe))return F=F.get(Y)||null,ue(P,F,fe,Be,null);if(typeof fe.then=="function")return ee(F,P,Y,bo(fe),Be);if(fe.$$typeof===le)return ee(F,P,Y,io(P,fe),Be);wo(P,fe)}return null}function Ye(F,P,Y,fe){for(var Be=null,et=null,ze=P,Ve=P=0,Cn=null;ze!==null&&Ve<Y.length;Ve++){ze.index>Ve?(Cn=ze,ze=null):Cn=ze.sibling;var xt=K(F,ze,Y[Ve],fe);if(xt===null){ze===null&&(ze=Cn);break}e&&ze&&xt.alternate===null&&n(F,ze),P=p(xt,P,Ve),et===null?Be=xt:et.sibling=xt,et=xt,ze=Cn}if(Ve===Y.length)return i(F,ze),mt&&Si(F,Ve),Be;if(ze===null){for(;Ve<Y.length;Ve++)ze=ge(F,Y[Ve],fe),ze!==null&&(P=p(ze,P,Ve),et===null?Be=ze:et.sibling=ze,et=ze);return mt&&Si(F,Ve),Be}for(ze=o(ze);Ve<Y.length;Ve++)Cn=ee(ze,F,Ve,Y[Ve],fe),Cn!==null&&(e&&Cn.alternate!==null&&ze.delete(Cn.key===null?Ve:Cn.key),P=p(Cn,P,Ve),et===null?Be=Cn:et.sibling=Cn,et=Cn);return e&&ze.forEach(function(ri){return n(F,ri)}),mt&&Si(F,Ve),Be}function Ge(F,P,Y,fe){if(Y==null)throw Error(y(151));for(var Be=null,et=null,ze=P,Ve=P=0,Cn=null,xt=Y.next();ze!==null&&!xt.done;Ve++,xt=Y.next()){ze.index>Ve?(Cn=ze,ze=null):Cn=ze.sibling;var ri=K(F,ze,xt.value,fe);if(ri===null){ze===null&&(ze=Cn);break}e&&ze&&ri.alternate===null&&n(F,ze),P=p(ri,P,Ve),et===null?Be=ri:et.sibling=ri,et=ri,ze=Cn}if(xt.done)return i(F,ze),mt&&Si(F,Ve),Be;if(ze===null){for(;!xt.done;Ve++,xt=Y.next())xt=ge(F,xt.value,fe),xt!==null&&(P=p(xt,P,Ve),et===null?Be=xt:et.sibling=xt,et=xt);return mt&&Si(F,Ve),Be}for(ze=o(ze);!xt.done;Ve++,xt=Y.next())xt=ee(ze,F,Ve,xt.value,fe),xt!==null&&(e&&xt.alternate!==null&&ze.delete(xt.key===null?Ve:xt.key),P=p(xt,P,Ve),et===null?Be=xt:et.sibling=xt,et=xt);return e&&ze.forEach(function(ox){return n(F,ox)}),mt&&Si(F,Ve),Be}function Ot(F,P,Y,fe){if(typeof Y=="object"&&Y!==null&&Y.type===ae&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:e:{for(var Be=Y.key;P!==null;){if(P.key===Be){if(Be=Y.type,Be===ae){if(P.tag===7){i(F,P.sibling),fe=d(P,Y.props.children),fe.return=F,F=fe;break e}}else if(P.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===be&&zf(Be)===P.type){i(F,P.sibling),fe=d(P,Y.props),sl(fe,Y),fe.return=F,F=fe;break e}i(F,P);break}else n(F,P);P=P.sibling}Y.type===ae?(fe=Ei(Y.props.children,F.mode,fe,Y.key),fe.return=F,F=fe):(fe=to(Y.type,Y.key,Y.props,null,F.mode,fe),sl(fe,Y),fe.return=F,F=fe)}return S(F);case ie:e:{for(Be=Y.key;P!==null;){if(P.key===Be)if(P.tag===4&&P.stateNode.containerInfo===Y.containerInfo&&P.stateNode.implementation===Y.implementation){i(F,P.sibling),fe=d(P,Y.children||[]),fe.return=F,F=fe;break e}else{i(F,P);break}else n(F,P);P=P.sibling}fe=_c(Y,F.mode,fe),fe.return=F,F=fe}return S(F);case be:return Be=Y._init,Y=Be(Y._payload),Ot(F,P,Y,fe)}if(X(Y))return Ye(F,P,Y,fe);if(Ae(Y)){if(Be=Ae(Y),typeof Be!="function")throw Error(y(150));return Y=Be.call(Y),Ge(F,P,Y,fe)}if(typeof Y.then=="function")return Ot(F,P,bo(Y),fe);if(Y.$$typeof===le)return Ot(F,P,io(F,Y),fe);wo(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,P!==null&&P.tag===6?(i(F,P.sibling),fe=d(P,Y),fe.return=F,F=fe):(i(F,P),fe=Tc(Y,F.mode,fe),fe.return=F,F=fe),S(F)):i(F,P)}return function(F,P,Y,fe){try{il=0;var Be=Ot(F,P,Y,fe);return fs=null,Be}catch(ze){if(ze===Ws||ze===lo)throw ze;var et=ea(29,ze,null,F.mode);return et.lanes=fe,et.return=F,et}finally{}}}var ds=Pf(!0),Ff=Pf(!1),ma=he(null),qa=null;function Gr(e){var n=e.alternate;ve(pn,pn.current&1),ve(ma,e),qa===null&&(n===null||ls.current!==null||n.memoizedState!==null)&&(qa=e)}function Hf(e){if(e.tag===22){if(ve(pn,pn.current),ve(ma,e),qa===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(qa=e)}}else Vr()}function Vr(){ve(pn,pn.current),ve(ma,ma.current)}function gr(e){Ee(ma),qa===e&&(qa=null),Ee(pn)}var pn=he(0);function Ao(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Wu(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function lu(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:R({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ou={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=ra(),d=Pr(o);d.payload=n,i!=null&&(d.callback=i),n=Fr(e,d,o),n!==null&&(ia(n,e,o),Js(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=ra(),d=Pr(o);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Fr(e,d,o),n!==null&&(ia(n,e,o),Js(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=ra(),o=Pr(i);o.tag=2,n!=null&&(o.callback=n),n=Fr(e,o,i),n!==null&&(ia(n,e,i),Js(n,e,i))}};function Gf(e,n,i,o,d,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,p,S):n.prototype&&n.prototype.isPureReactComponent?!l(i,o)||!l(d,p):!0}function Vf(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&ou.enqueueReplaceState(n,n.state,null)}function Oi(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=R({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}var Eo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Yf(e){Eo(e)}function Xf(e){console.error(e)}function qf(e){Eo(e)}function Co(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Zf(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function cu(e,n,i){return i=Pr(i),i.tag=3,i.payload={element:null},i.callback=function(){Co(e,n)},i}function Qf(e){return e=Pr(e),e.tag=3,e}function Wf(e,n,i,o){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;e.payload=function(){return d(p)},e.callback=function(){Zf(n,i,o)}}var S=i.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Zf(n,i,o),typeof d!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})})}function og(e,n,i,o,d){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&qs(n,i,d,!0),i=ma.current,i!==null){switch(i.tag){case 13:return qa===null?Ru():i.alternate===null&&Wt===0&&(Wt=3),i.flags&=-257,i.flags|=65536,i.lanes=d,o===Uc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),Lu(e,o,d)),!1;case 22:return i.flags|=65536,o===Uc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),Lu(e,o,d)),!1}throw Error(y(435,i.tag))}return Lu(e,o,d),Ru(),!1}if(mt)return n=ma.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,o!==Oc&&(e=Error(y(422),{cause:o}),Xs(da(e,i)))):(o!==Oc&&(n=Error(y(423),{cause:o}),Xs(da(n,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=da(o,i),d=cu(e.stateNode,o,d),Fc(e,d),Wt!==4&&(Wt=2)),!1;var p=Error(y(520),{cause:o});if(p=da(p,i),hl===null?hl=[p]:hl.push(p),Wt!==4&&(Wt=2),n===null)return!0;o=da(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=cu(i.stateNode,o,e),Fc(i,e),!1;case 1:if(n=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Wr===null||!Wr.has(p))))return i.flags|=65536,d&=-d,i.lanes|=d,d=Qf(d),Wf(d,e,i,o),Fc(i,d),!1}i=i.return}while(i!==null);return!1}var Kf=Error(y(461)),An=!1;function _n(e,n,i,o){n.child=e===null?Ff(n,null,i,o):ds(n,e.child,i,o)}function Jf(e,n,i,o,d){i=i.render;var p=n.ref;if("ref"in o){var S={};for(var I in o)I!=="ref"&&(S[I]=o[I])}else S=o;return _i(n),o=Xc(e,n,i,S,p,d),I=qc(),e!==null&&!An?(Zc(e,n,d),xr(e,n,d)):(mt&&I&&Ic(n),n.flags|=1,_n(e,n,o,d),n.child)}function $f(e,n,i,o,d){if(e===null){var p=i.type;return typeof p=="function"&&!Nc(p)&&p.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=p,e1(e,n,p,o,d)):(e=to(i.type,null,o,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!pu(e,d)){var S=p.memoizedProps;if(i=i.compare,i=i!==null?i:l,i(S,o)&&e.ref===n.ref)return xr(e,n,d)}return n.flags|=1,e=or(p,o),e.ref=n.ref,e.return=n,n.child=e}function e1(e,n,i,o,d){if(e!==null){var p=e.memoizedProps;if(l(p,o)&&e.ref===n.ref)if(An=!1,n.pendingProps=o=p,pu(e,d))(e.flags&131072)!==0&&(An=!0);else return n.lanes=e.lanes,xr(e,n,d)}return uu(e,n,i,o,d)}function t1(e,n,i){var o=n.pendingProps,d=o.children,p=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=p!==null?p.baseLanes|i:i,e!==null){for(d=n.child=e.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;n.childLanes=p&~o}else n.childLanes=0,n.child=null;return n1(e,n,o,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&so(n,p!==null?p.cachePool:null),p!==null?$0(n,p):Gc(),Hf(n);else return n.lanes=n.childLanes=536870912,n1(e,n,p!==null?p.baseLanes|i:i,i)}else p!==null?(so(n,p.cachePool),$0(n,p),Vr(),n.memoizedState=null):(e!==null&&so(n,null),Gc(),Vr());return _n(e,n,d,i),n.child}function n1(e,n,i,o){var d=kc();return d=d===null?null:{parent:mn._currentValue,pool:d},n.memoizedState={baseLanes:i,cachePool:d},e!==null&&so(n,null),Gc(),Hf(n),e!==null&&qs(e,n,o,!0),null}function So(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(y(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function uu(e,n,i,o,d){return _i(n),i=Xc(e,n,i,o,void 0,d),o=qc(),e!==null&&!An?(Zc(e,n,d),xr(e,n,d)):(mt&&o&&Ic(n),n.flags|=1,_n(e,n,i,d),n.child)}function a1(e,n,i,o,d,p){return _i(n),n.updateQueue=null,i=tf(n,o,i,d),ef(e),o=qc(),e!==null&&!An?(Zc(e,n,p),xr(e,n,p)):(mt&&o&&Ic(n),n.flags|=1,_n(e,n,i,p),n.child)}function r1(e,n,i,o,d){if(_i(n),n.stateNode===null){var p=ns,S=i.contextType;typeof S=="object"&&S!==null&&(p=kn(S)),p=new i(o,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ou,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=o,p.state=n.memoizedState,p.refs={},zc(n),S=i.contextType,p.context=typeof S=="object"&&S!==null?kn(S):ns,p.state=n.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(lu(n,i,S,o),p.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&ou.enqueueReplaceState(p,p.state,null),el(n,o,p,d),$s(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){p=n.stateNode;var I=n.memoizedProps,j=Oi(i,I);p.props=j;var Z=p.context,ue=i.contextType;S=ns,typeof ue=="object"&&ue!==null&&(S=kn(ue));var ge=i.getDerivedStateFromProps;ue=typeof ge=="function"||typeof p.getSnapshotBeforeUpdate=="function",I=n.pendingProps!==I,ue||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(I||Z!==S)&&Vf(n,p,o,S),zr=!1;var K=n.memoizedState;p.state=K,el(n,o,p,d),$s(),Z=n.memoizedState,I||K!==Z||zr?(typeof ge=="function"&&(lu(n,i,ge,o),Z=n.memoizedState),(j=zr||Gf(n,i,j,o,K,Z,S))?(ue||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=Z),p.props=o,p.state=Z,p.context=S,o=j):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{p=n.stateNode,Pc(e,n),S=n.memoizedProps,ue=Oi(i,S),p.props=ue,ge=n.pendingProps,K=p.context,Z=i.contextType,j=ns,typeof Z=="object"&&Z!==null&&(j=kn(Z)),I=i.getDerivedStateFromProps,(Z=typeof I=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==ge||K!==j)&&Vf(n,p,o,j),zr=!1,K=n.memoizedState,p.state=K,el(n,o,p,d),$s();var ee=n.memoizedState;S!==ge||K!==ee||zr||e!==null&&e.dependencies!==null&&ro(e.dependencies)?(typeof I=="function"&&(lu(n,i,I,o),ee=n.memoizedState),(ue=zr||Gf(n,i,ue,o,K,ee,j)||e!==null&&e.dependencies!==null&&ro(e.dependencies))?(Z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,ee,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,ee,j)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ee),p.props=o,p.state=ee,p.context=j,o=ue):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),o=!1)}return p=o,So(e,n),o=(n.flags&128)!==0,p||o?(p=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&o?(n.child=ds(n,e.child,null,d),n.child=ds(n,null,i,d)):_n(e,n,i,d),n.memoizedState=p.state,e=n.child):e=xr(e,n,d),e}function i1(e,n,i,o){return Ys(),n.flags|=256,_n(e,n,i,o),n.child}var fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function du(e){return{baseLanes:e,cachePool:Y0()}}function hu(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=pa),e}function s1(e,n,i){var o=n.pendingProps,d=!1,p=(n.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(pn.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(mt){if(d?Gr(n):Vr(),mt){var I=Qt,j;if(j=I){e:{for(j=I,I=Xa;j.nodeType!==8;){if(!I){I=null;break e}if(j=_a(j.nextSibling),j===null){I=null;break e}}I=j}I!==null?(n.memoizedState={dehydrated:I,treeContext:Ci!==null?{id:cr,overflow:ur}:null,retryLane:536870912,hydrationErrors:null},j=ea(18,null,null,0),j.stateNode=I,j.return=n,n.child=j,Fn=n,Qt=null,j=!0):j=!1}j||Ni(n)}if(I=n.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Wu(I)?n.lanes=32:n.lanes=536870912,null;gr(n)}return I=o.children,o=o.fallback,d?(Vr(),d=n.mode,I=vo({mode:"hidden",children:I},d),o=Ei(o,d,i,null),I.return=n,o.return=n,I.sibling=o,n.child=I,d=n.child,d.memoizedState=du(i),d.childLanes=hu(e,S,i),n.memoizedState=fu,o):(Gr(n),gu(n,I))}if(j=e.memoizedState,j!==null&&(I=j.dehydrated,I!==null)){if(p)n.flags&256?(Gr(n),n.flags&=-257,n=xu(e,n,i)):n.memoizedState!==null?(Vr(),n.child=e.child,n.flags|=128,n=null):(Vr(),d=o.fallback,I=n.mode,o=vo({mode:"visible",children:o.children},I),d=Ei(d,I,i,null),d.flags|=2,o.return=n,d.return=n,o.sibling=d,n.child=o,ds(n,e.child,null,i),o=n.child,o.memoizedState=du(i),o.childLanes=hu(e,S,i),n.memoizedState=fu,n=d);else if(Gr(n),Wu(I)){if(S=I.nextSibling&&I.nextSibling.dataset,S)var Z=S.dgst;S=Z,o=Error(y(419)),o.stack="",o.digest=S,Xs({value:o,source:null,stack:null}),n=xu(e,n,i)}else if(An||qs(e,n,i,!1),S=(i&e.childLanes)!==0,An||S){if(S=jt,S!==null&&(o=i&-i,o=(o&42)!==0?1:fi(o),o=(o&(S.suspendedLanes|i))!==0?0:o,o!==0&&o!==j.retryLane))throw j.retryLane=o,ts(e,o),ia(S,e,o),Kf;I.data==="$?"||Ru(),n=xu(e,n,i)}else I.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=j.treeContext,Qt=_a(I.nextSibling),Fn=n,mt=!0,vi=null,Xa=!1,e!==null&&(ga[xa++]=cr,ga[xa++]=ur,ga[xa++]=Ci,cr=e.id,ur=e.overflow,Ci=n),n=gu(n,o.children),n.flags|=4096);return n}return d?(Vr(),d=o.fallback,I=n.mode,j=e.child,Z=j.sibling,o=or(j,{mode:"hidden",children:o.children}),o.subtreeFlags=j.subtreeFlags&65011712,Z!==null?d=or(Z,d):(d=Ei(d,I,i,null),d.flags|=2),d.return=n,o.return=n,o.sibling=d,n.child=o,o=d,d=n.child,I=e.child.memoizedState,I===null?I=du(i):(j=I.cachePool,j!==null?(Z=mn._currentValue,j=j.parent!==Z?{parent:Z,pool:Z}:j):j=Y0(),I={baseLanes:I.baseLanes|i,cachePool:j}),d.memoizedState=I,d.childLanes=hu(e,S,i),n.memoizedState=fu,o):(Gr(n),i=e.child,e=i.sibling,i=or(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=i,n.memoizedState=null,i)}function gu(e,n){return n=vo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function vo(e,n){return e=ea(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function xu(e,n,i){return ds(n,e.child,null,i),e=gu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function l1(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Rc(e.return,n,i)}function mu(e,n,i,o,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=i,p.tailMode=d)}function o1(e,n,i){var o=n.pendingProps,d=o.revealOrder,p=o.tail;if(_n(e,n,o.children,i),o=pn.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&l1(e,i,n);else if(e.tag===19)l1(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(ve(pn,o),d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&Ao(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),mu(n,!1,d,i,p);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Ao(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}mu(n,!0,i,null,p);break;case"together":mu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function xr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Qr|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(qs(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(y(153));if(n.child!==null){for(e=n.child,i=or(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=or(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function pu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ro(e)))}function cg(e,n,i){switch(n.tag){case 3:Qe(n,n.stateNode.containerInfo),Ur(n,mn,e.memoizedState.cache),Ys();break;case 27:case 5:er(n);break;case 4:Qe(n,n.stateNode.containerInfo);break;case 10:Ur(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Gr(n),n.flags|=128,null):(i&n.child.childLanes)!==0?s1(e,n,i):(Gr(n),e=xr(e,n,i),e!==null?e.sibling:null);Gr(n);break;case 19:var d=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(qs(e,n,i,!1),o=(i&n.childLanes)!==0),d){if(o)return o1(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ve(pn,pn.current),o)break;return null;case 22:case 23:return n.lanes=0,t1(e,n,i);case 24:Ur(n,mn,e.memoizedState.cache)}return xr(e,n,i)}function c1(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)An=!0;else{if(!pu(e,i)&&(n.flags&128)===0)return An=!1,cg(e,n,i);An=(e.flags&131072)!==0}else An=!1,mt&&(n.flags&1048576)!==0&&U0(n,ao,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,d=o._init;if(o=d(o._payload),n.type=o,typeof o=="function")Nc(o)?(e=Oi(o,e),n.tag=1,n=r1(null,n,o,e,i)):(n.tag=0,n=uu(null,n,o,e,i));else{if(o!=null){if(d=o.$$typeof,d===Se){n.tag=11,n=Jf(null,n,o,e,i);break e}else if(d===re){n.tag=14,n=$f(null,n,o,e,i);break e}}throw n=tt(o)||o,Error(y(306,n,""))}}return n;case 0:return uu(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,d=Oi(o,n.pendingProps),r1(e,n,o,d,i);case 3:e:{if(Qe(n,n.stateNode.containerInfo),e===null)throw Error(y(387));o=n.pendingProps;var p=n.memoizedState;d=p.element,Pc(e,n),el(n,o,null,i);var S=n.memoizedState;if(o=S.cache,Ur(n,mn,o),o!==p.cache&&Bc(n,[mn],i,!0),$s(),o=S.element,p.isDehydrated)if(p={element:o,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=i1(e,n,o,i);break e}else if(o!==d){d=da(Error(y(424)),n),Xs(d),n=i1(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qt=_a(e.firstChild),Fn=n,mt=!0,vi=null,Xa=!0,i=Ff(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Ys(),o===d){n=xr(e,n,i);break e}_n(e,n,o,i)}n=n.child}return n;case 26:return So(e,n),e===null?(i=hd(n.type,null,n.pendingProps,null))?n.memoizedState=i:mt||(i=n.type,e=n.pendingProps,o=zo(ye.current).createElement(i),o[yn]=n,o[Xt]=e,Mn(o,i,e),wt(o),n.stateNode=o):n.memoizedState=hd(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return er(n),e===null&&mt&&(o=n.stateNode=ud(n.type,n.pendingProps,ye.current),Fn=n,Xa=!0,d=Qt,$r(n.type)?(Ku=d,Qt=_a(o.firstChild)):Qt=d),_n(e,n,n.pendingProps.children,i),So(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&mt&&((d=o=Qt)&&(o=kg(o,n.type,n.pendingProps,Xa),o!==null?(n.stateNode=o,Fn=n,Qt=_a(o.firstChild),Xa=!1,d=!0):d=!1),d||Ni(n)),er(n),d=n.type,p=n.pendingProps,S=e!==null?e.memoizedProps:null,o=p.children,qu(d,p)?o=null:S!==null&&qu(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=Xc(e,n,tg,null,null,i),El._currentValue=d),So(e,n),_n(e,n,o,i),n.child;case 6:return e===null&&mt&&((e=i=Qt)&&(i=Ug(i,n.pendingProps,Xa),i!==null?(n.stateNode=i,Fn=n,Qt=null,e=!0):e=!1),e||Ni(n)),null;case 13:return s1(e,n,i);case 4:return Qe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ds(n,null,o,i):_n(e,n,o,i),n.child;case 11:return Jf(e,n,n.type,n.pendingProps,i);case 7:return _n(e,n,n.pendingProps,i),n.child;case 8:return _n(e,n,n.pendingProps.children,i),n.child;case 12:return _n(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Ur(n,n.type,o.value),_n(e,n,o.children,i),n.child;case 9:return d=n.type._context,o=n.pendingProps.children,_i(n),d=kn(d),o=o(d),n.flags|=1,_n(e,n,o,i),n.child;case 14:return $f(e,n,n.type,n.pendingProps,i);case 15:return e1(e,n,n.type,n.pendingProps,i);case 19:return o1(e,n,i);case 31:return o=n.pendingProps,i=n.mode,o={mode:o.mode,children:o.children},e===null?(i=vo(o,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=or(e.child,o),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return t1(e,n,i);case 24:return _i(n),o=kn(mn),e===null?(d=kc(),d===null&&(d=jt,p=Lc(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=i),d=p),n.memoizedState={parent:o,cache:d},zc(n),Ur(n,mn,d)):((e.lanes&i)!==0&&(Pc(e,n),el(n,null,null,i),$s()),d=e.memoizedState,p=n.memoizedState,d.parent!==o?(d={parent:o,cache:o},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Ur(n,mn,o)):(o=p.cache,Ur(n,mn,o),o!==d.cache&&Bc(n,[mn],i,!0))),_n(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(y(156,n.tag))}function mr(e){e.flags|=4}function u1(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!yd(n)){if(n=ma.current,n!==null&&((dt&4194048)===dt?qa!==null:(dt&62914560)!==dt&&(dt&536870912)===0||n!==qa))throw Ks=Uc,X0;e.flags|=8192}}function No(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Rs():536870912,e.lanes|=n,ms|=n)}function ll(e,n){if(!mt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Yt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function ug(e,n,i){var o=n.pendingProps;switch(Mc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(n),null;case 1:return Yt(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),dr(mn),Hn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Vs(n)?mr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,F0())),Yt(n),null;case 26:return i=n.memoizedState,e===null?(mr(n),i!==null?(Yt(n),u1(n,i)):(Yt(n),n.flags&=-16777217)):i?i!==e.memoizedState?(mr(n),Yt(n),u1(n,i)):(Yt(n),n.flags&=-16777217):(e.memoizedProps!==o&&mr(n),Yt(n),n.flags&=-16777217),null;case 27:cn(n),i=ye.current;var d=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&mr(n);else{if(!o){if(n.stateNode===null)throw Error(y(166));return Yt(n),null}e=De.current,Vs(n)?z0(n):(e=ud(d,o,i),n.stateNode=e,mr(n))}return Yt(n),null;case 5:if(cn(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&mr(n);else{if(!o){if(n.stateNode===null)throw Error(y(166));return Yt(n),null}if(e=De.current,Vs(n))z0(n);else{switch(d=zo(ye.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?d.createElement(i,{is:o.is}):d.createElement(i)}}e[yn]=n,e[Xt]=o;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=e;e:switch(Mn(e,i,o),i){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&mr(n)}}return Yt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&mr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(y(166));if(e=ye.current,Vs(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,d=Fn,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[yn]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||ad(e.nodeValue,i)),e||Ni(n)}else e=zo(e).createTextNode(o),e[yn]=n,n.stateNode=e}return Yt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Vs(n),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(y(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(y(317));d[yn]=n}else Ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yt(n),d=!1}else d=F0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(gr(n),n):(gr(n),null)}if(gr(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=o!==null,e=e!==null&&e.memoizedState!==null,i){o=n.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var p=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),No(n,n.updateQueue),Yt(n),null;case 4:return Hn(),e===null&&Hu(n.stateNode.containerInfo),Yt(n),null;case 10:return dr(n.type),Yt(n),null;case 19:if(Ee(pn),d=n.memoizedState,d===null)return Yt(n),null;if(o=(n.flags&128)!==0,p=d.rendering,p===null)if(o)ll(d,!1);else{if(Wt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Ao(e),p!==null){for(n.flags|=128,ll(d,!1),e=p.updateQueue,n.updateQueue=e,No(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)k0(i,e),i=i.sibling;return ve(pn,pn.current&1|2),n.child}e=e.sibling}d.tail!==null&&Nt()>Io&&(n.flags|=128,o=!0,ll(d,!1),n.lanes=4194304)}else{if(!o)if(e=Ao(p),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,No(n,e),ll(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!mt)return Yt(n),null}else 2*Nt()-d.renderingStartTime>Io&&i!==536870912&&(n.flags|=128,o=!0,ll(d,!1),n.lanes=4194304);d.isBackwards?(p.sibling=n.child,n.child=p):(e=d.last,e!==null?e.sibling=p:n.child=p,d.last=p)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Nt(),n.sibling=null,e=pn.current,ve(pn,o?e&1|2:e&1),n):(Yt(n),null);case 22:case 23:return gr(n),Vc(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(Yt(n),n.subtreeFlags&6&&(n.flags|=8192)):Yt(n),i=n.updateQueue,i!==null&&No(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&Ee(Ii),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),dr(mn),Yt(n),null;case 25:return null;case 30:return null}throw Error(y(156,n.tag))}function fg(e,n){switch(Mc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return dr(mn),Hn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return cn(n),null;case 13:if(gr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(y(340));Ys()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ee(pn),null;case 4:return Hn(),null;case 10:return dr(n.type),null;case 22:case 23:return gr(n),Vc(),e!==null&&Ee(Ii),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return dr(mn),null;case 25:return null;default:return null}}function f1(e,n){switch(Mc(n),n.tag){case 3:dr(mn),Hn();break;case 26:case 27:case 5:cn(n);break;case 4:Hn();break;case 13:gr(n);break;case 19:Ee(pn);break;case 10:dr(n.type);break;case 22:case 23:gr(n),Vc(),e!==null&&Ee(Ii);break;case 24:dr(mn)}}function ol(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var d=o.next;i=d;do{if((i.tag&e)===e){o=void 0;var p=i.create,S=i.inst;o=p(),S.destroy=o}i=i.next}while(i!==d)}}catch(I){Bt(n,n.return,I)}}function Yr(e,n,i){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var p=d.next;o=p;do{if((o.tag&e)===e){var S=o.inst,I=S.destroy;if(I!==void 0){S.destroy=void 0,d=n;var j=i,Z=I;try{Z()}catch(ue){Bt(d,j,ue)}}}o=o.next}while(o!==p)}}catch(ue){Bt(n,n.return,ue)}}function d1(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{J0(n,i)}catch(o){Bt(e,e.return,o)}}}function h1(e,n,i){i.props=Oi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Bt(e,n,o)}}function cl(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(d){Bt(e,n,d)}}function Za(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(d){Bt(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Bt(e,n,d)}else i.current=null}function g1(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(d){Bt(e,e.return,d)}}function yu(e,n,i){try{var o=e.stateNode;Dg(o,e.type,i,n),o[Xt]=n}catch(d){Bt(e,e.return,d)}}function x1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$r(e.type)||e.tag===4}function bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$r(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wu(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Uo));else if(o!==4&&(o===27&&$r(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(wu(e,n,i),e=e.sibling;e!==null;)wu(e,n,i),e=e.sibling}function To(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&$r(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(To(e,n,i),e=e.sibling;e!==null;)To(e,n,i),e=e.sibling}function m1(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Mn(n,o,i),n[yn]=e,n[Xt]=i}catch(p){Bt(e,e.return,p)}}var pr=!1,an=!1,Au=!1,p1=typeof WeakSet=="function"?WeakSet:Set,En=null;function dg(e,n){if(e=e.containerInfo,Yu=Yo,e=b(e),C(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var S=0,I=-1,j=-1,Z=0,ue=0,ge=e,K=null;t:for(;;){for(var ee;ge!==i||d!==0&&ge.nodeType!==3||(I=S+d),ge!==p||o!==0&&ge.nodeType!==3||(j=S+o),ge.nodeType===3&&(S+=ge.nodeValue.length),(ee=ge.firstChild)!==null;)K=ge,ge=ee;for(;;){if(ge===e)break t;if(K===i&&++Z===d&&(I=S),K===p&&++ue===o&&(j=S),(ee=ge.nextSibling)!==null)break;ge=K,K=ge.parentNode}ge=ee}i=I===-1||j===-1?null:{start:I,end:j}}else i=null}i=i||{start:0,end:0}}else i=null;for(Xu={focusedElem:e,selectionRange:i},Yo=!1,En=n;En!==null;)if(n=En,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,En=e;else for(;En!==null;){switch(n=En,p=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,i=n,d=p.memoizedProps,p=p.memoizedState,o=i.stateNode;try{var Ye=Oi(i.type,d,i.elementType===i.type);e=o.getSnapshotBeforeUpdate(Ye,p),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ge){Bt(i,i.return,Ge)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Qu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(y(163))}if(e=n.sibling,e!==null){e.return=n.return,En=e;break}En=n.return}}function y1(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Xr(e,i),o&4&&ol(5,i);break;case 1:if(Xr(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(S){Bt(i,i.return,S)}else{var d=Oi(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Bt(i,i.return,S)}}o&64&&d1(i),o&512&&cl(i,i.return);break;case 3:if(Xr(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{J0(e,n)}catch(S){Bt(i,i.return,S)}}break;case 27:n===null&&o&4&&m1(i);case 26:case 5:Xr(e,i),n===null&&o&4&&g1(i),o&512&&cl(i,i.return);break;case 12:Xr(e,i);break;case 13:Xr(e,i),o&4&&A1(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Ag.bind(null,i),zg(e,i))));break;case 22:if(o=i.memoizedState!==null||pr,!o){n=n!==null&&n.memoizedState!==null||an,d=pr;var p=an;pr=o,(an=n)&&!p?qr(e,i,(i.subtreeFlags&8772)!==0):Xr(e,i),pr=d,an=p}break;case 30:break;default:Xr(e,i)}}function b1(e){var n=e.alternate;n!==null&&(e.alternate=null,b1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&di(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ht=null,Zn=!1;function yr(e,n,i){for(i=i.child;i!==null;)w1(e,n,i),i=i.sibling}function w1(e,n,i){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(vn,i)}catch{}switch(i.tag){case 26:an||Za(i,n),yr(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:an||Za(i,n);var o=Ht,d=Zn;$r(i.type)&&(Ht=i.stateNode,Zn=!1),yr(e,n,i),yl(i.stateNode),Ht=o,Zn=d;break;case 5:an||Za(i,n);case 6:if(o=Ht,d=Zn,Ht=null,yr(e,n,i),Ht=o,Zn=d,Ht!==null)if(Zn)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(i.stateNode)}catch(p){Bt(i,n,p)}else try{Ht.removeChild(i.stateNode)}catch(p){Bt(i,n,p)}break;case 18:Ht!==null&&(Zn?(e=Ht,od(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Nl(e)):od(Ht,i.stateNode));break;case 4:o=Ht,d=Zn,Ht=i.stateNode.containerInfo,Zn=!0,yr(e,n,i),Ht=o,Zn=d;break;case 0:case 11:case 14:case 15:an||Yr(2,i,n),an||Yr(4,i,n),yr(e,n,i);break;case 1:an||(Za(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&h1(i,n,o)),yr(e,n,i);break;case 21:yr(e,n,i);break;case 22:an=(o=an)||i.memoizedState!==null,yr(e,n,i),an=o;break;default:yr(e,n,i)}}function A1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nl(e)}catch(i){Bt(n,n.return,i)}}function hg(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new p1),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new p1),n;default:throw Error(y(435,e.tag))}}function Eu(e,n){var i=hg(e);n.forEach(function(o){var d=Eg.bind(null,e,o);i.has(o)||(i.add(o),o.then(d,d))})}function ta(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o],p=e,S=n,I=S;e:for(;I!==null;){switch(I.tag){case 27:if($r(I.type)){Ht=I.stateNode,Zn=!1;break e}break;case 5:Ht=I.stateNode,Zn=!1;break e;case 3:case 4:Ht=I.stateNode.containerInfo,Zn=!0;break e}I=I.return}if(Ht===null)throw Error(y(160));w1(p,S,d),Ht=null,Zn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)E1(n,e),n=n.sibling}var Ta=null;function E1(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ta(n,e),na(e),o&4&&(Yr(3,e,e.return),ol(3,e),Yr(5,e,e.return));break;case 1:ta(n,e),na(e),o&512&&(an||i===null||Za(i,i.return)),o&64&&pr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var d=Ta;if(ta(n,e),na(e),o&512&&(an||i===null||Za(i,i.return)),o&4){var p=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":p=d.getElementsByTagName("title")[0],(!p||p[ua]||p[yn]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(o),d.head.insertBefore(p,d.querySelector("head > title"))),Mn(p,o,i),p[yn]=e,wt(p),o=p;break e;case"link":var S=md("link","href",d).get(o+(i.href||""));if(S){for(var I=0;I<S.length;I++)if(p=S[I],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){S.splice(I,1);break t}}p=d.createElement(o),Mn(p,o,i),d.head.appendChild(p);break;case"meta":if(S=md("meta","content",d).get(o+(i.content||""))){for(I=0;I<S.length;I++)if(p=S[I],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){S.splice(I,1);break t}}p=d.createElement(o),Mn(p,o,i),d.head.appendChild(p);break;default:throw Error(y(468,o))}p[yn]=e,wt(p),o=p}e.stateNode=o}else pd(d,e.type,e.stateNode);else e.stateNode=xd(d,o,e.memoizedProps);else p!==o?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,o===null?pd(d,e.type,e.stateNode):xd(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&yu(e,e.memoizedProps,i.memoizedProps)}break;case 27:ta(n,e),na(e),o&512&&(an||i===null||Za(i,i.return)),i!==null&&o&4&&yu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(ta(n,e),na(e),o&512&&(an||i===null||Za(i,i.return)),e.flags&32){d=e.stateNode;try{hn(d,"")}catch(ee){Bt(e,e.return,ee)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,yu(e,d,i!==null?i.memoizedProps:d)),o&1024&&(Au=!0);break;case 6:if(ta(n,e),na(e),o&4){if(e.stateNode===null)throw Error(y(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(ee){Bt(e,e.return,ee)}}break;case 3:if(Ho=null,d=Ta,Ta=Po(n.containerInfo),ta(n,e),Ta=d,na(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Nl(n.containerInfo)}catch(ee){Bt(e,e.return,ee)}Au&&(Au=!1,C1(e));break;case 4:o=Ta,Ta=Po(e.stateNode.containerInfo),ta(n,e),na(e),Ta=o;break;case 12:ta(n,e),na(e);break;case 13:ta(n,e),na(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(_u=Nt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Eu(e,o)));break;case 22:d=e.memoizedState!==null;var j=i!==null&&i.memoizedState!==null,Z=pr,ue=an;if(pr=Z||d,an=ue||j,ta(n,e),an=ue,pr=Z,na(e),o&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(i===null||j||pr||an||Di(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){j=i=n;try{if(p=j.stateNode,d)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{I=j.stateNode;var ge=j.memoizedProps.style,K=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;I.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ee){Bt(j,j.return,ee)}}}else if(n.tag===6){if(i===null){j=n;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(ee){Bt(j,j.return,ee)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Eu(e,i))));break;case 19:ta(n,e),na(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Eu(e,o)));break;case 30:break;case 21:break;default:ta(n,e),na(e)}}function na(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(x1(o)){i=o;break}o=o.return}if(i==null)throw Error(y(160));switch(i.tag){case 27:var d=i.stateNode,p=bu(e);To(e,p,d);break;case 5:var S=i.stateNode;i.flags&32&&(hn(S,""),i.flags&=-33);var I=bu(e);To(e,I,S);break;case 3:case 4:var j=i.stateNode.containerInfo,Z=bu(e);wu(e,Z,j);break;default:throw Error(y(161))}}catch(ue){Bt(e,e.return,ue)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function C1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;C1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)y1(e,n.alternate,n),n=n.sibling}function Di(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Yr(4,n,n.return),Di(n);break;case 1:Za(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&h1(n,n.return,i),Di(n);break;case 27:yl(n.stateNode);case 26:case 5:Za(n,n.return),Di(n);break;case 22:n.memoizedState===null&&Di(n);break;case 30:Di(n);break;default:Di(n)}e=e.sibling}}function qr(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,d=e,p=n,S=p.flags;switch(p.tag){case 0:case 11:case 15:qr(d,p,i),ol(4,p);break;case 1:if(qr(d,p,i),o=p,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Z){Bt(o,o.return,Z)}if(o=p,d=o.updateQueue,d!==null){var I=o.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)K0(j[d],I)}catch(Z){Bt(o,o.return,Z)}}i&&S&64&&d1(p),cl(p,p.return);break;case 27:m1(p);case 26:case 5:qr(d,p,i),i&&o===null&&S&4&&g1(p),cl(p,p.return);break;case 12:qr(d,p,i);break;case 13:qr(d,p,i),i&&S&4&&A1(d,p);break;case 22:p.memoizedState===null&&qr(d,p,i),cl(p,p.return);break;case 30:break;default:qr(d,p,i)}n=n.sibling}}function Cu(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Zs(i))}function Su(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zs(e))}function Qa(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)S1(e,n,i,o),n=n.sibling}function S1(e,n,i,o){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Qa(e,n,i,o),d&2048&&ol(9,n);break;case 1:Qa(e,n,i,o);break;case 3:Qa(e,n,i,o),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zs(e)));break;case 12:if(d&2048){Qa(e,n,i,o),e=n.stateNode;try{var p=n.memoizedProps,S=p.id,I=p.onPostCommit;typeof I=="function"&&I(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Bt(n,n.return,j)}}else Qa(e,n,i,o);break;case 13:Qa(e,n,i,o);break;case 23:break;case 22:p=n.stateNode,S=n.alternate,n.memoizedState!==null?p._visibility&2?Qa(e,n,i,o):ul(e,n):p._visibility&2?Qa(e,n,i,o):(p._visibility|=2,hs(e,n,i,o,(n.subtreeFlags&10256)!==0)),d&2048&&Cu(S,n);break;case 24:Qa(e,n,i,o),d&2048&&Su(n.alternate,n);break;default:Qa(e,n,i,o)}}function hs(e,n,i,o,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var p=e,S=n,I=i,j=o,Z=S.flags;switch(S.tag){case 0:case 11:case 15:hs(p,S,I,j,d),ol(8,S);break;case 23:break;case 22:var ue=S.stateNode;S.memoizedState!==null?ue._visibility&2?hs(p,S,I,j,d):ul(p,S):(ue._visibility|=2,hs(p,S,I,j,d)),d&&Z&2048&&Cu(S.alternate,S);break;case 24:hs(p,S,I,j,d),d&&Z&2048&&Su(S.alternate,S);break;default:hs(p,S,I,j,d)}n=n.sibling}}function ul(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,d=o.flags;switch(o.tag){case 22:ul(i,o),d&2048&&Cu(o.alternate,o);break;case 24:ul(i,o),d&2048&&Su(o.alternate,o);break;default:ul(i,o)}n=n.sibling}}var fl=8192;function gs(e){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)v1(e),e=e.sibling}function v1(e){switch(e.tag){case 26:gs(e),e.flags&fl&&e.memoizedState!==null&&Jg(Ta,e.memoizedState,e.memoizedProps);break;case 5:gs(e);break;case 3:case 4:var n=Ta;Ta=Po(e.stateNode.containerInfo),gs(e),Ta=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=fl,fl=16777216,gs(e),fl=n):gs(e));break;default:gs(e)}}function N1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function dl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];En=o,_1(o,e)}N1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)T1(e),e=e.sibling}function T1(e){switch(e.tag){case 0:case 11:case 15:dl(e),e.flags&2048&&Yr(9,e,e.return);break;case 3:dl(e);break;case 12:dl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,_o(e)):dl(e);break;default:dl(e)}}function _o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];En=o,_1(o,e)}N1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Yr(8,n,n.return),_o(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,_o(n));break;default:_o(n)}e=e.sibling}}function _1(e,n){for(;En!==null;){var i=En;switch(i.tag){case 0:case 11:case 15:Yr(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Zs(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,En=o;else e:for(i=e;En!==null;){o=En;var d=o.sibling,p=o.return;if(b1(o),o===i){En=null;break e}if(d!==null){d.return=p,En=d;break e}En=p}}}var gg={getCacheForType:function(e){var n=kn(mn),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},xg=typeof WeakMap=="function"?WeakMap:Map,Ct=0,jt=null,at=null,dt=0,St=0,aa=null,Zr=!1,xs=!1,vu=!1,br=0,Wt=0,Qr=0,Ri=0,Nu=0,pa=0,ms=0,hl=null,Qn=null,Tu=!1,_u=0,Io=1/0,Mo=null,Wr=null,In=0,Kr=null,ps=null,ys=0,Iu=0,Mu=null,I1=null,gl=0,Ou=null;function ra(){if((Ct&2)!==0&&dt!==0)return dt&-dt;if(J.T!==null){var e=is;return e!==0?e:Uu()}return tr()}function M1(){pa===0&&(pa=(dt&536870912)===0||mt?Pi():536870912);var e=ma.current;return e!==null&&(e.flags|=32),pa}function ia(e,n,i){(e===jt&&(St===2||St===9)||e.cancelPendingCommit!==null)&&(bs(e,0),Jr(e,dt,pa,!1)),Wn(e,i),((Ct&2)===0||e!==jt)&&(e===jt&&((Ct&2)===0&&(Ri|=i),Wt===4&&Jr(e,dt,pa,!1)),Wa(e))}function O1(e,n,i){if((Ct&6)!==0)throw Error(y(327));var o=!i&&(n&124)===0&&(n&e.expiredLanes)===0||_t(e,n),d=o?yg(e,n):Bu(e,n,!0),p=o;do{if(d===0){xs&&!o&&Jr(e,n,0,!1);break}else{if(i=e.current.alternate,p&&!mg(i)){d=Bu(e,n,!1),p=!1;continue}if(d===2){if(p=n,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var I=e;d=hl;var j=I.current.memoizedState.isDehydrated;if(j&&(bs(I,S).flags|=256),S=Bu(I,S,!1),S!==2){if(vu&&!j){I.errorRecoveryDisabledLanes|=p,Ri|=p,d=4;break e}p=Qn,Qn=d,p!==null&&(Qn===null?Qn=p:Qn.push.apply(Qn,p))}d=S}if(p=!1,d!==2)continue}}if(d===1){bs(e,0),Jr(e,n,0,!0);break}e:{switch(o=e,p=d,p){case 0:case 1:throw Error(y(345));case 4:if((n&4194048)!==n)break;case 6:Jr(o,n,pa,!Zr);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(y(329))}if((n&62914560)===n&&(d=_u+300-Nt(),10<d)){if(Jr(o,n,pa,!Zr),ht(o,0,!0)!==0)break e;o.timeoutHandle=sd(D1.bind(null,o,i,Qn,Mo,Tu,n,pa,Ri,ms,Zr,p,2,-0,0),d);break e}D1(o,i,Qn,Mo,Tu,n,pa,Ri,ms,Zr,p,0,-0,0)}}break}while(!0);Wa(e)}function D1(e,n,i,o,d,p,S,I,j,Z,ue,ge,K,ee){if(e.timeoutHandle=-1,ge=n.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:Kg},v1(n),ge=$g(),ge!==null)){e.cancelPendingCommit=ge(z1.bind(null,e,n,p,i,o,d,S,I,j,ue,1,K,ee)),Jr(e,p,S,!Z);return}z1(e,n,p,i,o,d,S,I,j)}function mg(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var d=i[o],p=d.getSnapshot;d=d.value;try{if(!s(p(),d))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Jr(e,n,i,o){n&=~Nu,n&=~Ri,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var d=n;0<d;){var p=31-bt(d),S=1<<p;o[p]=-1,d&=~S}i!==0&&Bs(e,i,n)}function Oo(){return(Ct&6)===0?(xl(0),!1):!0}function Du(){if(at!==null){if(St===0)var e=at.return;else e=at,fr=Ti=null,Qc(e),fs=null,il=0,e=at;for(;e!==null;)f1(e.alternate,e),e=e.return;at=null}}function bs(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Bg(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Du(),jt=e,at=i=or(e.current,null),dt=n,St=0,aa=null,Zr=!1,xs=_t(e,n),vu=!1,ms=pa=Nu=Ri=Qr=Wt=0,Qn=hl=null,Tu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var d=31-bt(o),p=1<<d;n|=e[d],o&=~p}return br=n,Jl(),i}function R1(e,n){$e=null,J.H=yo,n===Ws||n===lo?(n=Q0(),St=3):n===X0?(n=Q0(),St=4):St=n===Kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,aa=n,at===null&&(Wt=1,Co(e,da(n,e.current)))}function B1(){var e=J.H;return J.H=yo,e===null?yo:e}function L1(){var e=J.A;return J.A=gg,e}function Ru(){Wt=4,Zr||(dt&4194048)!==dt&&ma.current!==null||(xs=!0),(Qr&134217727)===0&&(Ri&134217727)===0||jt===null||Jr(jt,dt,pa,!1)}function Bu(e,n,i){var o=Ct;Ct|=2;var d=B1(),p=L1();(jt!==e||dt!==n)&&(Mo=null,bs(e,n)),n=!1;var S=Wt;e:do try{if(St!==0&&at!==null){var I=at,j=aa;switch(St){case 8:Du(),S=6;break e;case 3:case 2:case 9:case 6:ma.current===null&&(n=!0);var Z=St;if(St=0,aa=null,ws(e,I,j,Z),i&&xs){S=0;break e}break;default:Z=St,St=0,aa=null,ws(e,I,j,Z)}}pg(),S=Wt;break}catch(ue){R1(e,ue)}while(!0);return n&&e.shellSuspendCounter++,fr=Ti=null,Ct=o,J.H=d,J.A=p,at===null&&(jt=null,dt=0,Jl()),S}function pg(){for(;at!==null;)j1(at)}function yg(e,n){var i=Ct;Ct|=2;var o=B1(),d=L1();jt!==e||dt!==n?(Mo=null,Io=Nt()+500,bs(e,n)):xs=_t(e,n);e:do try{if(St!==0&&at!==null){n=at;var p=aa;t:switch(St){case 1:St=0,aa=null,ws(e,n,p,1);break;case 2:case 9:if(q0(p)){St=0,aa=null,k1(n);break}n=function(){St!==2&&St!==9||jt!==e||(St=7),Wa(e)},p.then(n,n);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:q0(p)?(St=0,aa=null,k1(n)):(St=0,aa=null,ws(e,n,p,7));break;case 5:var S=null;switch(at.tag){case 26:S=at.memoizedState;case 5:case 27:var I=at;if(!S||yd(S)){St=0,aa=null;var j=I.sibling;if(j!==null)at=j;else{var Z=I.return;Z!==null?(at=Z,Do(Z)):at=null}break t}}St=0,aa=null,ws(e,n,p,5);break;case 6:St=0,aa=null,ws(e,n,p,6);break;case 8:Du(),Wt=6;break e;default:throw Error(y(462))}}bg();break}catch(ue){R1(e,ue)}while(!0);return fr=Ti=null,J.H=o,J.A=d,Ct=i,at!==null?0:(jt=null,dt=0,Jl(),Wt)}function bg(){for(;at!==null&&!ca();)j1(at)}function j1(e){var n=c1(e.alternate,e,br);e.memoizedProps=e.pendingProps,n===null?Do(e):at=n}function k1(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=a1(i,n,n.pendingProps,n.type,void 0,dt);break;case 11:n=a1(i,n,n.pendingProps,n.type.render,n.ref,dt);break;case 5:Qc(n);default:f1(i,n),n=at=k0(n,br),n=c1(i,n,br)}e.memoizedProps=e.pendingProps,n===null?Do(e):at=n}function ws(e,n,i,o){fr=Ti=null,Qc(n),fs=null,il=0;var d=n.return;try{if(og(e,d,n,i,dt)){Wt=1,Co(e,da(i,e.current)),at=null;return}}catch(p){if(d!==null)throw at=d,p;Wt=1,Co(e,da(i,e.current)),at=null;return}n.flags&32768?(mt||o===1?e=!0:xs||(dt&536870912)!==0?e=!1:(Zr=e=!0,(o===2||o===9||o===3||o===6)&&(o=ma.current,o!==null&&o.tag===13&&(o.flags|=16384))),U1(n,e)):Do(n)}function Do(e){var n=e;do{if((n.flags&32768)!==0){U1(n,Zr);return}e=n.return;var i=ug(n.alternate,n,br);if(i!==null){at=i;return}if(n=n.sibling,n!==null){at=n;return}at=n=e}while(n!==null);Wt===0&&(Wt=5)}function U1(e,n){do{var i=fg(e.alternate,e);if(i!==null){i.flags&=32767,at=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){at=e;return}at=e=i}while(e!==null);Wt=6,at=null}function z1(e,n,i,o,d,p,S,I,j){e.cancelPendingCommit=null;do Ro();while(In!==0);if((Ct&6)!==0)throw Error(y(327));if(n!==null){if(n===e.current)throw Error(y(177));if(p=n.lanes|n.childLanes,p|=Sc,Fl(e,i,p,S,I,j),e===jt&&(at=jt=null,dt=0),ps=n,Kr=e,ys=i,Iu=p,Mu=d,I1=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Cg(Re,function(){return V1(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=J.T,J.T=null,d=de.p,de.p=2,S=Ct,Ct|=4;try{dg(e,n,i)}finally{Ct=S,de.p=d,J.T=o}}In=1,P1(),F1(),H1()}}function P1(){if(In===1){In=0;var e=Kr,n=ps,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=J.T,J.T=null;var o=de.p;de.p=2;var d=Ct;Ct|=4;try{E1(n,e);var p=Xu,S=b(e.containerInfo),I=p.focusedElem,j=p.selectionRange;if(S!==I&&I&&I.ownerDocument&&x(I.ownerDocument.documentElement,I)){if(j!==null&&C(I)){var Z=j.start,ue=j.end;if(ue===void 0&&(ue=Z),"selectionStart"in I)I.selectionStart=Z,I.selectionEnd=Math.min(ue,I.value.length);else{var ge=I.ownerDocument||document,K=ge&&ge.defaultView||window;if(K.getSelection){var ee=K.getSelection(),Ye=I.textContent.length,Ge=Math.min(j.start,Ye),Ot=j.end===void 0?Ge:Math.min(j.end,Ye);!ee.extend&&Ge>Ot&&(S=Ot,Ot=Ge,Ge=S);var F=u(I,Ge),P=u(I,Ot);if(F&&P&&(ee.rangeCount!==1||ee.anchorNode!==F.node||ee.anchorOffset!==F.offset||ee.focusNode!==P.node||ee.focusOffset!==P.offset)){var Y=ge.createRange();Y.setStart(F.node,F.offset),ee.removeAllRanges(),Ge>Ot?(ee.addRange(Y),ee.extend(P.node,P.offset)):(Y.setEnd(P.node,P.offset),ee.addRange(Y))}}}}for(ge=[],ee=I;ee=ee.parentNode;)ee.nodeType===1&&ge.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ge.length;I++){var fe=ge[I];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Yo=!!Yu,Xu=Yu=null}finally{Ct=d,de.p=o,J.T=i}}e.current=n,In=2}}function F1(){if(In===2){In=0;var e=Kr,n=ps,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=J.T,J.T=null;var o=de.p;de.p=2;var d=Ct;Ct|=4;try{y1(e,n.alternate,n)}finally{Ct=d,de.p=o,J.T=i}}In=3}}function H1(){if(In===4||In===3){In=0,oi();var e=Kr,n=ps,i=ys,o=I1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?In=5:(In=0,ps=Kr=null,G1(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Wr=null),rn(i),n=n.stateNode,On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(vn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=J.T,d=de.p,de.p=2,J.T=null;try{for(var p=e.onRecoverableError,S=0;S<o.length;S++){var I=o[S];p(I.value,{componentStack:I.stack})}}finally{J.T=n,de.p=d}}(ys&3)!==0&&Ro(),Wa(e),d=e.pendingLanes,(i&4194090)!==0&&(d&42)!==0?e===Ou?gl++:(gl=0,Ou=e):gl=0,xl(0)}}function G1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Zs(n)))}function Ro(e){return P1(),F1(),H1(),V1()}function V1(){if(In!==5)return!1;var e=Kr,n=Iu;Iu=0;var i=rn(ys),o=J.T,d=de.p;try{de.p=32>i?32:i,J.T=null,i=Mu,Mu=null;var p=Kr,S=ys;if(In=0,ps=Kr=null,ys=0,(Ct&6)!==0)throw Error(y(331));var I=Ct;if(Ct|=4,T1(p.current),S1(p,p.current,S,i),Ct=I,xl(0,!1),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(vn,p)}catch{}return!0}finally{de.p=d,J.T=o,G1(e,n)}}function Y1(e,n,i){n=da(i,n),n=cu(e.stateNode,n,2),e=Fr(e,n,2),e!==null&&(Wn(e,2),Wa(e))}function Bt(e,n,i){if(e.tag===3)Y1(e,e,i);else for(;n!==null;){if(n.tag===3){Y1(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Wr===null||!Wr.has(o))){e=da(i,e),i=Qf(2),o=Fr(n,i,2),o!==null&&(Wf(i,o,n,e),Wn(o,2),Wa(o));break}}n=n.return}}function Lu(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new xg;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(i)||(vu=!0,d.add(i),e=wg.bind(null,e,n,i),n.then(e,e))}function wg(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,jt===e&&(dt&i)===i&&(Wt===4||Wt===3&&(dt&62914560)===dt&&300>Nt()-_u?(Ct&2)===0&&bs(e,0):Nu|=i,ms===dt&&(ms=0)),Wa(e)}function X1(e,n){n===0&&(n=Rs()),e=ts(e,n),e!==null&&(Wn(e,n),Wa(e))}function Ag(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),X1(e,i)}function Eg(e,n){var i=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(y(314))}o!==null&&o.delete(n),X1(e,i)}function Cg(e,n){return ct(e,n)}var Bo=null,As=null,ju=!1,Lo=!1,ku=!1,Bi=0;function Wa(e){e!==As&&e.next===null&&(As===null?Bo=As=e:As=As.next=e),Lo=!0,ju||(ju=!0,vg())}function xl(e,n){if(!ku&&Lo){ku=!0;do for(var i=!1,o=Bo;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var p=0;else{var S=o.suspendedLanes,I=o.pingedLanes;p=(1<<31-bt(42|e)+1)-1,p&=d&~(S&~I),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,W1(o,p))}else p=dt,p=ht(o,o===jt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(p&3)===0||_t(o,p)||(i=!0,W1(o,p));o=o.next}while(i);ku=!1}}function Sg(){q1()}function q1(){Lo=ju=!1;var e=0;Bi!==0&&(Rg()&&(e=Bi),Bi=0);for(var n=Nt(),i=null,o=Bo;o!==null;){var d=o.next,p=Z1(o,n);p===0?(o.next=null,i===null?Bo=d:i.next=d,d===null&&(As=i)):(i=o,(e!==0||(p&3)!==0)&&(Lo=!0)),o=d}xl(e)}function Z1(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-bt(p),I=1<<S,j=d[S];j===-1?((I&i)===0||(I&o)!==0)&&(d[S]=ui(I,n)):j<=n&&(e.expiredLanes|=I),p&=~I}if(n=jt,i=dt,i=ht(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(St===2||St===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Da(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||_t(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&Da(o),rn(i)){case 2:case 8:i=ci;break;case 32:i=Re;break;case 268435456:i=Os;break;default:i=Re}return o=Q1.bind(null,e),i=ct(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&Da(o),e.callbackPriority=2,e.callbackNode=null,2}function Q1(e,n){if(In!==0&&In!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Ro()&&e.callbackNode!==i)return null;var o=dt;return o=ht(e,e===jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(O1(e,o,n),Z1(e,Nt()),e.callbackNode!=null&&e.callbackNode===i?Q1.bind(null,e):null)}function W1(e,n){if(Ro())return null;O1(e,n,!0)}function vg(){Lg(function(){(Ct&6)!==0?ct(lt,Sg):q1()})}function Uu(){return Bi===0&&(Bi=Pi()),Bi}function K1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xi(""+e)}function J1(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function Ng(e,n,i,o,d){if(n==="submit"&&i&&i.stateNode===d){var p=K1((d[Xt]||null).action),S=o.submitter;S&&(n=(n=S[Xt]||null)?K1(n.formAction):S.getAttribute("formAction"),n!==null&&(p=n,S=null));var I=new Ha("action","action",null,o,d);e.push({event:I,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Bi!==0){var j=S?J1(d,S):new FormData(d);ru(i,{pending:!0,data:j,method:d.method,action:p},null,j)}}else typeof p=="function"&&(I.preventDefault(),j=S?J1(d,S):new FormData(d),ru(i,{pending:!0,data:j,method:d.method,action:p},p,j))},currentTarget:d}]})}}for(var zu=0;zu<Ya.length;zu++){var Pu=Ya[zu],Tg=Pu.toLowerCase(),_g=Pu[0].toUpperCase()+Pu.slice(1);$n(Tg,"on"+_g)}$n(Xe,"onAnimationEnd"),$n(Tn,"onAnimationIteration"),$n(Xn,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Ln,"onTransitionRun"),$n(Et,"onTransitionStart"),$n(xn,"onTransitionCancel"),$n(jn,"onTransitionEnd"),qt("onMouseEnter",["mouseout","mouseover"]),qt("onMouseLeave",["mouseout","mouseover"]),qt("onPointerEnter",["pointerout","pointerover"]),qt("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ig=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function $1(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],d=o.event;o=o.listeners;e:{var p=void 0;if(n)for(var S=o.length-1;0<=S;S--){var I=o[S],j=I.instance,Z=I.currentTarget;if(I=I.listener,j!==p&&d.isPropagationStopped())break e;p=I,d.currentTarget=Z;try{p(d)}catch(ue){Eo(ue)}d.currentTarget=null,p=j}else for(S=0;S<o.length;S++){if(I=o[S],j=I.instance,Z=I.currentTarget,I=I.listener,j!==p&&d.isPropagationStopped())break e;p=I,d.currentTarget=Z;try{p(d)}catch(ue){Eo(ue)}d.currentTarget=null,p=j}}}}function rt(e,n){var i=n[bn];i===void 0&&(i=n[bn]=new Set);var o=e+"__bubble";i.has(o)||(ed(n,e,2,!1),i.add(o))}function Fu(e,n,i){var o=0;n&&(o|=4),ed(i,e,o,n)}var jo="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[jo]){e[jo]=!0,Hl.forEach(function(i){i!=="selectionchange"&&(Ig.has(i)||Fu(i,!1,e),Fu(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[jo]||(n[jo]=!0,Fu("selectionchange",!1,n))}}function ed(e,n,i,o){switch(Sd(n)){case 2:var d=nx;break;case 8:d=ax;break;default:d=n0}i=d.bind(null,n,i,e),d=void 0,!qe||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function Gu(e,n,i,o,d){var p=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var S=o.tag;if(S===3||S===4){var I=o.stateNode.containerInfo;if(I===d)break;if(S===4)for(S=o.return;S!==null;){var j=S.tag;if((j===3||j===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;I!==null;){if(S=Jt(I),S===null)return;if(j=S.tag,j===5||j===6||j===26||j===27){o=p=S;continue e}I=I.parentNode}}o=o.return}Sa(function(){var Z=p,ue=Tr(i),ge=[];e:{var K=lr.get(e);if(K!==void 0){var ee=Ha,Ye=e;switch(e){case"keypress":if(qi(i)===0)break e;case"keydown":case"keyup":ee=Us;break;case"focusin":Ye="focus",ee=Or;break;case"focusout":Ye="blur",ee=Or;break;case"beforeblur":case"afterblur":ee=Or;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=yt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=At;break;case Xe:case Tn:case Xn:ee=mc;break;case jn:ee=wc;break;case"scroll":case"scrollend":ee=Rn;break;case"wheel":ee=ir;break;case"copy":case"cut":case"paste":ee=We;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=yi;break;case"toggle":case"beforetoggle":ee=Ac}var Ge=(n&4)!==0,Ot=!Ge&&(e==="scroll"||e==="scrollend"),F=Ge?K!==null?K+"Capture":null:K;Ge=[];for(var P=Z,Y;P!==null;){var fe=P;if(Y=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||Y===null||F===null||(fe=Pe(P,F),fe!=null&&Ge.push(pl(P,fe,Y))),Ot)break;P=P.return}0<Ge.length&&(K=new ee(K,Ye,null,i,ue),ge.push({event:K,listeners:Ge}))}}if((n&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",K&&i!==hi&&(Ye=i.relatedTarget||i.fromElement)&&(Jt(Ye)||Ye[Ra]))break e;if((ee||K)&&(K=ue.window===ue?ue:(K=ue.ownerDocument)?K.defaultView||K.parentWindow:window,ee?(Ye=i.relatedTarget||i.toElement,ee=Z,Ye=Ye?Jt(Ye):null,Ye!==null&&(Ot=w(Ye),Ge=Ye.tag,Ye!==Ot||Ge!==5&&Ge!==27&&Ge!==6)&&(Ye=null)):(ee=null,Ye=Z),ee!==Ye)){if(Ge=Xl,fe="onMouseLeave",F="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Ge=yi,fe="onPointerLeave",F="onPointerEnter",P="pointer"),Ot=ee==null?K:Ba(ee),Y=Ye==null?K:Ba(Ye),K=new Ge(fe,P+"leave",ee,i,ue),K.target=Ot,K.relatedTarget=Y,fe=null,Jt(ue)===Z&&(Ge=new Ge(F,P+"enter",Ye,i,ue),Ge.target=Y,Ge.relatedTarget=Ot,fe=Ge),Ot=fe,ee&&Ye)t:{for(Ge=ee,F=Ye,P=0,Y=Ge;Y;Y=Es(Y))P++;for(Y=0,fe=F;fe;fe=Es(fe))Y++;for(;0<P-Y;)Ge=Es(Ge),P--;for(;0<Y-P;)F=Es(F),Y--;for(;P--;){if(Ge===F||F!==null&&Ge===F.alternate)break t;Ge=Es(Ge),F=Es(F)}Ge=null}else Ge=null;ee!==null&&td(ge,K,ee,Ge,!1),Ye!==null&&Ot!==null&&td(ge,Ot,Ye,Ge,!0)}}e:{if(K=Z?Ba(Z):window,ee=K.nodeName&&K.nodeName.toLowerCase(),ee==="select"||ee==="input"&&K.type==="file")var Be=Wl;else if(Ai(K))if(Hs)Be=a;else{Be=v;var et=$i}else ee=K.nodeName,!ee||ee.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Z&&Ue(Z.elementType)&&(Be=Wl):Be=t;if(Be&&(Be=Be(e,Z))){Pn(ge,Be,i,ue);break e}et&&et(e,K,Z),e==="focusout"&&Z&&K.type==="number"&&Z.memoizedProps.value!=null&&V(K,"number",K.value)}switch(et=Z?Ba(Z):window,e){case"focusin":(Ai(et)||et.contentEditable==="true")&&(T=et,B=Z,U=null);break;case"focusout":U=B=T=null;break;case"mousedown":z=!0;break;case"contextmenu":case"mouseup":case"dragend":z=!1,G(ge,i,ue);break;case"selectionchange":if(N)break;case"keydown":case"keyup":G(ge,i,ue)}var ze;if(bi)e:{switch(e){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Br?sr(e,i)&&(Ve="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ps&&i.locale!=="ko"&&(Br||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Br&&(ze=za()):(Ua=ue,gi="value"in Ua?Ua.value:Ua.textContent,Br=!0)),et=ko(Z,Ve),0<et.length&&(Ve=new mi(Ve,e,null,i,ue),ge.push({event:Ve,listeners:et}),ze?Ve.data=ze:(ze=Ki(i),ze!==null&&(Ve.data=ze)))),(ze=zs?wi(e,i):Ec(e,i))&&(Ve=ko(Z,"onBeforeInput"),0<Ve.length&&(et=new mi("onBeforeInput","beforeinput",null,i,ue),ge.push({event:et,listeners:Ve}),et.data=ze)),Ng(ge,e,Z,i,ue)}$1(ge,n)})}function pl(e,n,i){return{instance:e,listener:n,currentTarget:i}}function ko(e,n){for(var i=n+"Capture",o=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Pe(e,i),d!=null&&o.unshift(pl(e,d,p)),d=Pe(e,n),d!=null&&o.push(pl(e,d,p))),e.tag===3)return o;e=e.return}return[]}function Es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function td(e,n,i,o,d){for(var p=n._reactName,S=[];i!==null&&i!==o;){var I=i,j=I.alternate,Z=I.stateNode;if(I=I.tag,j!==null&&j===o)break;I!==5&&I!==26&&I!==27||Z===null||(j=Z,d?(Z=Pe(i,p),Z!=null&&S.unshift(pl(i,Z,j))):d||(Z=Pe(i,p),Z!=null&&S.push(pl(i,Z,j)))),i=i.return}S.length!==0&&e.push({event:n,listeners:S})}var Mg=/\r\n?/g,Og=/\u0000|\uFFFD/g;function nd(e){return(typeof e=="string"?e:""+e).replace(Mg,`
`).replace(Og,"")}function ad(e,n){return n=nd(n),nd(e)===n}function Uo(){}function Mt(e,n,i,o,d,p){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||hn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&hn(e,""+o);break;case"className":Hi(e,"class",o);break;case"tabIndex":Hi(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Hi(e,i,o);break;case"style":zn(e,o,p);break;case"data":if(n!=="object"){Hi(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Xi(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(n!=="input"&&Mt(e,n,"name",d.name,d,null),Mt(e,n,"formEncType",d.formEncType,d,null),Mt(e,n,"formMethod",d.formMethod,d,null),Mt(e,n,"formTarget",d.formTarget,d,null)):(Mt(e,n,"encType",d.encType,d,null),Mt(e,n,"method",d.method,d,null),Mt(e,n,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Xi(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=Uo);break;case"onScroll":o!=null&&rt("scroll",e);break;case"onScrollEnd":o!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(y(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(y(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Xi(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":rt("beforetoggle",e),rt("toggle",e),xe(e,"popover",o);break;case"xlinkActuate":gt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":gt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":gt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":gt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":gt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":gt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":gt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":gt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":gt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":xe(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ut.get(i)||i,xe(e,i,o))}}function Vu(e,n,i,o,d,p){switch(i){case"style":zn(e,o,p);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(y(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(y(60));e.innerHTML=i}}break;case"children":typeof o=="string"?hn(e,o):(typeof o=="number"||typeof o=="bigint")&&hn(e,""+o);break;case"onScroll":o!=null&&rt("scroll",e);break;case"onScrollEnd":o!=null&&rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gl.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),n=i.slice(2,d?i.length-7:void 0),p=e[Xt]||null,p=p!=null?p[i]:null,typeof p=="function"&&e.removeEventListener(n,p,d),typeof o=="function")){typeof p!="function"&&p!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,d);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):xe(e,i,o)}}}function Mn(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var o=!1,d=!1,p;for(p in i)if(i.hasOwnProperty(p)){var S=i[p];if(S!=null)switch(p){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(y(137,n));default:Mt(e,n,p,S,i,null)}}d&&Mt(e,n,"srcSet",i.srcSet,i,null),o&&Mt(e,n,"src",i.src,i,null);return;case"input":rt("invalid",e);var I=p=S=d=null,j=null,Z=null;for(o in i)if(i.hasOwnProperty(o)){var ue=i[o];if(ue!=null)switch(o){case"name":d=ue;break;case"type":S=ue;break;case"checked":j=ue;break;case"defaultChecked":Z=ue;break;case"value":p=ue;break;case"defaultValue":I=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(y(137,n));break;default:Mt(e,n,o,ue,i,null)}}dn(e,p,I,j,Z,S,d,!1),Vi(e);return;case"select":rt("invalid",e),o=S=p=null;for(d in i)if(i.hasOwnProperty(d)&&(I=i[d],I!=null))switch(d){case"value":p=I;break;case"defaultValue":S=I;break;case"multiple":o=I;default:Mt(e,n,d,I,i,null)}n=p,i=S,e.multiple=!!o,n!=null?D(e,!!o,n,!1):i!=null&&D(e,!!o,i,!0);return;case"textarea":rt("invalid",e),p=d=o=null;for(S in i)if(i.hasOwnProperty(S)&&(I=i[S],I!=null))switch(S){case"value":o=I;break;case"defaultValue":d=I;break;case"children":p=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(y(91));break;default:Mt(e,n,S,I,i,null)}$t(e,o,d,p),Vi(e);return;case"option":for(j in i)if(i.hasOwnProperty(j)&&(o=i[j],o!=null))switch(j){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Mt(e,n,j,o,i,null)}return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(o=0;o<ml.length;o++)rt(ml[o],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in i)if(i.hasOwnProperty(Z)&&(o=i[Z],o!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(y(137,n));default:Mt(e,n,Z,o,i,null)}return;default:if(Ue(n)){for(ue in i)i.hasOwnProperty(ue)&&(o=i[ue],o!==void 0&&Vu(e,n,ue,o,i,void 0));return}}for(I in i)i.hasOwnProperty(I)&&(o=i[I],o!=null&&Mt(e,n,I,o,i,null))}function Dg(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,S=null,I=null,j=null,Z=null,ue=null;for(ee in i){var ge=i[ee];if(i.hasOwnProperty(ee)&&ge!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":j=ge;default:o.hasOwnProperty(ee)||Mt(e,n,ee,null,o,ge)}}for(var K in o){var ee=o[K];if(ge=i[K],o.hasOwnProperty(K)&&(ee!=null||ge!=null))switch(K){case"type":p=ee;break;case"name":d=ee;break;case"checked":Z=ee;break;case"defaultChecked":ue=ee;break;case"value":S=ee;break;case"defaultValue":I=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(y(137,n));break;default:ee!==ge&&Mt(e,n,K,ee,o,ge)}}pt(e,S,I,j,Z,ue,p,d);return;case"select":ee=S=I=K=null;for(p in i)if(j=i[p],i.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":ee=j;default:o.hasOwnProperty(p)||Mt(e,n,p,null,o,j)}for(d in o)if(p=o[d],j=i[d],o.hasOwnProperty(d)&&(p!=null||j!=null))switch(d){case"value":K=p;break;case"defaultValue":I=p;break;case"multiple":S=p;default:p!==j&&Mt(e,n,d,p,o,j)}n=I,i=S,o=ee,K!=null?D(e,!!i,K,!1):!!o!=!!i&&(n!=null?D(e,!!i,n,!0):D(e,!!i,i?[]:"",!1));return;case"textarea":ee=K=null;for(I in i)if(d=i[I],i.hasOwnProperty(I)&&d!=null&&!o.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Mt(e,n,I,null,o,d)}for(S in o)if(d=o[S],p=i[S],o.hasOwnProperty(S)&&(d!=null||p!=null))switch(S){case"value":K=d;break;case"defaultValue":ee=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(y(91));break;default:d!==p&&Mt(e,n,S,d,o,p)}ke(e,K,ee);return;case"option":for(var Ye in i)if(K=i[Ye],i.hasOwnProperty(Ye)&&K!=null&&!o.hasOwnProperty(Ye))switch(Ye){case"selected":e.selected=!1;break;default:Mt(e,n,Ye,null,o,K)}for(j in o)if(K=o[j],ee=i[j],o.hasOwnProperty(j)&&K!==ee&&(K!=null||ee!=null))switch(j){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Mt(e,n,j,K,o,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in i)K=i[Ge],i.hasOwnProperty(Ge)&&K!=null&&!o.hasOwnProperty(Ge)&&Mt(e,n,Ge,null,o,K);for(Z in o)if(K=o[Z],ee=i[Z],o.hasOwnProperty(Z)&&K!==ee&&(K!=null||ee!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(y(137,n));break;default:Mt(e,n,Z,K,o,ee)}return;default:if(Ue(n)){for(var Ot in i)K=i[Ot],i.hasOwnProperty(Ot)&&K!==void 0&&!o.hasOwnProperty(Ot)&&Vu(e,n,Ot,void 0,o,K);for(ue in o)K=o[ue],ee=i[ue],!o.hasOwnProperty(ue)||K===ee||K===void 0&&ee===void 0||Vu(e,n,ue,K,o,ee);return}}for(var F in i)K=i[F],i.hasOwnProperty(F)&&K!=null&&!o.hasOwnProperty(F)&&Mt(e,n,F,null,o,K);for(ge in o)K=o[ge],ee=i[ge],!o.hasOwnProperty(ge)||K===ee||K==null&&ee==null||Mt(e,n,ge,K,o,ee)}var Yu=null,Xu=null;function zo(e){return e.nodeType===9?e:e.ownerDocument}function rd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function qu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zu=null;function Rg(){var e=window.event;return e&&e.type==="popstate"?e===Zu?!1:(Zu=e,!0):(Zu=null,!1)}var sd=typeof setTimeout=="function"?setTimeout:void 0,Bg=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,Lg=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(jg)}:sd;function jg(e){setTimeout(function(){throw e})}function $r(e){return e==="head"}function od(e,n){var i=n,o=0,d=0;do{var p=i.nextSibling;if(e.removeChild(i),p&&p.nodeType===8)if(i=p.data,i==="/$"){if(0<o&&8>o){i=o;var S=e.ownerDocument;if(i&1&&yl(S.documentElement),i&2&&yl(S.body),i&4)for(i=S.head,yl(i),S=i.firstChild;S;){var I=S.nextSibling,j=S.nodeName;S[ua]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&S.rel.toLowerCase()==="stylesheet"||i.removeChild(S),S=I}}if(d===0){e.removeChild(p),Nl(n);return}d--}else i==="$"||i==="$?"||i==="$!"?d++:o=i.charCodeAt(0)-48;else o=0;i=p}while(i);Nl(n)}function Qu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Qu(i),di(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function kg(e,n,i,o){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ua])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=_a(e.nextSibling),e===null)break}return null}function Ug(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=_a(e.nextSibling),e===null))return null;return e}function Wu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function zg(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function _a(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Ku=null;function cd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function ud(e,n,i){switch(n=zo(i),e){case"html":if(e=n.documentElement,!e)throw Error(y(452));return e;case"head":if(e=n.head,!e)throw Error(y(453));return e;case"body":if(e=n.body,!e)throw Error(y(454));return e;default:throw Error(y(451))}}function yl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);di(e)}var ya=new Map,fd=new Set;function Po(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wr=de.d;de.d={f:Pg,r:Fg,D:Hg,C:Gg,L:Vg,m:Yg,X:qg,S:Xg,M:Zg};function Pg(){var e=wr.f(),n=Oo();return e||n}function Fg(e){var n=Kn(e);n!==null&&n.tag===5&&n.type==="form"?Of(n):wr.r(e)}var Cs=typeof document>"u"?null:document;function dd(e,n,i){var o=Cs;if(o&&typeof n=="string"&&n){var d=fn(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),fd.has(d)||(fd.add(d),e={rel:e,crossOrigin:i,href:n},o.querySelector(d)===null&&(n=o.createElement("link"),Mn(n,"link",e),wt(n),o.head.appendChild(n)))}}function Hg(e){wr.D(e),dd("dns-prefetch",e,null)}function Gg(e,n){wr.C(e,n),dd("preconnect",e,n)}function Vg(e,n,i){wr.L(e,n,i);var o=Cs;if(o&&e&&n){var d='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+fn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+fn(i.imageSizes)+'"]')):d+='[href="'+fn(e)+'"]';var p=d;switch(n){case"style":p=Ss(e);break;case"script":p=vs(e)}ya.has(p)||(e=R({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),ya.set(p,e),o.querySelector(d)!==null||n==="style"&&o.querySelector(bl(p))||n==="script"&&o.querySelector(wl(p))||(n=o.createElement("link"),Mn(n,"link",e),wt(n),o.head.appendChild(n)))}}function Yg(e,n){wr.m(e,n);var i=Cs;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(e)+'"]',p=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=vs(e)}if(!ya.has(p)&&(e=R({rel:"modulepreload",href:e},n),ya.set(p,e),i.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(wl(p)))return}o=i.createElement("link"),Mn(o,"link",e),wt(o),i.head.appendChild(o)}}}function Xg(e,n,i){wr.S(e,n,i);var o=Cs;if(o&&e){var d=Ea(o).hoistableStyles,p=Ss(e);n=n||"default";var S=d.get(p);if(!S){var I={loading:0,preload:null};if(S=o.querySelector(bl(p)))I.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},i),(i=ya.get(p))&&Ju(e,i);var j=S=o.createElement("link");wt(j),Mn(j,"link",e),j._p=new Promise(function(Z,ue){j.onload=Z,j.onerror=ue}),j.addEventListener("load",function(){I.loading|=1}),j.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Fo(S,n,o)}S={type:"stylesheet",instance:S,count:1,state:I},d.set(p,S)}}}function qg(e,n){wr.X(e,n);var i=Cs;if(i&&e){var o=Ea(i).hoistableScripts,d=vs(e),p=o.get(d);p||(p=i.querySelector(wl(d)),p||(e=R({src:e,async:!0},n),(n=ya.get(d))&&$u(e,n),p=i.createElement("script"),wt(p),Mn(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(d,p))}}function Zg(e,n){wr.M(e,n);var i=Cs;if(i&&e){var o=Ea(i).hoistableScripts,d=vs(e),p=o.get(d);p||(p=i.querySelector(wl(d)),p||(e=R({src:e,async:!0,type:"module"},n),(n=ya.get(d))&&$u(e,n),p=i.createElement("script"),wt(p),Mn(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(d,p))}}function hd(e,n,i,o){var d=(d=ye.current)?Po(d):null;if(!d)throw Error(y(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Ss(i.href),i=Ea(d).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ss(i.href);var p=Ea(d).hoistableStyles,S=p.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=d.querySelector(bl(e)))&&!p._p&&(S.instance=p,S.state.loading=5),ya.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ya.set(e,i),p||Qg(d,e,i,S.state))),n&&o===null)throw Error(y(528,""));return S}if(n&&o!==null)throw Error(y(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vs(i),i=Ea(d).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(y(444,e))}}function Ss(e){return'href="'+fn(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function gd(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function Qg(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Mn(n,"link",i),wt(n),e.head.appendChild(n))}function vs(e){return'[src="'+fn(e)+'"]'}function wl(e){return"script[async]"+e}function xd(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fn(i.href)+'"]');if(o)return n.instance=o,wt(o),o;var d=R({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),wt(o),Mn(o,"style",d),Fo(o,i.precedence,e),n.instance=o;case"stylesheet":d=Ss(i.href);var p=e.querySelector(bl(d));if(p)return n.state.loading|=4,n.instance=p,wt(p),p;o=gd(i),(d=ya.get(d))&&Ju(o,d),p=(e.ownerDocument||e).createElement("link"),wt(p);var S=p;return S._p=new Promise(function(I,j){S.onload=I,S.onerror=j}),Mn(p,"link",o),n.state.loading|=4,Fo(p,i.precedence,e),n.instance=p;case"script":return p=vs(i.src),(d=e.querySelector(wl(p)))?(n.instance=d,wt(d),d):(o=i,(d=ya.get(p))&&(o=R({},i),$u(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),wt(d),Mn(d,"link",o),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(y(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Fo(o,i.precedence,e));return n.instance}function Fo(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,p=d,S=0;S<o.length;S++){var I=o[S];if(I.dataset.precedence===n)p=I;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Ju(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function $u(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ho=null;function md(e,n,i){if(Ho===null){var o=new Map,d=Ho=new Map;d.set(i,o)}else d=Ho,o=d.get(i),o||(o=new Map,d.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var p=i[d];if(!(p[ua]||p[yn]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(n)||"";S=e+S;var I=o.get(S);I?I.push(p):o.set(S,[p])}}return o}function pd(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Wg(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Al=null;function Kg(){}function Jg(e,n,i){if(Al===null)throw Error(y(475));var o=Al;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Ss(i.href),p=e.querySelector(bl(d));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Go.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=p,wt(p);return}p=e.ownerDocument||e,i=gd(i),(d=ya.get(d))&&Ju(i,d),p=p.createElement("link"),wt(p);var S=p;S._p=new Promise(function(I,j){S.onload=I,S.onerror=j}),Mn(p,"link",i),n.instance=p}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Go.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function $g(){if(Al===null)throw Error(y(475));var e=Al;return e.stylesheets&&e.count===0&&e0(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&e0(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Go(){if(this.count--,this.count===0){if(this.stylesheets)e0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vo=null;function e0(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vo=new Map,n.forEach(ex,e),Vo=null,Go.call(e))}function ex(e,n){if(!(n.state.loading&4)){var i=Vo.get(e);if(i)var o=i.get(null);else{i=new Map,Vo.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var S=d[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(i.set(S.dataset.precedence,S),o=S)}o&&i.set(null,o)}d=n.instance,S=d.getAttribute("data-precedence"),p=i.get(S)||o,p===o&&i.set(null,d),i.set(S,d),this.count++,o=Go.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var El={$$typeof:le,Provider:null,Consumer:null,_currentValue:je,_currentValue2:je,_threadCount:0};function tx(e,n,i,o,d,p,S,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function bd(e,n,i,o,d,p,S,I,j,Z,ue,ge){return e=new tx(e,n,i,S,I,j,Z,ge),n=1,p===!0&&(n|=24),p=ea(3,null,null,n),e.current=p,p.stateNode=e,n=Lc(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:o,isDehydrated:i,cache:n},zc(p),e}function wd(e){return e?(e=ns,e):ns}function Ad(e,n,i,o,d,p){d=wd(d),o.context===null?o.context=d:o.pendingContext=d,o=Pr(n),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=Fr(e,o,n),i!==null&&(ia(i,e,n),Js(i,e,n))}function Ed(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function t0(e,n){Ed(e,n),(e=e.alternate)&&Ed(e,n)}function Cd(e){if(e.tag===13){var n=ts(e,67108864);n!==null&&ia(n,e,67108864),t0(e,67108864)}}var Yo=!0;function nx(e,n,i,o){var d=J.T;J.T=null;var p=de.p;try{de.p=2,n0(e,n,i,o)}finally{de.p=p,J.T=d}}function ax(e,n,i,o){var d=J.T;J.T=null;var p=de.p;try{de.p=8,n0(e,n,i,o)}finally{de.p=p,J.T=d}}function n0(e,n,i,o){if(Yo){var d=a0(o);if(d===null)Gu(e,n,o,Xo,i),vd(e,o);else if(ix(d,e,n,i,o))o.stopPropagation();else if(vd(e,o),n&4&&-1<rx.indexOf(e)){for(;d!==null;){var p=Kn(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Dt(p.pendingLanes);if(S!==0){var I=p;for(I.pendingLanes|=2,I.entangledLanes|=2;S;){var j=1<<31-bt(S);I.entanglements[1]|=j,S&=~j}Wa(p),(Ct&6)===0&&(Io=Nt()+500,xl(0))}}break;case 13:I=ts(p,2),I!==null&&ia(I,p,2),Oo(),t0(p,2)}if(p=a0(o),p===null&&Gu(e,n,o,Xo,i),p===d)break;d=p}d!==null&&o.stopPropagation()}else Gu(e,n,o,null,i)}}function a0(e){return e=Tr(e),r0(e)}var Xo=null;function r0(e){if(Xo=null,e=Jt(e),e!==null){var n=w(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=_(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Xo=e,null}function Sd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tt()){case lt:return 2;case ci:return 8;case Re:case Ui:return 32;case Os:return 268435456;default:return 32}default:return 32}}var i0=!1,ei=null,ti=null,ni=null,Cl=new Map,Sl=new Map,ai=[],rx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vd(e,n){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function vl(e,n,i,o,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:p,targetContainers:[d]},n!==null&&(n=Kn(n),n!==null&&Cd(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function ix(e,n,i,o,d){switch(n){case"focusin":return ei=vl(ei,e,n,i,o,d),!0;case"dragenter":return ti=vl(ti,e,n,i,o,d),!0;case"mouseover":return ni=vl(ni,e,n,i,o,d),!0;case"pointerover":var p=d.pointerId;return Cl.set(p,vl(Cl.get(p)||null,e,n,i,o,d)),!0;case"gotpointercapture":return p=d.pointerId,Sl.set(p,vl(Sl.get(p)||null,e,n,i,o,d)),!0}return!1}function Nd(e){var n=Jt(e.target);if(n!==null){var i=w(n);if(i!==null){if(n=i.tag,n===13){if(n=_(i),n!==null){e.blockedOn=n,Fi(e.priority,function(){if(i.tag===13){var o=ra();o=fi(o);var d=ts(i,o);d!==null&&ia(d,i,o),t0(i,o)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=a0(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);hi=o,i.target.dispatchEvent(o),hi=null}else return n=Kn(i),n!==null&&Cd(n),e.blockedOn=i,!1;n.shift()}return!0}function Td(e,n,i){qo(e)&&i.delete(n)}function sx(){i0=!1,ei!==null&&qo(ei)&&(ei=null),ti!==null&&qo(ti)&&(ti=null),ni!==null&&qo(ni)&&(ni=null),Cl.forEach(Td),Sl.forEach(Td)}function Zo(e,n){e.blockedOn===n&&(e.blockedOn=null,i0||(i0=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,sx)))}var Qo=null;function _d(e){Qo!==e&&(Qo=e,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){Qo===e&&(Qo=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],d=e[n+2];if(typeof o!="function"){if(r0(o||i)===null)continue;break}var p=Kn(i);p!==null&&(e.splice(n,3),n-=3,ru(p,{pending:!0,data:d,method:i.method,action:o},o,d))}}))}function Nl(e){function n(j){return Zo(j,e)}ei!==null&&Zo(ei,e),ti!==null&&Zo(ti,e),ni!==null&&Zo(ni,e),Cl.forEach(n),Sl.forEach(n);for(var i=0;i<ai.length;i++){var o=ai[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ai.length&&(i=ai[0],i.blockedOn===null);)Nd(i),i.blockedOn===null&&ai.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var d=i[o],p=i[o+1],S=d[Xt]||null;if(typeof p=="function")S||_d(i);else if(S){var I=null;if(p&&p.hasAttribute("formAction")){if(d=p,S=p[Xt]||null)I=S.formAction;else if(r0(d)!==null)continue}else I=S.action;typeof I=="function"?i[o+1]=I:(i.splice(o,3),o-=3),_d(i)}}}function s0(e){this._internalRoot=e}Wo.prototype.render=s0.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(y(409));var i=n.current,o=ra();Ad(i,o,e,n,null,null)},Wo.prototype.unmount=s0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ad(e.current,2,null,e,null,null),Oo(),n[Ra]=null}};function Wo(e){this._internalRoot=e}Wo.prototype.unstable_scheduleHydration=function(e){if(e){var n=tr();e={blockedOn:null,target:e,priority:n};for(var i=0;i<ai.length&&n!==0&&n<ai[i].priority;i++);ai.splice(i,0,e),i===0&&Nd(e)}};var Id=g.version;if(Id!=="19.1.0")throw Error(y(527,Id,"19.1.0"));de.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(y(188)):(e=Object.keys(e).join(","),Error(y(268,e)));return e=M(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var lx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{vn=Ko.inject(lx),On=Ko}catch{}}return _l.createRoot=function(e,n){if(!A(e))throw Error(y(299));var i=!1,o="",d=Yf,p=Xf,S=qf,I=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(I=n.unstable_transitionCallbacks)),n=bd(e,1,!1,null,null,i,o,d,p,S,I,null),e[Ra]=n.current,Hu(e),new s0(n)},_l.hydrateRoot=function(e,n,i){if(!A(e))throw Error(y(299));var o=!1,d="",p=Yf,S=Xf,I=qf,j=null,Z=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(S=i.onCaughtError),i.onRecoverableError!==void 0&&(I=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(j=i.unstable_transitionCallbacks),i.formState!==void 0&&(Z=i.formState)),n=bd(e,1,!0,n,i??null,o,d,p,S,I,j,Z),n.context=wd(null),i=n.current,o=ra(),o=fi(o),d=Pr(o),d.callback=null,Fr(i,d,o),i=o,n.current.lanes=i,Wn(n,i),Wa(n),e[Ra]=n.current,Hu(e),new Wo(n)},_l.version="19.1.0",_l}var zd;function bx(){if(zd)return c0.exports;zd=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(g){console.error(g)}}return f(),c0.exports=yx(),c0.exports}var wx=bx(),Il={},Pd;function Ax(){if(Pd)return Il;Pd=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.parse=_,Il.serialize=E;const f=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,g=/^[\u0021-\u003A\u003C-\u007E]*$/,h=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,y=/^[\u0020-\u003A\u003D-\u007E]*$/,A=Object.prototype.toString,w=(()=>{const H=function(){};return H.prototype=Object.create(null),H})();function _(H,ie){const ae=new w,Q=H.length;if(Q<2)return ae;const ce=(ie==null?void 0:ie.decode)||R;let W=0;do{const se=H.indexOf("=",W);if(se===-1)break;const le=H.indexOf(";",W),Se=le===-1?Q:le;if(se>Se){W=H.lastIndexOf(";",se-1)+1;continue}const Ie=O(H,W,se),ne=M(H,se,Ie),re=H.slice(Ie,ne);if(ae[re]===void 0){let be=O(H,se+1,Se),oe=M(H,Se,be);const Ne=ce(H.slice(be,oe));ae[re]=Ne}W=Se+1}while(W<Q);return ae}function O(H,ie,ae){do{const Q=H.charCodeAt(ie);if(Q!==32&&Q!==9)return ie}while(++ie<ae);return ae}function M(H,ie,ae){for(;ie>ae;){const Q=H.charCodeAt(--ie);if(Q!==32&&Q!==9)return ie+1}return ae}function E(H,ie,ae){const Q=(ae==null?void 0:ae.encode)||encodeURIComponent;if(!f.test(H))throw new TypeError(`argument name is invalid: ${H}`);const ce=Q(ie);if(!g.test(ce))throw new TypeError(`argument val is invalid: ${ie}`);let W=H+"="+ce;if(!ae)return W;if(ae.maxAge!==void 0){if(!Number.isInteger(ae.maxAge))throw new TypeError(`option maxAge is invalid: ${ae.maxAge}`);W+="; Max-Age="+ae.maxAge}if(ae.domain){if(!h.test(ae.domain))throw new TypeError(`option domain is invalid: ${ae.domain}`);W+="; Domain="+ae.domain}if(ae.path){if(!y.test(ae.path))throw new TypeError(`option path is invalid: ${ae.path}`);W+="; Path="+ae.path}if(ae.expires){if(!L(ae.expires)||!Number.isFinite(ae.expires.valueOf()))throw new TypeError(`option expires is invalid: ${ae.expires}`);W+="; Expires="+ae.expires.toUTCString()}if(ae.httpOnly&&(W+="; HttpOnly"),ae.secure&&(W+="; Secure"),ae.partitioned&&(W+="; Partitioned"),ae.priority)switch(typeof ae.priority=="string"?ae.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${ae.priority}`)}if(ae.sameSite)switch(typeof ae.sameSite=="string"?ae.sameSite.toLowerCase():ae.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${ae.sameSite}`)}return W}function R(H){if(H.indexOf("%")===-1)return H;try{return decodeURIComponent(H)}catch{return H}}function L(H){return A.call(H)==="[object Date]"}return Il}Ax();var Fd="popstate";function Ex(f={}){function g(y,A){let{pathname:w,search:_,hash:O}=y.location;return p0("",{pathname:w,search:_,hash:O},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function h(y,A){return typeof A=="string"?A:Bl(A)}return Sx(g,h,null,f)}function Gt(f,g){if(f===!1||f===null||typeof f>"u")throw new Error(g)}function Ma(f,g){if(!f){typeof console<"u"&&console.warn(g);try{throw new Error(g)}catch{}}}function Cx(){return Math.random().toString(36).substring(2,10)}function Hd(f,g){return{usr:f.state,key:f.key,idx:g}}function p0(f,g,h=null,y){return{pathname:typeof f=="string"?f:f.pathname,search:"",hash:"",...typeof g=="string"?_s(g):g,state:h,key:g&&g.key||y||Cx()}}function Bl({pathname:f="/",search:g="",hash:h=""}){return g&&g!=="?"&&(f+=g.charAt(0)==="?"?g:"?"+g),h&&h!=="#"&&(f+=h.charAt(0)==="#"?h:"#"+h),f}function _s(f){let g={};if(f){let h=f.indexOf("#");h>=0&&(g.hash=f.substring(h),f=f.substring(0,h));let y=f.indexOf("?");y>=0&&(g.search=f.substring(y),f=f.substring(0,y)),f&&(g.pathname=f)}return g}function Sx(f,g,h,y={}){let{window:A=document.defaultView,v5Compat:w=!1}=y,_=A.history,O="POP",M=null,E=R();E==null&&(E=0,_.replaceState({..._.state,idx:E},""));function R(){return(_.state||{idx:null}).idx}function L(){O="POP";let ce=R(),W=ce==null?null:ce-E;E=ce,M&&M({action:O,location:Q.location,delta:W})}function H(ce,W){O="PUSH";let se=p0(Q.location,ce,W);E=R()+1;let le=Hd(se,E),Se=Q.createHref(se);try{_.pushState(le,"",Se)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;A.location.assign(Se)}w&&M&&M({action:O,location:Q.location,delta:1})}function ie(ce,W){O="REPLACE";let se=p0(Q.location,ce,W);E=R();let le=Hd(se,E),Se=Q.createHref(se);_.replaceState(le,"",Se),w&&M&&M({action:O,location:Q.location,delta:0})}function ae(ce){return vx(ce)}let Q={get action(){return O},get location(){return f(A,_)},listen(ce){if(M)throw new Error("A history only accepts one active listener");return A.addEventListener(Fd,L),M=ce,()=>{A.removeEventListener(Fd,L),M=null}},createHref(ce){return g(A,ce)},createURL:ae,encodeLocation(ce){let W=ae(ce);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:H,replace:ie,go(ce){return _.go(ce)}};return Q}function vx(f,g=!1){let h="http://localhost";typeof window<"u"&&(h=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(h,"No window.location.(origin|href) available to create URL");let y=typeof f=="string"?f:Bl(f);return y=y.replace(/ $/,"%20"),!g&&y.startsWith("//")&&(y=h+y),new URL(y,h)}function hh(f,g,h="/"){return Nx(f,g,h,!1)}function Nx(f,g,h,y){let A=typeof g=="string"?_s(g):g,w=Cr(A.pathname||"/",h);if(w==null)return null;let _=gh(f);Tx(_);let O=null;for(let M=0;O==null&&M<_.length;++M){let E=Ux(w);O=jx(_[M],E,y)}return O}function gh(f,g=[],h=[],y=""){let A=(w,_,O)=>{let M={relativePath:O===void 0?w.path||"":O,caseSensitive:w.caseSensitive===!0,childrenIndex:_,route:w};M.relativePath.startsWith("/")&&(Gt(M.relativePath.startsWith(y),`Absolute route path "${M.relativePath}" nested under path "${y}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),M.relativePath=M.relativePath.slice(y.length));let E=Er([y,M.relativePath]),R=h.concat(M);w.children&&w.children.length>0&&(Gt(w.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),gh(w.children,g,R,E)),!(w.path==null&&!w.index)&&g.push({path:E,score:Bx(E,w.index),routesMeta:R})};return f.forEach((w,_)=>{var O;if(w.path===""||!((O=w.path)!=null&&O.includes("?")))A(w,_);else for(let M of xh(w.path))A(w,_,M)}),g}function xh(f){let g=f.split("/");if(g.length===0)return[];let[h,...y]=g,A=h.endsWith("?"),w=h.replace(/\?$/,"");if(y.length===0)return A?[w,""]:[w];let _=xh(y.join("/")),O=[];return O.push(..._.map(M=>M===""?w:[w,M].join("/"))),A&&O.push(..._),O.map(M=>f.startsWith("/")&&M===""?"/":M)}function Tx(f){f.sort((g,h)=>g.score!==h.score?h.score-g.score:Lx(g.routesMeta.map(y=>y.childrenIndex),h.routesMeta.map(y=>y.childrenIndex)))}var _x=/^:[\w-]+$/,Ix=3,Mx=2,Ox=1,Dx=10,Rx=-2,Gd=f=>f==="*";function Bx(f,g){let h=f.split("/"),y=h.length;return h.some(Gd)&&(y+=Rx),g&&(y+=Mx),h.filter(A=>!Gd(A)).reduce((A,w)=>A+(_x.test(w)?Ix:w===""?Ox:Dx),y)}function Lx(f,g){return f.length===g.length&&f.slice(0,-1).every((y,A)=>y===g[A])?f[f.length-1]-g[g.length-1]:0}function jx(f,g,h=!1){let{routesMeta:y}=f,A={},w="/",_=[];for(let O=0;O<y.length;++O){let M=y[O],E=O===y.length-1,R=w==="/"?g:g.slice(w.length)||"/",L=ac({path:M.relativePath,caseSensitive:M.caseSensitive,end:E},R),H=M.route;if(!L&&E&&h&&!y[y.length-1].route.index&&(L=ac({path:M.relativePath,caseSensitive:M.caseSensitive,end:!1},R)),!L)return null;Object.assign(A,L.params),_.push({params:A,pathname:Er([w,L.pathname]),pathnameBase:Hx(Er([w,L.pathnameBase])),route:H}),L.pathnameBase!=="/"&&(w=Er([w,L.pathnameBase]))}return _}function ac(f,g){typeof f=="string"&&(f={path:f,caseSensitive:!1,end:!0});let[h,y]=kx(f.path,f.caseSensitive,f.end),A=g.match(h);if(!A)return null;let w=A[0],_=w.replace(/(.)\/+$/,"$1"),O=A.slice(1);return{params:y.reduce((E,{paramName:R,isOptional:L},H)=>{if(R==="*"){let ae=O[H]||"";_=w.slice(0,w.length-ae.length).replace(/(.)\/+$/,"$1")}const ie=O[H];return L&&!ie?E[R]=void 0:E[R]=(ie||"").replace(/%2F/g,"/"),E},{}),pathname:w,pathnameBase:_,pattern:f}}function kx(f,g=!1,h=!0){Ma(f==="*"||!f.endsWith("*")||f.endsWith("/*"),`Route path "${f}" will be treated as if it were "${f.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${f.replace(/\*$/,"/*")}".`);let y=[],A="^"+f.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_,O,M)=>(y.push({paramName:O,isOptional:M!=null}),M?"/?([^\\/]+)?":"/([^\\/]+)"));return f.endsWith("*")?(y.push({paramName:"*"}),A+=f==="*"||f==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):h?A+="\\/*$":f!==""&&f!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,g?void 0:"i"),y]}function Ux(f){try{return f.split("/").map(g=>decodeURIComponent(g).replace(/\//g,"%2F")).join("/")}catch(g){return Ma(!1,`The URL path "${f}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${g}).`),f}}function Cr(f,g){if(g==="/")return f;if(!f.toLowerCase().startsWith(g.toLowerCase()))return null;let h=g.endsWith("/")?g.length-1:g.length,y=f.charAt(h);return y&&y!=="/"?null:f.slice(h)||"/"}function zx(f,g="/"){let{pathname:h,search:y="",hash:A=""}=typeof f=="string"?_s(f):f;return{pathname:h?h.startsWith("/")?h:Px(h,g):g,search:Gx(y),hash:Vx(A)}}function Px(f,g){let h=g.replace(/\/+$/,"").split("/");return f.split("/").forEach(A=>{A===".."?h.length>1&&h.pop():A!=="."&&h.push(A)}),h.length>1?h.join("/"):"/"}function h0(f,g,h,y){return`Cannot include a '${f}' character in a manually specified \`to.${g}\` field [${JSON.stringify(y)}].  Please separate it out to the \`to.${h}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fx(f){return f.filter((g,h)=>h===0||g.route.path&&g.route.path.length>0)}function C0(f){let g=Fx(f);return g.map((h,y)=>y===g.length-1?h.pathname:h.pathnameBase)}function S0(f,g,h,y=!1){let A;typeof f=="string"?A=_s(f):(A={...f},Gt(!A.pathname||!A.pathname.includes("?"),h0("?","pathname","search",A)),Gt(!A.pathname||!A.pathname.includes("#"),h0("#","pathname","hash",A)),Gt(!A.search||!A.search.includes("#"),h0("#","search","hash",A)));let w=f===""||A.pathname==="",_=w?"/":A.pathname,O;if(_==null)O=h;else{let L=g.length-1;if(!y&&_.startsWith("..")){let H=_.split("/");for(;H[0]==="..";)H.shift(),L-=1;A.pathname=H.join("/")}O=L>=0?g[L]:"/"}let M=zx(A,O),E=_&&_!=="/"&&_.endsWith("/"),R=(w||_===".")&&h.endsWith("/");return!M.pathname.endsWith("/")&&(E||R)&&(M.pathname+="/"),M}var Er=f=>f.join("/").replace(/\/\/+/g,"/"),Hx=f=>f.replace(/\/+$/,"").replace(/^\/*/,"/"),Gx=f=>!f||f==="?"?"":f.startsWith("?")?f:"?"+f,Vx=f=>!f||f==="#"?"":f.startsWith("#")?f:"#"+f;function Yx(f){return f!=null&&typeof f.status=="number"&&typeof f.statusText=="string"&&typeof f.internal=="boolean"&&"data"in f}var mh=["POST","PUT","PATCH","DELETE"];new Set(mh);var Xx=["GET",...mh];new Set(Xx);var Is=q.createContext(null);Is.displayName="DataRouter";var oc=q.createContext(null);oc.displayName="DataRouterState";var ph=q.createContext({isTransitioning:!1});ph.displayName="ViewTransition";var qx=q.createContext(new Map);qx.displayName="Fetchers";var Zx=q.createContext(null);Zx.displayName="Await";var Oa=q.createContext(null);Oa.displayName="Navigation";var jl=q.createContext(null);jl.displayName="Location";var $a=q.createContext({outlet:null,matches:[],isDataRoute:!1});$a.displayName="Route";var v0=q.createContext(null);v0.displayName="RouteError";function Qx(f,{relative:g}={}){Gt(Ms(),"useHref() may be used only in the context of a <Router> component.");let{basename:h,navigator:y}=q.useContext(Oa),{hash:A,pathname:w,search:_}=kl(f,{relative:g}),O=w;return h!=="/"&&(O=w==="/"?h:Er([h,w])),y.createHref({pathname:O,search:_,hash:A})}function Ms(){return q.useContext(jl)!=null}function vr(){return Gt(Ms(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(jl).location}var yh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bh(f){q.useContext(Oa).static||q.useLayoutEffect(f)}function wa(){let{isDataRoute:f}=q.useContext($a);return f?o2():Wx()}function Wx(){Gt(Ms(),"useNavigate() may be used only in the context of a <Router> component.");let f=q.useContext(Is),{basename:g,navigator:h}=q.useContext(Oa),{matches:y}=q.useContext($a),{pathname:A}=vr(),w=JSON.stringify(C0(y)),_=q.useRef(!1);return bh(()=>{_.current=!0}),q.useCallback((M,E={})=>{if(Ma(_.current,yh),!_.current)return;if(typeof M=="number"){h.go(M);return}let R=S0(M,JSON.parse(w),A,E.relative==="path");f==null&&g!=="/"&&(R.pathname=R.pathname==="/"?g:Er([g,R.pathname])),(E.replace?h.replace:h.push)(R,E.state,E)},[g,h,w,A,f])}q.createContext(null);function kl(f,{relative:g}={}){let{matches:h}=q.useContext($a),{pathname:y}=vr(),A=JSON.stringify(C0(h));return q.useMemo(()=>S0(f,JSON.parse(A),y,g==="path"),[f,A,y,g])}function Kx(f,g){return wh(f,g)}function wh(f,g,h,y){var W;Gt(Ms(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:A}=q.useContext(Oa),{matches:w}=q.useContext($a),_=w[w.length-1],O=_?_.params:{},M=_?_.pathname:"/",E=_?_.pathnameBase:"/",R=_&&_.route;{let se=R&&R.path||"";Ah(M,!R||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${M}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let L=vr(),H;if(g){let se=typeof g=="string"?_s(g):g;Gt(E==="/"||((W=se.pathname)==null?void 0:W.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${se.pathname}" was given in the \`location\` prop.`),H=se}else H=L;let ie=H.pathname||"/",ae=ie;if(E!=="/"){let se=E.replace(/^\//,"").split("/");ae="/"+ie.replace(/^\//,"").split("/").slice(se.length).join("/")}let Q=hh(f,{pathname:ae});Ma(R||Q!=null,`No routes matched location "${H.pathname}${H.search}${H.hash}" `),Ma(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${H.pathname}${H.search}${H.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ce=n2(Q&&Q.map(se=>Object.assign({},se,{params:Object.assign({},O,se.params),pathname:Er([E,A.encodeLocation?A.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?E:Er([E,A.encodeLocation?A.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),w,h,y);return g&&ce?q.createElement(jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...H},navigationType:"POP"}},ce):ce}function Jx(){let f=l2(),g=Yx(f)?`${f.status} ${f.statusText}`:f instanceof Error?f.message:JSON.stringify(f),h=f instanceof Error?f.stack:null,y="rgba(200,200,200, 0.5)",A={padding:"0.5rem",backgroundColor:y},w={padding:"2px 4px",backgroundColor:y},_=null;return console.error("Error handled by React Router default ErrorBoundary:",f),_=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:w},"ErrorBoundary")," or"," ",q.createElement("code",{style:w},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},g),h?q.createElement("pre",{style:A},h):null,_)}var $x=q.createElement(Jx,null),e2=class extends q.Component{constructor(f){super(f),this.state={location:f.location,revalidation:f.revalidation,error:f.error}}static getDerivedStateFromError(f){return{error:f}}static getDerivedStateFromProps(f,g){return g.location!==f.location||g.revalidation!=="idle"&&f.revalidation==="idle"?{error:f.error,location:f.location,revalidation:f.revalidation}:{error:f.error!==void 0?f.error:g.error,location:g.location,revalidation:f.revalidation||g.revalidation}}componentDidCatch(f,g){console.error("React Router caught the following error during render",f,g)}render(){return this.state.error!==void 0?q.createElement($a.Provider,{value:this.props.routeContext},q.createElement(v0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t2({routeContext:f,match:g,children:h}){let y=q.useContext(Is);return y&&y.static&&y.staticContext&&(g.route.errorElement||g.route.ErrorBoundary)&&(y.staticContext._deepestRenderedBoundaryId=g.route.id),q.createElement($a.Provider,{value:f},h)}function n2(f,g=[],h=null,y=null){if(f==null){if(!h)return null;if(h.errors)f=h.matches;else if(g.length===0&&!h.initialized&&h.matches.length>0)f=h.matches;else return null}let A=f,w=h==null?void 0:h.errors;if(w!=null){let M=A.findIndex(E=>E.route.id&&(w==null?void 0:w[E.route.id])!==void 0);Gt(M>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(w).join(",")}`),A=A.slice(0,Math.min(A.length,M+1))}let _=!1,O=-1;if(h)for(let M=0;M<A.length;M++){let E=A[M];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(O=M),E.route.id){let{loaderData:R,errors:L}=h,H=E.route.loader&&!R.hasOwnProperty(E.route.id)&&(!L||L[E.route.id]===void 0);if(E.route.lazy||H){_=!0,O>=0?A=A.slice(0,O+1):A=[A[0]];break}}}return A.reduceRight((M,E,R)=>{let L,H=!1,ie=null,ae=null;h&&(L=w&&E.route.id?w[E.route.id]:void 0,ie=E.route.errorElement||$x,_&&(O<0&&R===0?(Ah("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,ae=null):O===R&&(H=!0,ae=E.route.hydrateFallbackElement||null)));let Q=g.concat(A.slice(0,R+1)),ce=()=>{let W;return L?W=ie:H?W=ae:E.route.Component?W=q.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=M,q.createElement(t2,{match:E,routeContext:{outlet:M,matches:Q,isDataRoute:h!=null},children:W})};return h&&(E.route.ErrorBoundary||E.route.errorElement||R===0)?q.createElement(e2,{location:h.location,revalidation:h.revalidation,component:ie,error:L,children:ce(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):ce()},null)}function N0(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a2(f){let g=q.useContext(Is);return Gt(g,N0(f)),g}function r2(f){let g=q.useContext(oc);return Gt(g,N0(f)),g}function i2(f){let g=q.useContext($a);return Gt(g,N0(f)),g}function T0(f){let g=i2(f),h=g.matches[g.matches.length-1];return Gt(h.route.id,`${f} can only be used on routes that contain a unique "id"`),h.route.id}function s2(){return T0("useRouteId")}function l2(){var y;let f=q.useContext(v0),g=r2("useRouteError"),h=T0("useRouteError");return f!==void 0?f:(y=g.errors)==null?void 0:y[h]}function o2(){let{router:f}=a2("useNavigate"),g=T0("useNavigate"),h=q.useRef(!1);return bh(()=>{h.current=!0}),q.useCallback(async(A,w={})=>{Ma(h.current,yh),h.current&&(typeof A=="number"?f.navigate(A):await f.navigate(A,{fromRouteId:g,...w}))},[f,g])}var Vd={};function Ah(f,g,h){!g&&!Vd[f]&&(Vd[f]=!0,Ma(!1,h))}q.memo(c2);function c2({routes:f,future:g,state:h}){return wh(f,void 0,h,g)}function Eh({to:f,replace:g,state:h,relative:y}){Gt(Ms(),"<Navigate> may be used only in the context of a <Router> component.");let{static:A}=q.useContext(Oa);Ma(!A,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:w}=q.useContext($a),{pathname:_}=vr(),O=wa(),M=S0(f,C0(w),_,y==="path"),E=JSON.stringify(M);return q.useEffect(()=>{O(JSON.parse(E),{replace:g,state:h,relative:y})},[O,E,y,g,h]),null}function ba(f){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u2({basename:f="/",children:g=null,location:h,navigationType:y="POP",navigator:A,static:w=!1}){Gt(!Ms(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=f.replace(/^\/*/,"/"),O=q.useMemo(()=>({basename:_,navigator:A,static:w,future:{}}),[_,A,w]);typeof h=="string"&&(h=_s(h));let{pathname:M="/",search:E="",hash:R="",state:L=null,key:H="default"}=h,ie=q.useMemo(()=>{let ae=Cr(M,_);return ae==null?null:{location:{pathname:ae,search:E,hash:R,state:L,key:H},navigationType:y}},[_,M,E,R,L,H,y]);return Ma(ie!=null,`<Router basename="${_}"> is not able to match the URL "${M}${E}${R}" because it does not start with the basename, so the <Router> won't render anything.`),ie==null?null:q.createElement(Oa.Provider,{value:O},q.createElement(jl.Provider,{children:g,value:ie}))}function f2({children:f,location:g}){return Kx(y0(f),g)}function y0(f,g=[]){let h=[];return q.Children.forEach(f,(y,A)=>{if(!q.isValidElement(y))return;let w=[...g,A];if(y.type===q.Fragment){h.push.apply(h,y0(y.props.children,w));return}Gt(y.type===ba,`[${typeof y.type=="string"?y.type:y.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!y.props.index||!y.props.children,"An index route cannot have child routes.");let _={id:y.props.id||w.join("-"),caseSensitive:y.props.caseSensitive,element:y.props.element,Component:y.props.Component,index:y.props.index,path:y.props.path,loader:y.props.loader,action:y.props.action,hydrateFallbackElement:y.props.hydrateFallbackElement,HydrateFallback:y.props.HydrateFallback,errorElement:y.props.errorElement,ErrorBoundary:y.props.ErrorBoundary,hasErrorBoundary:y.props.hasErrorBoundary===!0||y.props.ErrorBoundary!=null||y.props.errorElement!=null,shouldRevalidate:y.props.shouldRevalidate,handle:y.props.handle,lazy:y.props.lazy};y.props.children&&(_.children=y0(y.props.children,w)),h.push(_)}),h}var ec="get",tc="application/x-www-form-urlencoded";function cc(f){return f!=null&&typeof f.tagName=="string"}function d2(f){return cc(f)&&f.tagName.toLowerCase()==="button"}function h2(f){return cc(f)&&f.tagName.toLowerCase()==="form"}function g2(f){return cc(f)&&f.tagName.toLowerCase()==="input"}function x2(f){return!!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)}function m2(f,g){return f.button===0&&(!g||g==="_self")&&!x2(f)}var $o=null;function p2(){if($o===null)try{new FormData(document.createElement("form"),0),$o=!1}catch{$o=!0}return $o}var y2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function g0(f){return f!=null&&!y2.has(f)?(Ma(!1,`"${f}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):f}function b2(f,g){let h,y,A,w,_;if(h2(f)){let O=f.getAttribute("action");y=O?Cr(O,g):null,h=f.getAttribute("method")||ec,A=g0(f.getAttribute("enctype"))||tc,w=new FormData(f)}else if(d2(f)||g2(f)&&(f.type==="submit"||f.type==="image")){let O=f.form;if(O==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let M=f.getAttribute("formaction")||O.getAttribute("action");if(y=M?Cr(M,g):null,h=f.getAttribute("formmethod")||O.getAttribute("method")||ec,A=g0(f.getAttribute("formenctype"))||g0(O.getAttribute("enctype"))||tc,w=new FormData(O,f),!p2()){let{name:E,type:R,value:L}=f;if(R==="image"){let H=E?`${E}.`:"";w.append(`${H}x`,"0"),w.append(`${H}y`,"0")}else E&&w.append(E,L)}}else{if(cc(f))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');h=ec,y=null,A=tc,_=f}return w&&A==="text/plain"&&(_=w,w=void 0),{action:y,method:h.toLowerCase(),encType:A,formData:w,body:_}}function _0(f,g){if(f===!1||f===null||typeof f>"u")throw new Error(g)}async function w2(f,g){if(f.id in g)return g[f.id];try{let h=await import(f.module);return g[f.id]=h,h}catch(h){return console.error(`Error loading route module \`${f.module}\`, reloading page...`),console.error(h),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A2(f){return f==null?!1:f.href==null?f.rel==="preload"&&typeof f.imageSrcSet=="string"&&typeof f.imageSizes=="string":typeof f.rel=="string"&&typeof f.href=="string"}async function E2(f,g,h){let y=await Promise.all(f.map(async A=>{let w=g.routes[A.route.id];if(w){let _=await w2(w,h);return _.links?_.links():[]}return[]}));return N2(y.flat(1).filter(A2).filter(A=>A.rel==="stylesheet"||A.rel==="preload").map(A=>A.rel==="stylesheet"?{...A,rel:"prefetch",as:"style"}:{...A,rel:"prefetch"}))}function Yd(f,g,h,y,A,w){let _=(M,E)=>h[E]?M.route.id!==h[E].route.id:!0,O=(M,E)=>{var R;return h[E].pathname!==M.pathname||((R=h[E].route.path)==null?void 0:R.endsWith("*"))&&h[E].params["*"]!==M.params["*"]};return w==="assets"?g.filter((M,E)=>_(M,E)||O(M,E)):w==="data"?g.filter((M,E)=>{var L;let R=y.routes[M.route.id];if(!R||!R.hasLoader)return!1;if(_(M,E)||O(M,E))return!0;if(M.route.shouldRevalidate){let H=M.route.shouldRevalidate({currentUrl:new URL(A.pathname+A.search+A.hash,window.origin),currentParams:((L=h[0])==null?void 0:L.params)||{},nextUrl:new URL(f,window.origin),nextParams:M.params,defaultShouldRevalidate:!0});if(typeof H=="boolean")return H}return!0}):[]}function C2(f,g,{includeHydrateFallback:h}={}){return S2(f.map(y=>{let A=g.routes[y.route.id];if(!A)return[];let w=[A.module];return A.clientActionModule&&(w=w.concat(A.clientActionModule)),A.clientLoaderModule&&(w=w.concat(A.clientLoaderModule)),h&&A.hydrateFallbackModule&&(w=w.concat(A.hydrateFallbackModule)),A.imports&&(w=w.concat(A.imports)),w}).flat(1))}function S2(f){return[...new Set(f)]}function v2(f){let g={},h=Object.keys(f).sort();for(let y of h)g[y]=f[y];return g}function N2(f,g){let h=new Set;return new Set(g),f.reduce((y,A)=>{let w=JSON.stringify(v2(A));return h.has(w)||(h.add(w),y.push({key:w,link:A})),y},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var T2=new Set([100,101,204,205]);function _2(f,g){let h=typeof f=="string"?new URL(f,typeof window>"u"?"server://singlefetch/":window.location.origin):f;return h.pathname==="/"?h.pathname="_root.data":g&&Cr(h.pathname,g)==="/"?h.pathname=`${g.replace(/\/$/,"")}/_root.data`:h.pathname=`${h.pathname.replace(/\/$/,"")}.data`,h}function Ch(){let f=q.useContext(Is);return _0(f,"You must render this element inside a <DataRouterContext.Provider> element"),f}function I2(){let f=q.useContext(oc);return _0(f,"You must render this element inside a <DataRouterStateContext.Provider> element"),f}var I0=q.createContext(void 0);I0.displayName="FrameworkContext";function Sh(){let f=q.useContext(I0);return _0(f,"You must render this element inside a <HydratedRouter> element"),f}function M2(f,g){let h=q.useContext(I0),[y,A]=q.useState(!1),[w,_]=q.useState(!1),{onFocus:O,onBlur:M,onMouseEnter:E,onMouseLeave:R,onTouchStart:L}=g,H=q.useRef(null);q.useEffect(()=>{if(f==="render"&&_(!0),f==="viewport"){let Q=W=>{W.forEach(se=>{_(se.isIntersecting)})},ce=new IntersectionObserver(Q,{threshold:.5});return H.current&&ce.observe(H.current),()=>{ce.disconnect()}}},[f]),q.useEffect(()=>{if(y){let Q=setTimeout(()=>{_(!0)},100);return()=>{clearTimeout(Q)}}},[y]);let ie=()=>{A(!0)},ae=()=>{A(!1),_(!1)};return h?f!=="intent"?[w,H,{}]:[w,H,{onFocus:Ml(O,ie),onBlur:Ml(M,ae),onMouseEnter:Ml(E,ie),onMouseLeave:Ml(R,ae),onTouchStart:Ml(L,ie)}]:[!1,H,{}]}function Ml(f,g){return h=>{f&&f(h),h.defaultPrevented||g(h)}}function O2({page:f,...g}){let{router:h}=Ch(),y=q.useMemo(()=>hh(h.routes,f,h.basename),[h.routes,f,h.basename]);return y?q.createElement(R2,{page:f,matches:y,...g}):null}function D2(f){let{manifest:g,routeModules:h}=Sh(),[y,A]=q.useState([]);return q.useEffect(()=>{let w=!1;return E2(f,g,h).then(_=>{w||A(_)}),()=>{w=!0}},[f,g,h]),y}function R2({page:f,matches:g,...h}){let y=vr(),{manifest:A,routeModules:w}=Sh(),{basename:_}=Ch(),{loaderData:O,matches:M}=I2(),E=q.useMemo(()=>Yd(f,g,M,A,y,"data"),[f,g,M,A,y]),R=q.useMemo(()=>Yd(f,g,M,A,y,"assets"),[f,g,M,A,y]),L=q.useMemo(()=>{if(f===y.pathname+y.search+y.hash)return[];let ae=new Set,Q=!1;if(g.forEach(W=>{var le;let se=A.routes[W.route.id];!se||!se.hasLoader||(!E.some(Se=>Se.route.id===W.route.id)&&W.route.id in O&&((le=w[W.route.id])!=null&&le.shouldRevalidate)||se.hasClientLoader?Q=!0:ae.add(W.route.id))}),ae.size===0)return[];let ce=_2(f,_);return Q&&ae.size>0&&ce.searchParams.set("_routes",g.filter(W=>ae.has(W.route.id)).map(W=>W.route.id).join(",")),[ce.pathname+ce.search]},[_,O,y,A,E,g,f,w]),H=q.useMemo(()=>C2(R,A),[R,A]),ie=D2(R);return q.createElement(q.Fragment,null,L.map(ae=>q.createElement("link",{key:ae,rel:"prefetch",as:"fetch",href:ae,...h})),H.map(ae=>q.createElement("link",{key:ae,rel:"modulepreload",href:ae,...h})),ie.map(({key:ae,link:Q})=>q.createElement("link",{key:ae,...Q})))}function B2(...f){return g=>{f.forEach(h=>{typeof h=="function"?h(g):h!=null&&(h.current=g)})}}var vh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vh&&(window.__reactRouterVersion="7.6.1")}catch{}function L2({basename:f,children:g,window:h}){let y=q.useRef();y.current==null&&(y.current=Ex({window:h,v5Compat:!0}));let A=y.current,[w,_]=q.useState({action:A.action,location:A.location}),O=q.useCallback(M=>{q.startTransition(()=>_(M))},[_]);return q.useLayoutEffect(()=>A.listen(O),[A,O]),q.createElement(u2,{basename:f,children:g,location:w.location,navigationType:w.action,navigator:A})}var Nh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Th=q.forwardRef(function({onClick:g,discover:h="render",prefetch:y="none",relative:A,reloadDocument:w,replace:_,state:O,target:M,to:E,preventScrollReset:R,viewTransition:L,...H},ie){let{basename:ae}=q.useContext(Oa),Q=typeof E=="string"&&Nh.test(E),ce,W=!1;if(typeof E=="string"&&Q&&(ce=E,vh))try{let oe=new URL(window.location.href),Ne=E.startsWith("//")?new URL(oe.protocol+E):new URL(E),Oe=Cr(Ne.pathname,ae);Ne.origin===oe.origin&&Oe!=null?E=Oe+Ne.search+Ne.hash:W=!0}catch{Ma(!1,`<Link to="${E}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=Qx(E,{relative:A}),[le,Se,Ie]=M2(y,H),ne=z2(E,{replace:_,state:O,target:M,preventScrollReset:R,relative:A,viewTransition:L});function re(oe){g&&g(oe),oe.defaultPrevented||ne(oe)}let be=q.createElement("a",{...H,...Ie,href:ce||se,onClick:W||w?g:re,ref:B2(ie,Se),target:M,"data-discover":!Q&&h==="render"?"true":void 0});return le&&!Q?q.createElement(q.Fragment,null,be,q.createElement(O2,{page:se})):be});Th.displayName="Link";var j2=q.forwardRef(function({"aria-current":g="page",caseSensitive:h=!1,className:y="",end:A=!1,style:w,to:_,viewTransition:O,children:M,...E},R){let L=kl(_,{relative:E.relative}),H=vr(),ie=q.useContext(oc),{navigator:ae,basename:Q}=q.useContext(Oa),ce=ie!=null&&V2(L)&&O===!0,W=ae.encodeLocation?ae.encodeLocation(L).pathname:L.pathname,se=H.pathname,le=ie&&ie.navigation&&ie.navigation.location?ie.navigation.location.pathname:null;h||(se=se.toLowerCase(),le=le?le.toLowerCase():null,W=W.toLowerCase()),le&&Q&&(le=Cr(le,Q)||le);const Se=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let Ie=se===W||!A&&se.startsWith(W)&&se.charAt(Se)==="/",ne=le!=null&&(le===W||!A&&le.startsWith(W)&&le.charAt(W.length)==="/"),re={isActive:Ie,isPending:ne,isTransitioning:ce},be=Ie?g:void 0,oe;typeof y=="function"?oe=y(re):oe=[y,Ie?"active":null,ne?"pending":null,ce?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof w=="function"?w(re):w;return q.createElement(Th,{...E,"aria-current":be,className:oe,ref:R,style:Ne,to:_,viewTransition:O},typeof M=="function"?M(re):M)});j2.displayName="NavLink";var k2=q.forwardRef(({discover:f="render",fetcherKey:g,navigate:h,reloadDocument:y,replace:A,state:w,method:_=ec,action:O,onSubmit:M,relative:E,preventScrollReset:R,viewTransition:L,...H},ie)=>{let ae=H2(),Q=G2(O,{relative:E}),ce=_.toLowerCase()==="get"?"get":"post",W=typeof O=="string"&&Nh.test(O),se=le=>{if(M&&M(le),le.defaultPrevented)return;le.preventDefault();let Se=le.nativeEvent.submitter,Ie=(Se==null?void 0:Se.getAttribute("formmethod"))||_;ae(Se||le.currentTarget,{fetcherKey:g,method:Ie,navigate:h,replace:A,state:w,relative:E,preventScrollReset:R,viewTransition:L})};return q.createElement("form",{ref:ie,method:ce,action:Q,onSubmit:y?M:se,...H,"data-discover":!W&&f==="render"?"true":void 0})});k2.displayName="Form";function U2(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _h(f){let g=q.useContext(Is);return Gt(g,U2(f)),g}function z2(f,{target:g,replace:h,state:y,preventScrollReset:A,relative:w,viewTransition:_}={}){let O=wa(),M=vr(),E=kl(f,{relative:w});return q.useCallback(R=>{if(m2(R,g)){R.preventDefault();let L=h!==void 0?h:Bl(M)===Bl(E);O(f,{replace:L,state:y,preventScrollReset:A,relative:w,viewTransition:_})}},[M,O,E,h,y,g,f,A,w,_])}var P2=0,F2=()=>`__${String(++P2)}__`;function H2(){let{router:f}=_h("useSubmit"),{basename:g}=q.useContext(Oa),h=s2();return q.useCallback(async(y,A={})=>{let{action:w,method:_,encType:O,formData:M,body:E}=b2(y,g);if(A.navigate===!1){let R=A.fetcherKey||F2();await f.fetch(R,h,A.action||w,{preventScrollReset:A.preventScrollReset,formData:M,body:E,formMethod:A.method||_,formEncType:A.encType||O,flushSync:A.flushSync})}else await f.navigate(A.action||w,{preventScrollReset:A.preventScrollReset,formData:M,body:E,formMethod:A.method||_,formEncType:A.encType||O,replace:A.replace,state:A.state,fromRouteId:h,flushSync:A.flushSync,viewTransition:A.viewTransition})},[f,g,h])}function G2(f,{relative:g}={}){let{basename:h}=q.useContext(Oa),y=q.useContext($a);Gt(y,"useFormAction must be used inside a RouteContext");let[A]=y.matches.slice(-1),w={...kl(f||".",{relative:g})},_=vr();if(f==null){w.search=_.search;let O=new URLSearchParams(w.search),M=O.getAll("index");if(M.some(R=>R==="")){O.delete("index"),M.filter(L=>L).forEach(L=>O.append("index",L));let R=O.toString();w.search=R?`?${R}`:""}}return(!f||f===".")&&A.route.index&&(w.search=w.search?w.search.replace(/^\?/,"?index&"):"?index"),h!=="/"&&(w.pathname=w.pathname==="/"?h:Er([h,w.pathname])),Bl(w)}function V2(f,g={}){let h=q.useContext(ph);Gt(h!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:y}=_h("useViewTransitionState"),A=kl(f,{relative:g.relative});if(!h.isTransitioning)return!1;let w=Cr(h.currentLocation.pathname,y)||h.currentLocation.pathname,_=Cr(h.nextLocation.pathname,y)||h.nextLocation.pathname;return ac(A.pathname,_)!=null||ac(A.pathname,w)!=null}[...T2];const Ih=q.createContext(),ji=()=>{const f=q.useContext(Ih);if(!f)throw new Error("useAuth must be used within an AuthProvider");return f},Y2=({children:f})=>{const[g,h]=q.useState(null),[y,A]=q.useState(null),[w,_]=q.useState(!0);q.useEffect(()=>{const Q=localStorage.getItem("nutriscan_user"),ce=localStorage.getItem("nutriscan_local_profile");Q&&h(JSON.parse(Q)),ce&&A(JSON.parse(ce)),_(!1)},[]);const ae={user:g,localProfile:y,loading:w,signIn:async(Q,ce)=>{try{const W={id:Date.now().toString(),email:Q,createdAt:new Date().toISOString()};return h(W),localStorage.setItem("nutriscan_user",JSON.stringify(W)),{user:W,error:null}}catch(W){return{user:null,error:W}}},signUp:async(Q,ce)=>{try{const W={id:Date.now().toString(),email:Q,createdAt:new Date().toISOString()};return h(W),localStorage.setItem("nutriscan_user",JSON.stringify(W)),{user:W,error:null}}catch(W){return{user:null,error:W}}},signInWithGoogle:async()=>{try{return new Promise((Q,ce)=>{if(typeof window.google>"u"){const W={id:"google_"+Date.now(),email:"usuario@gmail.com",name:"Usuario Google",picture:"https://via.placeholder.com/150",provider:"google",createdAt:new Date().toISOString()};h(W),localStorage.setItem("nutriscan_user",JSON.stringify(W)),Q({user:W,error:null});return}window.google.accounts.id.initialize({client_id:"1234567890-abcdefghijklmnopqrstuvwxyz.apps.googleusercontent.com",callback:W=>{try{const se=JSON.parse(atob(W.credential.split(".")[1])),le={id:"google_"+se.sub,email:se.email,name:se.name,picture:se.picture,provider:"google",createdAt:new Date().toISOString()};h(le),localStorage.setItem("nutriscan_user",JSON.stringify(le));const Se=localStorage.getItem("nutriscan_health_profile"),Ie=localStorage.getItem("nutriscan_product_history");Se&&localStorage.setItem(`nutriscan_health_profile_${le.id}`,Se),Ie&&localStorage.setItem(`nutriscan_product_history_${le.id}`,Ie),Q({user:le,error:null})}catch(se){ce({user:null,error:se})}}}),window.google.accounts.id.prompt(W=>{if(W.isNotDisplayed()||W.isSkippedMoment()){const se={id:"google_"+Date.now(),email:"usuario@gmail.com",name:"Usuario Google",picture:"https://via.placeholder.com/150",provider:"google",createdAt:new Date().toISOString()};h(se),localStorage.setItem("nutriscan_user",JSON.stringify(se)),Q({user:se,error:null})}})})}catch(Q){return{user:null,error:Q}}},signOut:async()=>{try{return h(null),A(null),localStorage.removeItem("nutriscan_user"),localStorage.removeItem("nutriscan_local_profile"),localStorage.removeItem("nutriscan_health_profile"),{error:null}}catch(Q){return{error:Q}}},continueWithoutAccount:()=>{const Q={id:"local_"+Date.now(),email:null,isLocal:!0,createdAt:new Date().toISOString()};return A(Q),localStorage.setItem("nutriscan_local_profile",JSON.stringify(Q)),{user:Q,error:null}},isAuthenticated:()=>!!(g||y),getCurrentUser:()=>g||y};return m.jsx(Ih.Provider,{value:ae,children:f})},Mh=q.createContext(),M0=()=>{const f=q.useContext(Mh);if(!f)throw new Error("useHealthProfile must be used within a HealthProfileProvider");return f},X2=({children:f})=>{const{getCurrentUser:g}=ji(),[h,y]=q.useState(null),[A,w]=q.useState(!0);q.useEffect(()=>{_()},[]);const _=()=>{try{const H=localStorage.getItem("nutriscan_health_profile");H&&y(JSON.parse(H))}catch(H){console.error("Error loading health profile:",H)}finally{w(!1)}},L={healthProfile:h,loading:A,updateHealthProfile:async H=>{try{const ie=g();if(!ie)throw new Error("No user authenticated");const ae={...h,...H,userId:ie.id,updatedAt:new Date().toISOString()};return y(ae),localStorage.setItem("nutriscan_health_profile",JSON.stringify(ae)),{error:null}}catch(ie){return console.error("Error updating health profile:",ie),{error:ie}}},getHealthConditions:()=>(h==null?void 0:h.conditions)||[],getHealthGoals:()=>(h==null?void 0:h.goals)||[],hasHealthProfile:()=>{var H,ie;return!!((H=h==null?void 0:h.conditions)!=null&&H.length||(ie=h==null?void 0:h.goals)!=null&&ie.length)},loadHealthProfile:_};return m.jsx(Mh.Provider,{value:L,children:f})},Oh=q.createContext(),Ul=()=>{const f=q.useContext(Oh);if(!f)throw new Error("usePremium must be used within a PremiumProvider");return f},q2=({children:f})=>{const{getCurrentUser:g}=ji(),[h,y]=q.useState("free"),[A,w]=q.useState(0),[_,O]=q.useState(null);q.useEffect(()=>{M(),E()},[]);const M=()=>{try{const W=localStorage.getItem("nutriscan_subscription");if(W){const le=JSON.parse(W);y(le.type||"free"),O(le)}const se=localStorage.getItem("nutriscan_daily_scans");if(se){const le=JSON.parse(se),Se=new Date().toDateString();le.date===Se?w(le.count):(w(0),localStorage.setItem("nutriscan_daily_scans",JSON.stringify({date:Se,count:0})))}}catch(W){console.error("Error loading subscription data:",W)}},E=()=>{const W=new Date().toDateString(),se=localStorage.getItem("nutriscan_daily_scans");se&&JSON.parse(se).date!==W&&(w(0),localStorage.setItem("nutriscan_daily_scans",JSON.stringify({date:W,count:0})))},ce={subscriptionType:h,dailyScans:A,subscriptionData:_,canScan:()=>h==="premium"||h==="pro"?!0:A<5,getRemainingScans:()=>h==="premium"||h==="pro"?"Ilimitado":Math.max(0,5-A),incrementDailyScans:()=>{const W=A+1;w(W);const se=new Date().toDateString();localStorage.setItem("nutriscan_daily_scans",JSON.stringify({date:se,count:W}))},upgradeSubscription:async(W,se="monthly")=>{try{const le=g();if(!le)throw new Error("No user authenticated");const Se={type:W,billingCycle:se,userId:le.id,startDate:new Date().toISOString(),status:"active"};return y(W),O(Se),localStorage.setItem("nutriscan_subscription",JSON.stringify(Se)),{success:!0,error:null}}catch(le){return console.error("Error upgrading subscription:",le),{success:!1,error:le}}},cancelSubscription:async()=>{try{return y("free"),O(null),localStorage.removeItem("nutriscan_subscription"),{success:!0,error:null}}catch(W){return console.error("Error canceling subscription:",W),{success:!1,error:W}}},getSubscriptionFeatures:()=>{const W={free:{scans:"5 diarios",analysis:"Básico",history:"7 días",ads:"Sí",support:"Comunidad"},premium:{scans:"Ilimitados",analysis:"Avanzado",history:"Completo",ads:"No",support:"Email"},pro:{scans:"Ilimitados",analysis:"IA Avanzada",history:"Completo + Exportar",ads:"No",support:"Prioritario"}};return W[h]||W.free},loadSubscriptionData:M};return m.jsx(Oh.Provider,{value:ce,children:f})},Dh=q.createContext(),O0=()=>{const f=q.useContext(Dh);if(!f)throw new Error("useProductHistory must be used within a ProductHistoryProvider");return f},Z2=({children:f})=>{const[g,h]=q.useState([]);q.useEffect(()=>{const M=localStorage.getItem("nutriscan_product_history");if(M)try{h(JSON.parse(M))}catch(E){console.error("Error loading product history:",E)}},[]);const y=(M,E)=>{const L=[{id:Date.now(),scannedAt:new Date().toISOString(),product_name:M.name,brands:M.brand,barcode:M.barcode,image_url:M.image,nutriscore_grade:M.nutriscore,nutrition:M.nutrition,analysis:E},...g.slice(0,99)];h(L),localStorage.setItem("nutriscan_product_history",JSON.stringify(L))},A=(M="free")=>{switch(M){case"free":return[];case"premium":return g.slice(0,5);case"pro":return g;default:return[]}},w=()=>{h([]),localStorage.removeItem("nutriscan_product_history")},_=M=>g.find(E=>E.id===M),O=()=>g.length;return m.jsx(Dh.Provider,{value:{productHistory:g,addProductToHistory:y,getProductHistory:A,clearHistory:w,getProductById:_,getHistoryCount:O},children:f})},ii=({children:f})=>{const{isAuthenticated:g,loading:h}=ji();return h?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):g()?f:m.jsx(Eh,{to:"/auth",replace:!0})};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=f=>f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W2=f=>f.replace(/^([A-Z])|[\s-_]+(\w)/g,(g,h,y)=>y?y.toUpperCase():h.toLowerCase()),Xd=f=>{const g=W2(f);return g.charAt(0).toUpperCase()+g.slice(1)},Rh=(...f)=>f.filter((g,h,y)=>!!g&&g.trim()!==""&&y.indexOf(g)===h).join(" ").trim(),K2=f=>{for(const g in f)if(g.startsWith("aria-")||g==="role"||g==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=q.forwardRef(({color:f="currentColor",size:g=24,strokeWidth:h=2,absoluteStrokeWidth:y,className:A="",children:w,iconNode:_,...O},M)=>q.createElement("svg",{ref:M,...J2,width:g,height:g,stroke:f,strokeWidth:y?Number(h)*24/Number(g):h,className:Rh("lucide",A),...!w&&!K2(O)&&{"aria-hidden":"true"},...O},[..._.map(([E,R])=>q.createElement(E,R)),...Array.isArray(w)?w:[w]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(f,g)=>{const h=q.forwardRef(({className:y,...A},w)=>q.createElement($2,{ref:w,iconNode:g,className:Rh(`lucide-${Q2(Xd(f))}`,`lucide-${f}`,y),...A}));return h.displayName=Xd(f),h};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ki=it("arrow-left",em);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],nm=it("bell",tm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],rm=it("brain",am);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qd=it("calendar",im);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],x0=it("camera",sm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ns=it("check",lm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cm=it("chevron-right",om);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fm=it("circle-alert",um);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hm=it("circle-help",dm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],xm=it("clock",gm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Li=it("crown",mm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Zd=it("database",pm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bm=it("eye-off",ym);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bh=it("eye",wm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Em=it("globe",Am);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],D0=it("heart",Cm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Dl=it("history",Sm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Nm=it("keyboard",vm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],b0=it("lock",Tm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Lh=it("log-out",_m);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rc=it("mail",Im);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Om=it("map-pin",Mm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Rm=it("message-square",Dm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Lm=it("moon",Bm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],km=it("package",jm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],jh=it("phone",Um);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pm=it("save",zm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Rl=it("scan",Fm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qd=it("search",Hm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Vm=it("send",Gm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xm=it("settings",Ym);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nc=it("shield",qm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],m0=it("star",Zm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Wm=it("target",Qm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Jm=it("trending-up",Km);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],li=it("user",$m);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ic=it("zap",ep),tp=()=>{var ce,W,se,le,Se,Ie;const f=wa(),{getCurrentUser:g}=ji(),{healthProfile:h}=M0(),{subscriptionType:y,getRemainingScans:A,getSubscriptionFeatures:w}=Ul(),{getProductHistory:_}=O0(),O=g();w();const M=_(y).slice(0,3),E=()=>{f("/scanner")},R=ne=>{ne.preventDefault(),console.log("Búsqueda manual implementada")},L=()=>{const ne=new Date().getHours();return ne<12?"Buenos días":ne<18?"Buenas tardes":"Buenas noches"},H=ne=>({diabetes:{label:"Diabetes",emoji:"🩸",color:"bg-red-100 text-red-800 border-red-200"},hipertension:{label:"Hipertensión",emoji:"💓",color:"bg-orange-100 text-orange-800 border-orange-200"},sin_vesicula:{label:"Sin vesícula",emoji:"🫀",color:"bg-yellow-100 text-yellow-800 border-yellow-200"},intolerancia_lactosa:{label:"Intolerancia lactosa",emoji:"🥛",color:"bg-blue-100 text-blue-800 border-blue-200"},celiaquia:{label:"Celiaquía",emoji:"🌾",color:"bg-amber-100 text-amber-800 border-amber-200"},colesterol_alto:{label:"Colesterol alto",emoji:"🧈",color:"bg-purple-100 text-purple-800 border-purple-200"}})[ne]||{label:ne,emoji:"⚕️",color:"bg-gray-100 text-gray-800 border-gray-200"},ie=ne=>({perder_peso:{label:"Perder peso",emoji:"⚖️",color:"bg-green-100 text-green-800 border-green-200"},ganar_masa_muscular:{label:"Ganar músculo",emoji:"💪",color:"bg-indigo-100 text-indigo-800 border-indigo-200"},alimentacion_balanceada:{label:"Alimentación balanceada",emoji:"🥗",color:"bg-emerald-100 text-emerald-800 border-emerald-200"},reducir_azucar:{label:"Reducir azúcar",emoji:"🍯",color:"bg-pink-100 text-pink-800 border-pink-200"},reducir_sodio:{label:"Reducir sodio",emoji:"🧂",color:"bg-cyan-100 text-cyan-800 border-cyan-200"},aumentar_fibra:{label:"Aumentar fibra",emoji:"🌿",color:"bg-lime-100 text-lime-800 border-lime-200"}})[ne]||{label:ne,emoji:"🎯",color:"bg-gray-100 text-gray-800 border-gray-200"},ae=()=>{var be,oe;if(!((be=h==null?void 0:h.conditions)!=null&&be.length)&&!((oe=h==null?void 0:h.goals)!=null&&oe.length))return"Perfil no configurado";const ne=h.conditions||[],re=h.goals||[];return`${ne.length} condición(es), ${re.length} objetivo(s)`},Q=()=>{const ne=(h==null?void 0:h.conditions)||[],re=new Date().getDate(),be=["💡 Lee siempre las etiquetas nutricionales. Busca productos con menos de 5 ingredientes.","🥗 Incluye al menos 5 porciones de frutas y verduras en tu día.","💧 Bebe 8 vasos de agua al día para mantener tu cuerpo hidratado.","🚶‍♀️ Camina 30 minutos diarios para mejorar tu salud cardiovascular.","🍎 Prefiere snacks naturales como frutas, nueces o yogur natural.","⏰ Come cada 3-4 horas para mantener estables tus niveles de energía.","🥛 Elige lácteos bajos en grasa o alternativas vegetales fortificadas.","🍞 Prefiere cereales integrales sobre los refinados para más fibra."],oe=["🩸 Para diabetes: Controla las porciones de carbohidratos en cada comida.","🩸 Para diabetes: Prefiere alimentos con índice glucémico bajo como avena y legumbres.","🩸 Para diabetes: Evita bebidas azucaradas, mejor agua con limón o té sin azúcar."],Ne=["💓 Para hipertensión: Reduce el sodio eligiendo productos con menos de 140mg por porción.","💓 Para hipertensión: Incluye alimentos ricos en potasio como plátanos y espinacas.","💓 Para hipertensión: Limita los alimentos procesados y embutidos."],Oe=["🧈 Para colesterol alto: Elige grasas saludables como aguacate, nueces y aceite de oliva.","🧈 Para colesterol alto: Incluye avena y legumbres que ayudan a reducir el colesterol.","🧈 Para colesterol alto: Limita las grasas saturadas y evita las grasas trans."];let Ae=[...be];ne.includes("diabetes")&&(Ae=[...Ae,...oe]),ne.includes("hipertension")&&(Ae=[...Ae,...Ne]),ne.includes("colesterol_alto")&&(Ae=[...Ae,...Oe]);const Te=re%Ae.length;return Ae[Te]};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50",children:[m.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 p-4",children:m.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:[L(),", ",((ce=O==null?void 0:O.email)==null?void 0:ce.split("@")[0])||"Usuario"]}),m.jsx("p",{className:"text-sm text-gray-600",children:y==="free"?`${A()} escaneos restantes hoy`:"Escaneos ilimitados"})]}),y==="free"&&m.jsxs("button",{onClick:()=>f("/subscription"),className:"flex items-center bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all",children:[m.jsx(Li,{className:"w-4 h-4 mr-2"}),"Upgrade"]})]})}),m.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[m.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-gray-100",children:m.jsxs("form",{onSubmit:R,className:"flex gap-3",children:[m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(Qd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),m.jsx("input",{type:"text",placeholder:"Buscar producto por nombre...",className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-lg"})]}),m.jsx("button",{type:"submit",className:"bg-gradient-to-r from-blue-600 to-green-600 text-white px-8 py-4 rounded-2xl hover:from-blue-700 hover:to-green-700 transition-all font-medium",children:"Buscar"})]})}),m.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-3xl p-8 text-white shadow-xl",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-3xl flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:m.jsx(Rl,{className:"w-10 h-10 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Escanear Producto"}),m.jsx("p",{className:"text-green-100 mb-6",children:"Apunta tu cámara al código de barras para obtener información nutricional"}),m.jsx("button",{onClick:E,className:"bg-white text-green-600 font-bold py-4 px-8 rounded-2xl hover:bg-gray-100 transition-all transform hover:scale-105 shadow-lg",children:m.jsxs("div",{className:"flex items-center justify-center",children:[m.jsx(Rl,{className:"w-5 h-5 mr-2"}),"Iniciar Escáner"]})})]})}),m.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-gray-100",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-400 to-pink-500 rounded-2xl flex items-center justify-center mr-4",children:m.jsx(li,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Perfil de Salud"}),m.jsx("p",{className:"text-gray-600",children:ae()})]})]}),m.jsx("button",{onClick:()=>f("/profile"),className:"bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition-colors font-medium",children:(W=h==null?void 0:h.conditions)!=null&&W.length?"Editar":"Configurar"})]}),((se=h==null?void 0:h.conditions)==null?void 0:se.length)>0&&m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Condiciones activas:"}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.conditions.slice(0,3).map((ne,re)=>{const be=H(ne);return m.jsxs("div",{className:`inline-flex items-center px-3 py-2 rounded-xl text-sm font-medium ${be.color} border shadow-sm`,children:[m.jsx("span",{className:"mr-2",children:be.emoji}),m.jsx("span",{children:be.label})]},re)}),h.conditions.length>3&&m.jsxs("div",{className:"inline-flex items-center px-3 py-2 rounded-xl text-sm font-medium bg-gray-100 text-gray-700 border shadow-sm",children:["+",h.conditions.length-3," más"]})]})]}),((le=h==null?void 0:h.goals)==null?void 0:le.length)>0&&m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Objetivos nutricionales:"}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.goals.slice(0,2).map((ne,re)=>{const be=ie(ne);return m.jsxs("div",{className:`inline-flex items-center px-3 py-2 rounded-xl text-sm font-medium ${be.color} border shadow-sm`,children:[m.jsx("span",{className:"mr-2",children:be.emoji}),m.jsx("span",{children:be.label})]},re)}),h.goals.length>2&&m.jsxs("div",{className:"inline-flex items-center px-3 py-2 rounded-xl text-sm font-medium bg-gray-100 text-gray-700 border shadow-sm",children:["+",h.goals.length-2," más"]})]})]}),!((Se=h==null?void 0:h.conditions)!=null&&Se.length)&&!((Ie=h==null?void 0:h.goals)!=null&&Ie.length)&&m.jsxs("div",{className:"text-center py-4",children:[m.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:m.jsx(li,{className:"w-8 h-8 text-gray-400"})}),m.jsx("p",{className:"text-gray-500 mb-4",children:"Configura tu perfil de salud para recibir recomendaciones personalizadas"}),m.jsx("button",{onClick:()=>f("/profile"),className:"bg-gradient-to-r from-blue-600 to-green-600 text-white px-6 py-3 rounded-xl hover:from-blue-700 hover:to-green-700 transition-all transform hover:scale-105 font-medium",children:"Configurar Perfil"})]})]}),m.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-gray-100",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-2xl flex items-center justify-center mr-4",children:m.jsx(Dl,{className:"w-6 h-6 text-green-600"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Productos Recientes"}),m.jsx("p",{className:"text-gray-600 hidden sm:block",children:"Historial de escaneos"})]})]})}),M.length>0?m.jsxs("div",{className:"space-y-3",children:[M.map((ne,re)=>{var be,oe;return m.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>{f("/scanner",{state:{productInfo:ne,analysis:ne.analysis,fromHistory:!0}})},children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-blue-500 rounded-xl flex items-center justify-center mr-3 flex-shrink-0",children:m.jsx("span",{className:"text-white font-bold text-sm",children:((be=ne.product_name)==null?void 0:be.charAt(0))||"P"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-medium text-gray-900 text-sm truncate",children:ne.product_name||"Producto sin nombre"}),m.jsx("p",{className:"text-xs text-gray-500 truncate",children:ne.brands||"Marca no disponible"}),m.jsx("p",{className:"text-xs text-gray-400",children:new Date(ne.scannedAt).toLocaleDateString()})]}),m.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white flex-shrink-0 ${ne.nutriscore_grade==="a"?"bg-green-500":ne.nutriscore_grade==="b"?"bg-yellow-500":ne.nutriscore_grade==="c"?"bg-orange-500":ne.nutriscore_grade==="d"?"bg-red-500":ne.nutriscore_grade==="e"?"bg-red-700":"bg-gray-500"}`,children:((oe=ne.nutriscore_grade)==null?void 0:oe.toUpperCase())||"?"})]},re)}),y!=="free"&&m.jsx("button",{onClick:()=>f("/history"),className:"w-full text-center text-green-600 font-medium py-2 hover:text-green-700 transition-colors",children:"Ver historial completo"})]}):m.jsx("div",{className:"text-center py-8",children:y==="free"?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:m.jsx(Dl,{className:"w-8 h-8 text-gray-400"})}),m.jsx("p",{className:"text-gray-500 mb-4",children:"El historial está disponible en planes Premium y Pro"}),m.jsx("button",{onClick:()=>f("/subscription"),className:"bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-colors font-medium",children:"Actualizar Plan"})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:m.jsx(Dl,{className:"w-8 h-8 text-gray-400"})}),m.jsx("p",{className:"text-gray-500 mb-4",children:"Aún no has escaneado productos"}),m.jsx("button",{onClick:E,className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-colors font-medium",children:"Escanear Primer Producto"})]})})]}),m.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl p-4 sm:p-6 text-white shadow-xl",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 rounded-2xl flex items-center justify-center mr-3 sm:mr-4 backdrop-blur-sm flex-shrink-0",children:m.jsx(ic,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h3",{className:"text-base sm:text-lg font-bold",children:"Consejo del Día"}),m.jsx("p",{className:"text-purple-100 text-xs sm:text-sm",children:"Recomendación personalizada"})]})]}),m.jsx("div",{className:"bg-white/20 rounded-2xl p-3 sm:p-4 backdrop-blur-sm border border-white/30 shadow-lg",children:m.jsx("div",{className:"min-h-[120px] sm:min-h-[140px] flex items-start",children:m.jsx("p",{className:"text-white font-medium leading-relaxed text-sm sm:text-base break-words whitespace-pre-wrap w-full",children:Q()})})})]})]}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 safe-area-pb",children:m.jsxs("div",{className:"max-w-4xl mx-auto flex justify-around",children:[m.jsxs("button",{onClick:()=>f("/home"),className:"flex flex-col items-center py-2 px-4 text-blue-600",children:[m.jsx(Rl,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-medium",children:"Inicio"})]}),m.jsxs("button",{onClick:()=>f("/scanner"),className:"flex flex-col items-center py-2 px-4 text-gray-600 hover:text-blue-600 transition-colors",children:[m.jsx(Qd,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-medium",children:"Escáner"})]}),m.jsxs("button",{onClick:()=>f("/profile"),className:"flex flex-col items-center py-2 px-4 text-gray-600 hover:text-blue-600 transition-colors",children:[m.jsx(li,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-medium",children:"Perfil"})]}),m.jsxs("button",{onClick:()=>f("/settings"),className:"flex flex-col items-center py-2 px-4 text-gray-600 hover:text-blue-600 transition-colors",children:[m.jsx(Xm,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-medium",children:"Ajustes"})]})]})})]})};function np(f){if(typeof document>"u")return;let g=document.head||document.getElementsByTagName("head")[0],h=document.createElement("style");h.type="text/css",g.firstChild?g.insertBefore(h,g.firstChild):g.appendChild(h),h.styleSheet?h.styleSheet.cssText=f:h.appendChild(document.createTextNode(f))}np(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var R0=f=>typeof f=="number"&&!isNaN(f),Ll=f=>typeof f=="string",kh=f=>typeof f=="function",ap=f=>Ll(f)||R0(f),rp=f=>q.isValidElement(f)||Ll(f)||kh(f)||R0(f),ip=1,Uh=()=>`${ip++}`,Ja=new Map,w0=[],Wd=new Set,zh=()=>Ja.size>0,sp=(f,{containerId:g})=>{var h;return(h=Ja.get(g||1))==null?void 0:h.toasts.get(f)};function lp(f,g){var h;if(g)return!!((h=Ja.get(g))!=null&&h.isToastActive(f));let y=!1;return Ja.forEach(A=>{A.isToastActive(f)&&(y=!0)}),y}function op(f){if(!zh()){w0=w0.filter(g=>f!=null&&g.options.toastId!==f);return}if(f==null||ap(f))Ja.forEach(g=>{g.removeToast(f)});else if(f&&("containerId"in f||"id"in f)){let g=Ja.get(f.containerId);g?g.removeToast(f.id):Ja.forEach(h=>{h.removeToast(f.id)})}}var cp=(f={})=>{Ja.forEach(g=>{g.props.limit&&(!f.containerId||g.id===f.containerId)&&g.clearQueue()})};function up(f,g){rp(f)&&(zh()||w0.push({content:f,options:g}),Ja.forEach(h=>{h.buildToast(f,g)}))}function Ph(f,g){Ja.forEach(h=>{(g==null||!(g!=null&&g.containerId)||(g==null?void 0:g.containerId)===h.id)&&h.toggle(f,g==null?void 0:g.id)})}function fp(f){return Wd.add(f),()=>{Wd.delete(f)}}function dp(f){return f&&(Ll(f.toastId)||R0(f.toastId))?f.toastId:Uh()}function zl(f,g){return up(f,g),g.toastId}function uc(f,g){return{...g,type:g&&g.type||f,toastId:dp(g)}}function fc(f){return(g,h)=>zl(g,uc(f,h))}function Le(f,g){return zl(f,uc("default",g))}Le.loading=(f,g)=>zl(f,uc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...g}));function hp(f,{pending:g,error:h,success:y},A){let w;g&&(w=Ll(g)?Le.loading(g,A):Le.loading(g.render,{...A,...g}));let _={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},O=(E,R,L)=>{if(R==null){Le.dismiss(w);return}let H={type:E,..._,...A,data:L},ie=Ll(R)?{render:R}:R;return w?Le.update(w,{...H,...ie}):Le(ie.render,{...H,...ie}),L},M=kh(f)?f():f;return M.then(E=>O("success",y,E)).catch(E=>O("error",h,E)),M}Le.promise=hp;Le.success=fc("success");Le.info=fc("info");Le.error=fc("error");Le.warning=fc("warning");Le.warn=Le.warning;Le.dark=(f,g)=>zl(f,uc("default",{theme:"dark",...g}));function gp(f){op(f)}Le.dismiss=gp;Le.clearWaitingQueue=cp;Le.isActive=lp;Le.update=(f,g={})=>{let h=sp(f,g);if(h){let{props:y,content:A}=h,w={delay:100,...y,...g,toastId:g.toastId||f,updateId:Uh()};w.toastId!==f&&(w.staleId=f);let _=w.render||A;delete w.render,zl(_,w)}};Le.done=f=>{Le.update(f,{progress:1})};Le.onChange=fp;Le.play=f=>Ph(!0,f);Le.pause=f=>Ph(!1,f);var _e;(function(f){f[f.QR_CODE=0]="QR_CODE",f[f.AZTEC=1]="AZTEC",f[f.CODABAR=2]="CODABAR",f[f.CODE_39=3]="CODE_39",f[f.CODE_93=4]="CODE_93",f[f.CODE_128=5]="CODE_128",f[f.DATA_MATRIX=6]="DATA_MATRIX",f[f.MAXICODE=7]="MAXICODE",f[f.ITF=8]="ITF",f[f.EAN_13=9]="EAN_13",f[f.EAN_8=10]="EAN_8",f[f.PDF_417=11]="PDF_417",f[f.RSS_14=12]="RSS_14",f[f.RSS_EXPANDED=13]="RSS_EXPANDED",f[f.UPC_A=14]="UPC_A",f[f.UPC_E=15]="UPC_E",f[f.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_e||(_e={}));var Kd=new Map([[_e.QR_CODE,"QR_CODE"],[_e.AZTEC,"AZTEC"],[_e.CODABAR,"CODABAR"],[_e.CODE_39,"CODE_39"],[_e.CODE_93,"CODE_93"],[_e.CODE_128,"CODE_128"],[_e.DATA_MATRIX,"DATA_MATRIX"],[_e.MAXICODE,"MAXICODE"],[_e.ITF,"ITF"],[_e.EAN_13,"EAN_13"],[_e.EAN_8,"EAN_8"],[_e.PDF_417,"PDF_417"],[_e.RSS_14,"RSS_14"],[_e.RSS_EXPANDED,"RSS_EXPANDED"],[_e.UPC_A,"UPC_A"],[_e.UPC_E,"UPC_E"],[_e.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Jd;(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.URL=1]="URL"})(Jd||(Jd={}));function xp(f){return Object.values(_e).includes(f)}var Sr;(function(f){f[f.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",f[f.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Sr||(Sr={}));var Ia=function(){function f(){}return f.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",f.SCAN_DEFAULT_FPS=2,f.DEFAULT_DISABLE_FLIP=!1,f.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,f.DEFAULT_SUPPORTED_SCAN_TYPE=[Sr.SCAN_TYPE_CAMERA,Sr.SCAN_TYPE_FILE],f}(),Fh=function(){function f(g,h){this.format=g,this.formatName=h}return f.prototype.toString=function(){return this.formatName},f.create=function(g){if(!Kd.has(g))throw"".concat(g," not in html5QrcodeSupportedFormatsTextMap");return new f(g,Kd.get(g))},f}(),$d=function(){function f(){}return f.createFromText=function(g){var h={text:g};return{decodedText:g,result:h}},f.createFromQrcodeResult=function(g){return{decodedText:g.text,result:g}},f}(),A0;(function(f){f[f.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",f[f.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",f[f.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(A0||(A0={}));var Hh=function(){function f(){}return f.createFrom=function(g){return{errorMessage:g,type:A0.UNKWOWN_ERROR}},f}(),Gh=function(){function f(g){this.verbose=g}return f.prototype.log=function(g){this.verbose&&console.log(g)},f.prototype.warn=function(g){this.verbose&&console.warn(g)},f.prototype.logError=function(g,h){(this.verbose||h===!0)&&console.error(g)},f.prototype.logErrors=function(g){if(g.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(g)},f}();function Ka(f){return typeof f>"u"||f===null}function mp(f,g,h){return f>h?h:f<g?g:f}var Ts=function(){function f(){}return f.codeParseError=function(g){return"QR code parse error, error = ".concat(g)},f.errorGettingUserMedia=function(g){return"Error getting userMedia, error = ".concat(g)},f.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},f.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},f.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},f.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},f.scannerPaused=function(){return"Scanner paused"},f}(),vt=function(){function f(){}return f.scanningStatus=function(){return"Scanning"},f.idleStatus=function(){return"Idle"},f.errorStatus=function(){return"Error"},f.permissionStatus=function(){return"Permission"},f.noCameraFoundErrorStatus=function(){return"No Cameras"},f.lastMatch=function(g){return"Last Match: ".concat(g)},f.codeScannerTitle=function(){return"Code Scanner"},f.cameraPermissionTitle=function(){return"Request Camera Permissions"},f.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},f.noCameraFound=function(){return"No camera found"},f.scanButtonStopScanningText=function(){return"Stop Scanning"},f.scanButtonStartScanningText=function(){return"Start Scanning"},f.torchOnButton=function(){return"Switch On Torch"},f.torchOffButton=function(){return"Switch Off Torch"},f.torchOnFailedMessage=function(){return"Failed to turn on torch"},f.torchOffFailedMessage=function(){return"Failed to turn off torch"},f.scanButtonScanningStarting=function(){return"Launching Camera..."},f.textIfCameraScanSelected=function(){return"Scan an Image File"},f.textIfFileScanSelected=function(){return"Scan using camera directly"},f.selectCamera=function(){return"Select Camera"},f.fileSelectionChooseImage=function(){return"Choose Image"},f.fileSelectionChooseAnother=function(){return"Choose Another"},f.fileSelectionNoImageSelected=function(){return"No image choosen"},f.anonymousCameraPrefix=function(){return"Anonymous Camera"},f.dragAndDropMessage=function(){return"Or drop an image to scan"},f.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},f.zoom=function(){return"zoom"},f.loadingImage=function(){return"Loading image..."},f.cameraScanAltText=function(){return"Camera based scan"},f.fileScanAltText=function(){return"Fule based scan"},f}(),eh=function(){function f(){}return f.poweredBy=function(){return"Powered by "},f.reportIssues=function(){return"Report issues"},f}(),Vh=function(){function f(){}return f.isMediaStreamConstraintsValid=function(g,h){if(typeof g!="object"){var y=typeof g;return h.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(y,"."),!0),!1}for(var A=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],w=new Set(A),_=Object.keys(g),O=0,M=_;O<M.length;O++){var E=M[O];if(w.has(E))return h.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},f}(),Ol={exports:{}},pp=Ol.exports,th;function yp(){return th||(th=1,function(f,g){(function(h,y){y(g)})(pp,function(h){function y(v){return v==null}var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,t){v.__proto__=t}||function(v,t){for(var a in t)t.hasOwnProperty(a)&&(v[a]=t[a])};function w(v,t){A(v,t);function a(){this.constructor=v}v.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}function _(v,t){var a=Object.setPrototypeOf;a?a(v,t):v.__proto__=t}function O(v,t){t===void 0&&(t=v.constructor);var a=Error.captureStackTrace;a&&a(v,t)}var M=function(v){w(t,v);function t(a){var r=this.constructor,s=v.call(this,a)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),_(s,r.prototype),O(s),s}return t}(Error);class E extends M{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}E.kind="Exception";class R extends E{}R.kind="ArgumentException";class L extends E{}L.kind="IllegalArgumentException";class H{constructor(t){if(this.binarizer=t,t===null)throw new L("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,a){return this.binarizer.getBlackRow(t,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,a,r,s){const l=this.binarizer.getLuminanceSource().crop(t,a,r,s);return new H(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new H(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new H(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class ie extends E{static getChecksumInstance(){return new ie}}ie.kind="ChecksumException";class ae{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class Q{static arraycopy(t,a,r,s,l){for(;l--;)r[s++]=t[a++]}static currentTimeMillis(){return Date.now()}}class ce extends E{}ce.kind="IndexOutOfBoundsException";class W extends ce{constructor(t=void 0,a=void 0){super(a),this.index=t,this.message=a}}W.kind="ArrayIndexOutOfBoundsException";class se{static fill(t,a){for(let r=0,s=t.length;r<s;r++)t[r]=a}static fillWithin(t,a,r,s){se.rangeCheck(t.length,a,r);for(let l=a;l<r;l++)t[l]=s}static rangeCheck(t,a,r){if(a>r)throw new L("fromIndex("+a+") > toIndex("+r+")");if(a<0)throw new W(a);if(r>t)throw new W(r)}static asList(...t){return t}static create(t,a,r){return Array.from({length:t}).map(l=>Array.from({length:a}).fill(r))}static createInt32Array(t,a,r){return Array.from({length:t}).map(l=>Int32Array.from({length:a}).fill(r))}static equals(t,a){if(!t||!a||!t.length||!a.length||t.length!==a.length)return!1;for(let r=0,s=t.length;r<s;r++)if(t[r]!==a[r])return!1;return!0}static hashCode(t){if(t===null)return 0;let a=1;for(const r of t)a=31*a+r;return a}static fillUint8Array(t,a){for(let r=0;r!==t.length;r++)t[r]=a}static copyOf(t,a){return t.slice(0,a)}static copyOfUint8Array(t,a){if(t.length<=a){const r=new Uint8Array(a);return r.set(t),r}return t.slice(0,a)}static copyOfRange(t,a,r){const s=r-a,l=new Int32Array(s);return Q.arraycopy(t,a,l,0,s),l}static binarySearch(t,a,r){r===void 0&&(r=se.numberComparator);let s=0,l=t.length-1;for(;s<=l;){const c=l+s>>1,u=r(a,t[c]);if(u>0)s=c+1;else if(u<0)l=c-1;else return c}return-s-1}static numberComparator(t,a){return t-a}}class le{static numberOfTrailingZeros(t){let a;if(t===0)return 32;let r=31;return a=t<<16,a!==0&&(r-=16,t=a),a=t<<8,a!==0&&(r-=8,t=a),a=t<<4,a!==0&&(r-=4,t=a),a=t<<2,a!==0&&(r-=2,t=a),r-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let a=1;return t>>>16||(a+=16,t<<=16),t>>>24||(a+=8,t<<=8),t>>>28||(a+=4,t<<=4),t>>>30||(a+=2,t<<=2),a-=t>>>31,a}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,a){return Math.trunc(t/a)}static parseInt(t,a=void 0){return parseInt(t,a)}}le.MIN_VALUE_32_BITS=-2147483648,le.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Se{constructor(t,a){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,a==null?this.bits=Se.makeArray(t):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const a=Se.makeArray(t);Q.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const a=this.size;if(t>=a)return a;const r=this.bits;let s=Math.floor(t/32),l=r[s];l&=~((1<<(t&31))-1);const c=r.length;for(;l===0;){if(++s===c)return a;l=r[s]}const u=s*32+le.numberOfTrailingZeros(l);return u>a?a:u}getNextUnset(t){const a=this.size;if(t>=a)return a;const r=this.bits;let s=Math.floor(t/32),l=~r[s];l&=~((1<<(t&31))-1);const c=r.length;for(;l===0;){if(++s===c)return a;l=~r[s]}const u=s*32+le.numberOfTrailingZeros(l);return u>a?a:u}setBulk(t,a){this.bits[Math.floor(t/32)]=a}setRange(t,a){if(a<t||t<0||a>this.size)throw new L;if(a===t)return;a--;const r=Math.floor(t/32),s=Math.floor(a/32),l=this.bits;for(let c=r;c<=s;c++){const u=c>r?0:t&31,b=(2<<(c<s?31:a&31))-(1<<u);l[c]|=b}}clear(){const t=this.bits.length,a=this.bits;for(let r=0;r<t;r++)a[r]=0}isRange(t,a,r){if(a<t||t<0||a>this.size)throw new L;if(a===t)return!0;a--;const s=Math.floor(t/32),l=Math.floor(a/32),c=this.bits;for(let u=s;u<=l;u++){const x=u>s?0:t&31,C=(2<<(u<l?31:a&31))-(1<<x)&4294967295;if((c[u]&C)!==(r?C:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,a){if(a<0||a>32)throw new L("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let r=a;r>0;r--)this.appendBit((t>>r-1&1)===1)}appendBitArray(t){const a=t.size;this.ensureCapacity(this.size+a);for(let r=0;r<a;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new L("Sizes don't match");const a=this.bits;for(let r=0,s=a.length;r<s;r++)a[r]^=t.bits[r]}toBytes(t,a,r,s){for(let l=0;l<s;l++){let c=0;for(let u=0;u<8;u++)this.get(t)&&(c|=1<<7-u),t++;a[r+l]=c}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),r=a+1,s=this.bits;for(let l=0;l<r;l++){let c=s[l];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[a-l]=c}if(this.size!==r*32){const l=r*32-this.size;let c=t[0]>>>l;for(let u=1;u<r;u++){const x=t[u];c|=x<<32-l,t[u-1]=c,c=x>>>l}t[r-1]=c}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Se))return!1;const a=t;return this.size===a.size&&se.equals(this.bits,a.bits)}hashCode(){return 31*this.size+se.hashCode(this.bits)}toString(){let t="";for(let a=0,r=this.size;a<r;a++)(a&7)===0&&(t+=" "),t+=this.get(a)?"X":".";return t}clone(){return new Se(this.size,this.bits.slice())}}var Ie;(function(v){v[v.OTHER=0]="OTHER",v[v.PURE_BARCODE=1]="PURE_BARCODE",v[v.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",v[v.TRY_HARDER=3]="TRY_HARDER",v[v.CHARACTER_SET=4]="CHARACTER_SET",v[v.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",v[v.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",v[v.ASSUME_GS1=7]="ASSUME_GS1",v[v.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",v[v.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",v[v.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ie||(Ie={}));var ne=Ie;class re extends E{static getFormatInstance(){return new re}}re.kind="FormatException";var be;(function(v){v[v.Cp437=0]="Cp437",v[v.ISO8859_1=1]="ISO8859_1",v[v.ISO8859_2=2]="ISO8859_2",v[v.ISO8859_3=3]="ISO8859_3",v[v.ISO8859_4=4]="ISO8859_4",v[v.ISO8859_5=5]="ISO8859_5",v[v.ISO8859_6=6]="ISO8859_6",v[v.ISO8859_7=7]="ISO8859_7",v[v.ISO8859_8=8]="ISO8859_8",v[v.ISO8859_9=9]="ISO8859_9",v[v.ISO8859_10=10]="ISO8859_10",v[v.ISO8859_11=11]="ISO8859_11",v[v.ISO8859_13=12]="ISO8859_13",v[v.ISO8859_14=13]="ISO8859_14",v[v.ISO8859_15=14]="ISO8859_15",v[v.ISO8859_16=15]="ISO8859_16",v[v.SJIS=16]="SJIS",v[v.Cp1250=17]="Cp1250",v[v.Cp1251=18]="Cp1251",v[v.Cp1252=19]="Cp1252",v[v.Cp1256=20]="Cp1256",v[v.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",v[v.UTF8=22]="UTF8",v[v.ASCII=23]="ASCII",v[v.Big5=24]="Big5",v[v.GB18030=25]="GB18030",v[v.EUC_KR=26]="EUC_KR"})(be||(be={}));class oe{constructor(t,a,r,...s){this.valueIdentifier=t,this.name=r,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=s,oe.VALUE_IDENTIFIER_TO_ECI.set(t,this),oe.NAME_TO_ECI.set(r,this);const l=this.values;for(let c=0,u=l.length;c!==u;c++){const x=l[c];oe.VALUES_TO_ECI.set(x,this)}for(const c of s)oe.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new re("incorect value");const a=oe.VALUES_TO_ECI.get(t);if(a===void 0)throw new re("incorect value");return a}static getCharacterSetECIByName(t){const a=oe.NAME_TO_ECI.get(t);if(a===void 0)throw new re("incorect value");return a}equals(t){if(!(t instanceof oe))return!1;const a=t;return this.getName()===a.getName()}}oe.VALUE_IDENTIFIER_TO_ECI=new Map,oe.VALUES_TO_ECI=new Map,oe.NAME_TO_ECI=new Map,oe.Cp437=new oe(be.Cp437,Int32Array.from([0,2]),"Cp437"),oe.ISO8859_1=new oe(be.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),oe.ISO8859_2=new oe(be.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),oe.ISO8859_3=new oe(be.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),oe.ISO8859_4=new oe(be.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),oe.ISO8859_5=new oe(be.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),oe.ISO8859_6=new oe(be.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),oe.ISO8859_7=new oe(be.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),oe.ISO8859_8=new oe(be.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),oe.ISO8859_9=new oe(be.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),oe.ISO8859_10=new oe(be.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),oe.ISO8859_11=new oe(be.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),oe.ISO8859_13=new oe(be.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),oe.ISO8859_14=new oe(be.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),oe.ISO8859_15=new oe(be.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),oe.ISO8859_16=new oe(be.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),oe.SJIS=new oe(be.SJIS,20,"SJIS","Shift_JIS"),oe.Cp1250=new oe(be.Cp1250,21,"Cp1250","windows-1250"),oe.Cp1251=new oe(be.Cp1251,22,"Cp1251","windows-1251"),oe.Cp1252=new oe(be.Cp1252,23,"Cp1252","windows-1252"),oe.Cp1256=new oe(be.Cp1256,24,"Cp1256","windows-1256"),oe.UnicodeBigUnmarked=new oe(be.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),oe.UTF8=new oe(be.UTF8,26,"UTF8","UTF-8"),oe.ASCII=new oe(be.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),oe.Big5=new oe(be.Big5,28,"Big5"),oe.GB18030=new oe(be.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),oe.EUC_KR=new oe(be.EUC_KR,30,"EUC_KR","EUC-KR");class Ne extends E{}Ne.kind="UnsupportedOperationException";class Oe{static decode(t,a){const r=this.encodingName(a);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!Oe.isBrowser()&&t==="ISO-8859-1"}static encode(t,a){const r=this.encodingName(a);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof oe?t:oe.getCharacterSetECIByName(t)}static decodeFallback(t,a){const r=this.encodingCharacterSet(a);if(Oe.isDecodeFallbackSupported(r)){let s="";for(let l=0,c=t.length;l<c;l++){let u=t[l].toString(16);u.length<2&&(u="0"+u),s+="%"+u}return decodeURIComponent(s)}if(r.equals(oe.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Ne(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(oe.UTF8)||t.equals(oe.ISO8859_1)||t.equals(oe.ASCII)}static encodeFallback(t){const r=btoa(unescape(encodeURIComponent(t))).split(""),s=[];for(let l=0;l<r.length;l++)s.push(r[l].charCodeAt(0));return new Uint8Array(s)}}class Ae{static castAsNonUtf8Char(t,a=null){const r=a?a.getName():this.ISO88591;return Oe.decode(new Uint8Array([t]),r)}static guessEncoding(t,a){if(a!=null&&a.get(ne.CHARACTER_SET)!==void 0)return a.get(ne.CHARACTER_SET).toString();const r=t.length;let s=!0,l=!0,c=!0,u=0,x=0,b=0,C=0,N=0,T=0,B=0,U=0,z=0,G=0,$=0;const pe=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let we=0;we<r&&(s||l||c);we++){const me=t[we]&255;c&&(u>0?(me&128)===0?c=!1:u--:(me&128)!==0&&((me&64)===0?c=!1:(u++,(me&32)===0?x++:(u++,(me&16)===0?b++:(u++,(me&8)===0?C++:c=!1))))),s&&(me>127&&me<160?s=!1:me>159&&(me<192||me===215||me===247)&&$++),l&&(N>0?me<64||me===127||me>252?l=!1:N--:me===128||me===160||me>239?l=!1:me>160&&me<224?(T++,U=0,B++,B>z&&(z=B)):me>127?(N++,B=0,U++,U>G&&(G=U)):(B=0,U=0))}return c&&u>0&&(c=!1),l&&N>0&&(l=!1),c&&(pe||x+b+C>0)?Ae.UTF8:l&&(Ae.ASSUME_SHIFT_JIS||z>=3||G>=3)?Ae.SHIFT_JIS:s&&l?z===2&&T===2||$*10>=r?Ae.SHIFT_JIS:Ae.ISO88591:s?Ae.ISO88591:l?Ae.SHIFT_JIS:c?Ae.UTF8:Ae.PLATFORM_DEFAULT_ENCODING}static format(t,...a){let r=-1;function s(c,u,x,b,C,N){if(c==="%%")return"%";if(a[++r]===void 0)return;c=b?parseInt(b.substr(1)):void 0;let T=C?parseInt(C.substr(1)):void 0,B;switch(N){case"s":B=a[r];break;case"c":B=a[r][0];break;case"f":B=parseFloat(a[r]).toFixed(c);break;case"p":B=parseFloat(a[r]).toPrecision(c);break;case"e":B=parseFloat(a[r]).toExponential(c);break;case"x":B=parseInt(a[r]).toString(T||16);break;case"d":B=parseFloat(parseInt(a[r],T||10).toPrecision(c)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(T);let U=parseInt(x),z=x&&x[0]+""=="0"?"0":" ";for(;B.length<U;)B=u!==void 0?B+z:z+B;return B}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,s)}static getBytes(t,a){return Oe.encode(t,a)}static getCharCode(t,a=0){return t.charCodeAt(a)}static getCharAt(t){return String.fromCharCode(t)}}Ae.SHIFT_JIS=oe.SJIS.getName(),Ae.GB2312="GB2312",Ae.ISO88591=oe.ISO8859_1.getName(),Ae.EUC_JP="EUC_JP",Ae.UTF8=oe.UTF8.getName(),Ae.PLATFORM_DEFAULT_ENCODING=Ae.UTF8,Ae.ASSUME_SHIFT_JIS=!1;class Te{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Ae.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,a,r){for(let s=a;a<a+r;s++)this.append(t[s]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+1)}substring(t,a){return this.value.substring(t,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+a.length)}}class tt{constructor(t,a,r,s){if(this.width=t,this.height=a,this.rowSize=r,this.bits=s,a==null&&(a=t),this.height=a,t<1||a<1)throw new L("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const a=t.length,r=t[0].length,s=new tt(r,a);for(let l=0;l<a;l++){const c=t[l];for(let u=0;u<r;u++)c[u]&&s.set(u,l)}return s}static parseFromString(t,a,r){if(t===null)throw new L("stringRepresentation cannot be null");const s=new Array(t.length);let l=0,c=0,u=-1,x=0,b=0;for(;b<t.length;)if(t.charAt(b)===`
`||t.charAt(b)==="\r"){if(l>c){if(u===-1)u=l-c;else if(l-c!==u)throw new L("row lengths do not match");c=l,x++}b++}else if(t.substring(b,b+a.length)===a)b+=a.length,s[l]=!0,l++;else if(t.substring(b,b+r.length)===r)b+=r.length,s[l]=!1,l++;else throw new L("illegal character encountered: "+t.substring(b));if(l>c){if(u===-1)u=l-c;else if(l-c!==u)throw new L("row lengths do not match");x++}const C=new tt(u,x);for(let N=0;N<l;N++)s[N]&&C.set(Math.floor(N%u),Math.floor(N/u));return C}get(t,a){const r=a*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0}set(t,a){const r=a*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295}unset(t,a){const r=a*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)}flip(t,a){const r=a*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new L("input matrix dimensions do not match");const a=new Se(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let l=0,c=this.height;l<c;l++){const u=l*r,x=t.getRow(l,a).getBitArray();for(let b=0;b<r;b++)s[u+b]^=x[b]}}clear(){const t=this.bits,a=t.length;for(let r=0;r<a;r++)t[r]=0}setRegion(t,a,r,s){if(a<0||t<0)throw new L("Left and top must be nonnegative");if(s<1||r<1)throw new L("Height and width must be at least 1");const l=t+r,c=a+s;if(c>this.height||l>this.width)throw new L("The region must fit inside the matrix");const u=this.rowSize,x=this.bits;for(let b=a;b<c;b++){const C=b*u;for(let N=t;N<l;N++)x[C+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(t,a){a==null||a.getSize()<this.width?a=new Se(this.width):a.clear();const r=this.rowSize,s=this.bits,l=t*r;for(let c=0;c<r;c++)a.setBulk(c*32,s[l+c]);return a}setRow(t,a){Q.arraycopy(a.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),a=this.getHeight();let r=new Se(t),s=new Se(t);for(let l=0,c=Math.floor((a+1)/2);l<c;l++)r=this.getRow(l,r),s=this.getRow(a-1-l,s),r.reverse(),s.reverse(),this.setRow(l,s),this.setRow(a-1-l,r)}getEnclosingRectangle(){const t=this.width,a=this.height,r=this.rowSize,s=this.bits;let l=t,c=a,u=-1,x=-1;for(let b=0;b<a;b++)for(let C=0;C<r;C++){const N=s[b*r+C];if(N!==0){if(b<c&&(c=b),b>x&&(x=b),C*32<l){let T=0;for(;(N<<31-T&4294967295)===0;)T++;C*32+T<l&&(l=C*32+T)}if(C*32+31>u){let T=31;for(;!(N>>>T);)T--;C*32+T>u&&(u=C*32+T)}}}return u<l||x<c?null:Int32Array.from([l,c,u-l+1,x-c+1])}getTopLeftOnBit(){const t=this.rowSize,a=this.bits;let r=0;for(;r<a.length&&a[r]===0;)r++;if(r===a.length)return null;const s=r/t;let l=r%t*32;const c=a[r];let u=0;for(;(c<<31-u&4294967295)===0;)u++;return l+=u,Int32Array.from([l,s])}getBottomRightOnBit(){const t=this.rowSize,a=this.bits;let r=a.length-1;for(;r>=0&&a[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/t);let l=Math.floor(r%t)*32;const c=a[r];let u=31;for(;!(c>>>u);)u--;return l+=u,Int32Array.from([l,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof tt))return!1;const a=t;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&se.equals(this.bits,a.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+se.hashCode(this.bits),t}toString(t="X ",a="  ",r=`
`){return this.buildToString(t,a,r)}buildToString(t,a,r){let s=new Te;for(let l=0,c=this.height;l<c;l++){for(let u=0,x=this.width;u<x;u++)s.append(this.get(u,l)?t:a);s.append(r)}return s.toString()}clone(){return new tt(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends E{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class J extends ae{constructor(t){super(t),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(t,a){const r=this.getLuminanceSource(),s=r.getWidth();a==null||a.getSize()<s?a=new Se(s):a.clear(),this.initArrays(s);const l=r.getRow(t,this.luminances),c=this.buckets;for(let x=0;x<s;x++)c[(l[x]&255)>>J.LUMINANCE_SHIFT]++;const u=J.estimateBlackPoint(c);if(s<3)for(let x=0;x<s;x++)(l[x]&255)<u&&a.set(x);else{let x=l[0]&255,b=l[1]&255;for(let C=1;C<s-1;C++){const N=l[C+1]&255;(b*4-x-N)/2<u&&a.set(C),x=b,b=N}}return a}getBlackMatrix(){const t=this.getLuminanceSource(),a=t.getWidth(),r=t.getHeight(),s=new tt(a,r);this.initArrays(a);const l=this.buckets;for(let x=1;x<5;x++){const b=Math.floor(r*x/5),C=t.getRow(b,this.luminances),N=Math.floor(a*4/5);for(let T=Math.floor(a/5);T<N;T++){const B=C[T]&255;l[B>>J.LUMINANCE_SHIFT]++}}const c=J.estimateBlackPoint(l),u=t.getMatrix();for(let x=0;x<r;x++){const b=x*a;for(let C=0;C<a;C++)(u[b+C]&255)<c&&s.set(C,x)}return s}createBinarizer(t){return new J(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const a=this.buckets;for(let r=0;r<J.LUMINANCE_BUCKETS;r++)a[r]=0}static estimateBlackPoint(t){const a=t.length;let r=0,s=0,l=0;for(let C=0;C<a;C++)t[C]>l&&(s=C,l=t[C]),t[C]>r&&(r=t[C]);let c=0,u=0;for(let C=0;C<a;C++){const N=C-s,T=t[C]*N*N;T>u&&(c=C,u=T)}if(s>c){const C=s;s=c,c=C}if(c-s<=a/16)throw new X;let x=c-1,b=-1;for(let C=c-1;C>s;C--){const N=C-s,T=N*N*(c-C)*(r-t[C]);T>b&&(x=C,b=T)}return x<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class de extends J{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),a=t.getWidth(),r=t.getHeight();if(a>=de.MINIMUM_DIMENSION&&r>=de.MINIMUM_DIMENSION){const s=t.getMatrix();let l=a>>de.BLOCK_SIZE_POWER;(a&de.BLOCK_SIZE_MASK)!==0&&l++;let c=r>>de.BLOCK_SIZE_POWER;(r&de.BLOCK_SIZE_MASK)!==0&&c++;const u=de.calculateBlackPoints(s,l,c,a,r),x=new tt(a,r);de.calculateThresholdForBlock(s,l,c,a,r,u,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new de(t)}static calculateThresholdForBlock(t,a,r,s,l,c,u){const x=l-de.BLOCK_SIZE,b=s-de.BLOCK_SIZE;for(let C=0;C<r;C++){let N=C<<de.BLOCK_SIZE_POWER;N>x&&(N=x);const T=de.cap(C,2,r-3);for(let B=0;B<a;B++){let U=B<<de.BLOCK_SIZE_POWER;U>b&&(U=b);const z=de.cap(B,2,a-3);let G=0;for(let pe=-2;pe<=2;pe++){const we=c[T+pe];G+=we[z-2]+we[z-1]+we[z]+we[z+1]+we[z+2]}const $=G/25;de.thresholdBlock(t,U,N,$,s,u)}}}static cap(t,a,r){return t<a?a:t>r?r:t}static thresholdBlock(t,a,r,s,l,c){for(let u=0,x=r*l+a;u<de.BLOCK_SIZE;u++,x+=l)for(let b=0;b<de.BLOCK_SIZE;b++)(t[x+b]&255)<=s&&c.set(a+b,r+u)}static calculateBlackPoints(t,a,r,s,l){const c=l-de.BLOCK_SIZE,u=s-de.BLOCK_SIZE,x=new Array(r);for(let b=0;b<r;b++){x[b]=new Int32Array(a);let C=b<<de.BLOCK_SIZE_POWER;C>c&&(C=c);for(let N=0;N<a;N++){let T=N<<de.BLOCK_SIZE_POWER;T>u&&(T=u);let B=0,U=255,z=0;for(let $=0,pe=C*s+T;$<de.BLOCK_SIZE;$++,pe+=s){for(let we=0;we<de.BLOCK_SIZE;we++){const me=t[pe+we]&255;B+=me,me<U&&(U=me),me>z&&(z=me)}if(z-U>de.MIN_DYNAMIC_RANGE)for($++,pe+=s;$<de.BLOCK_SIZE;$++,pe+=s)for(let we=0;we<de.BLOCK_SIZE;we++)B+=t[pe+we]&255}let G=B>>de.BLOCK_SIZE_POWER*2;if(z-U<=de.MIN_DYNAMIC_RANGE&&(G=U/2,b>0&&N>0)){const $=(x[b-1][N]+2*x[b][N-1]+x[b-1][N-1])/4;U<$&&(G=$)}x[b][N]=G}}return x}}de.BLOCK_SIZE_POWER=3,de.BLOCK_SIZE=1<<de.BLOCK_SIZE_POWER,de.BLOCK_SIZE_MASK=de.BLOCK_SIZE-1,de.MINIMUM_DIMENSION=de.BLOCK_SIZE*5,de.MIN_DYNAMIC_RANGE=24;class je{constructor(t,a){this.width=t,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,a,r,s){throw new Ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ne("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let a=new Te;for(let r=0;r<this.height;r++){const s=this.getRow(r,t);for(let l=0;l<this.width;l++){const c=s[l]&255;let u;c<64?u="#":c<128?u="+":c<192?u=".":u=" ",a.append(u)}a.append(`
`)}return a.toString()}}class He extends je{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,a){const r=this.delegate.getRow(t,a),s=this.getWidth();for(let l=0;l<s;l++)r[l]=255-(r[l]&255);return r}getMatrix(){const t=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(a);for(let s=0;s<a;s++)r[s]=255-(t[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,a,r,s){return new He(this.delegate.crop(t,a,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new He(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new He(this.delegate.rotateCounterClockwise45())}}class k extends je{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=k.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const a=t.getContext("2d").getImageData(0,0,t.width,t.height);return k.toGrayscaleBuffer(a.data,t.width,t.height)}static toGrayscaleBuffer(t,a,r){const s=new Uint8ClampedArray(a*r);for(let l=0,c=0,u=t.length;l<u;l+=4,c++){let x;if(t[l+3]===0)x=255;else{const C=t[l],N=t[l+1],T=t[l+2];x=306*C+601*N+117*T+512>>10}s[c]=x}return s}getRow(t,a){if(t<0||t>=this.getHeight())throw new L("Requested row is outside the image: "+t);const r=this.getWidth(),s=t*r;return a===null?a=this.buffer.slice(s,s+r):(a.length<r&&(a=new Uint8ClampedArray(r)),a.set(this.buffer.slice(s,s+r))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,a,r,s){return super.crop(t,a,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const a=this.getTempCanvasElement(),r=a.getContext("2d"),s=t*k.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(s))*l+Math.abs(Math.sin(s))*c),x=Math.ceil(Math.abs(Math.sin(s))*l+Math.abs(Math.cos(s))*c);return a.width=u,a.height=x,r.translate(u/2,x/2),r.rotate(s),r.drawImage(this.canvas,l/-2,c/-2),this.buffer=k.makeBufferFromCanvasImageData(a),this}invert(){return new He(this)}}k.DEGREE_TO_RADIANS=Math.PI/180;class he{constructor(t,a,r){this.deviceId=t,this.label=a,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ee=(globalThis||Jo||self||window||void 0)&&(globalThis||Jo||self||window||void 0).__awaiter||function(v,t,a,r){function s(l){return l instanceof a?l:new a(function(c){c(l)})}return new(a||(a=Promise))(function(l,c){function u(C){try{b(r.next(C))}catch(N){c(N)}}function x(C){try{b(r.throw(C))}catch(N){c(N)}}function b(C){C.done?l(C.value):s(C.value).then(u,x)}b((r=r.apply(v,t||[])).next())})};class ve{constructor(t,a=500,r){this.reader=t,this.timeBetweenScansMillis=a,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return Ee(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const r of t){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const l=r.deviceId||r.id,c=r.label||`Video device ${a.length+1}`,u=r.groupId,x={deviceId:l,label:c,kind:s,groupId:u};a.push(x)}return a})}getVideoInputDevices(){return Ee(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new he(a.deviceId,a.label))})}findDeviceById(t){return Ee(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(r=>r.deviceId===t):null})}decodeFromInputVideoDevice(t,a){return Ee(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,a)})}decodeOnceFromVideoDevice(t,a){return Ee(this,void 0,void 0,function*(){this.reset();let r;t?r={deviceId:{exact:t}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,a)})}decodeOnceFromConstraints(t,a){return Ee(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,a)})}decodeOnceFromStream(t,a){return Ee(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(t,a);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(t,a,r){return Ee(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,a,r)})}decodeFromVideoDevice(t,a,r){return Ee(this,void 0,void 0,function*(){let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeFromConstraints(l,a,r)})}decodeFromConstraints(t,a,r){return Ee(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(s,a,r)})}decodeFromStream(t,a,r){return Ee(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,a);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,a){return Ee(this,void 0,void 0,function*(){const r=this.prepareVideoElement(a);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(t){return new Promise((a,r)=>this.playVideoOnLoad(t,()=>a()))}playVideoOnLoad(t,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",a),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return Ee(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,a){const r=document.getElementById(t);if(!r)throw new R(`element with id '${t}' not found`);if(r.nodeName.toLowerCase()!==a.toLowerCase())throw new R(`element with id '${t}' must be an ${a} element`);return r}decodeFromImage(t,a){if(!t&&!a)throw new R("either imageElement with a src set or an url must be provided");return a&&!t?this.decodeFromImageUrl(a):this.decodeFromImageElement(t)}decodeFromVideo(t,a){if(!t&&!a)throw new R("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,a,r){if(t===void 0&&a===void 0)throw new R("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrlContinuously(a,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new R("An image element must be provided.");this.reset();const a=this.prepareImageElement(t);this.imageElement=a;let r;return this.isImageLoaded(a)?r=this.decodeOnce(a,!1,!0):r=this._decodeOnLoadImage(a),r}decodeFromVideoElement(t){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(t,a){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,a)}_decodeFromVideoElementSetup(t){if(!t)throw new R("A video element must be provided.");this.reset();const a=this.prepareVideoElement(t);return this.videoElement=a,a}decodeFromImageUrl(t){if(!t)throw new R("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const r=this._decodeOnLoadImage(a);return a.src=t,r}decodeFromVideoUrl(t){if(!t)throw new R("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),r=this.decodeFromVideoElement(a);return a.src=t,r}decodeFromVideoUrlContinuously(t,a){if(!t)throw new R("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,a);return r.src=t,s}_decodeOnLoadImage(t){return new Promise((a,r)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(a,r),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return Ee(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,a){return Ee(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,a)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let a;return typeof t>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(a=t),a}prepareVideoElement(t){let a;return!t&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(a=t),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(t,a=!0,r=!0){this._stopAsyncDecode=!1;const s=(l,c)=>{if(this._stopAsyncDecode){c(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(t);l(u)}catch(u){const x=a&&u instanceof X,C=(u instanceof ie||u instanceof re)&&r;if(x||C)return setTimeout(s,this._timeBetweenDecodingAttempts,l,c);c(u)}};return new Promise((l,c)=>s(l,c))}decodeContinuously(t,a){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(t);a(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){a(null,s);const l=s instanceof ie||s instanceof re,c=s instanceof X;(l||c)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const a=this.createBinaryBitmap(t);return this.decodeBitmap(a)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,a,r){a||(a={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(t,a,r=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const a=this.getCaptureCanvas(t),r=new k(a),s=new de(r);return new H(s)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const a=this.createCaptureCanvas(t);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let r,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),a.style.width=r+"px",a.style.height=s+"px",a.width=r,a.height=s,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,a){try{t.srcObject=a}catch{t.src=URL.createObjectURL(a)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class De{constructor(t,a,r=a==null?0:8*a.length,s,l,c=Q.currentTimeMillis()){this.text=t,this.rawBytes=a,this.numBits=r,this.resultPoints=s,this.format=l,this.timestamp=c,this.text=t,this.rawBytes=a,r==null?this.numBits=a==null?0:8*a.length:this.numBits=r,this.resultPoints=s,this.format=l,this.resultMetadata=null,c==null?this.timestamp=Q.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,a)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const a=this.resultPoints;if(a===null)this.resultPoints=t;else if(t!==null&&t.length>0){const r=new Array(a.length+t.length);Q.arraycopy(a,0,r,0,a.length),Q.arraycopy(t,0,r,a.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var st;(function(v){v[v.AZTEC=0]="AZTEC",v[v.CODABAR=1]="CODABAR",v[v.CODE_39=2]="CODE_39",v[v.CODE_93=3]="CODE_93",v[v.CODE_128=4]="CODE_128",v[v.DATA_MATRIX=5]="DATA_MATRIX",v[v.EAN_8=6]="EAN_8",v[v.EAN_13=7]="EAN_13",v[v.ITF=8]="ITF",v[v.MAXICODE=9]="MAXICODE",v[v.PDF_417=10]="PDF_417",v[v.QR_CODE=11]="QR_CODE",v[v.RSS_14=12]="RSS_14",v[v.RSS_EXPANDED=13]="RSS_EXPANDED",v[v.UPC_A=14]="UPC_A",v[v.UPC_E=15]="UPC_E",v[v.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(st||(st={}));var ye=st,Sn;(function(v){v[v.OTHER=0]="OTHER",v[v.ORIENTATION=1]="ORIENTATION",v[v.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",v[v.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",v[v.ISSUE_NUMBER=4]="ISSUE_NUMBER",v[v.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",v[v.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",v[v.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",v[v.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",v[v.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",v[v.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Sn||(Sn={}));var Qe=Sn;class Hn{constructor(t,a,r,s,l=-1,c=-1){this.rawBytes=t,this.text=a,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class er{exp(t){return this.expTable[t]}log(t){if(t===0)throw new L;return this.logTable[t]}static addOrSubtract(t,a){return t^a}}class cn{constructor(t,a){if(a.length===0)throw new L;this.field=t;const r=a.length;if(r>1&&a[0]===0){let s=1;for(;s<r&&a[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),Q.arraycopy(a,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const a=this.coefficients;let r;if(t===1){r=0;for(let c=0,u=a.length;c!==u;c++){const x=a[c];r=er.addOrSubtract(r,x)}return r}r=a[0];const s=a.length,l=this.field;for(let c=1;c<s;c++)r=er.addOrSubtract(l.multiply(t,r),a[c]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,r=t.coefficients;if(a.length>r.length){const c=a;a=r,r=c}let s=new Int32Array(r.length);const l=r.length-a.length;Q.arraycopy(r,0,s,0,l);for(let c=l;c<r.length;c++)s[c]=er.addOrSubtract(a[c-l],r[c]);return new cn(this.field,s)}multiply(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const a=this.coefficients,r=a.length,s=t.coefficients,l=s.length,c=new Int32Array(r+l-1),u=this.field;for(let x=0;x<r;x++){const b=a[x];for(let C=0;C<l;C++)c[x+C]=er.addOrSubtract(c[x+C],u.multiply(b,s[C]))}return new cn(u,c)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const a=this.coefficients.length,r=this.field,s=new Int32Array(a),l=this.coefficients;for(let c=0;c<a;c++)s[c]=r.multiply(l[c],t);return new cn(r,s)}multiplyByMonomial(t,a){if(t<0)throw new L;if(a===0)return this.field.getZero();const r=this.coefficients,s=r.length,l=new Int32Array(s+t),c=this.field;for(let u=0;u<s;u++)l[u]=c.multiply(r[u],a);return new cn(c,l)}divide(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new L("Divide by 0");const a=this.field;let r=a.getZero(),s=this;const l=t.getCoefficient(t.getDegree()),c=a.inverse(l);for(;s.getDegree()>=t.getDegree()&&!s.isZero();){const u=s.getDegree()-t.getDegree(),x=a.multiply(s.getCoefficient(s.getDegree()),c),b=t.multiplyByMonomial(u,x),C=a.buildMonomial(u,x);r=r.addOrSubtract(C),s=s.addOrSubtract(b)}return[r,s]}toString(){let t="";for(let a=this.getDegree();a>=0;a--){let r=this.getCoefficient(a);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),a===0||r!==1){const s=this.field.log(r);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}a!==0&&(a===1?t+="x":(t+="x^",t+=a))}}return t}}class Nr extends E{}Nr.kind="ArithmeticException";class ct extends er{constructor(t,a,r){super(),this.primitive=t,this.size=a,this.generatorBase=r;const s=new Int32Array(a);let l=1;for(let u=0;u<a;u++)s[u]=l,l*=2,l>=a&&(l^=t,l&=a-1);this.expTable=s;const c=new Int32Array(a);for(let u=0;u<a-1;u++)c[s[u]]=u;this.logTable=c,this.zero=new cn(this,Int32Array.from([0])),this.one=new cn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new L;if(a===0)return this.zero;const r=new Int32Array(t+1);return r[0]=a,new cn(this,r)}inverse(t){if(t===0)throw new Nr;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+le.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}ct.AZTEC_DATA_12=new ct(4201,4096,1),ct.AZTEC_DATA_10=new ct(1033,1024,1),ct.AZTEC_DATA_6=new ct(67,64,1),ct.AZTEC_PARAM=new ct(19,16,1),ct.QR_CODE_FIELD_256=new ct(285,256,0),ct.DATA_MATRIX_FIELD_256=new ct(301,256,1),ct.AZTEC_DATA_8=ct.DATA_MATRIX_FIELD_256,ct.MAXICODE_FIELD_64=ct.AZTEC_DATA_6;class Da extends E{}Da.kind="ReedSolomonException";class ca extends E{}ca.kind="IllegalStateException";class oi{constructor(t){this.field=t}decode(t,a){const r=this.field,s=new cn(r,t),l=new Int32Array(a);let c=!0;for(let B=0;B<a;B++){const U=s.evaluateAt(r.exp(B+r.getGeneratorBase()));l[l.length-1-B]=U,U!==0&&(c=!1)}if(c)return;const u=new cn(r,l),x=this.runEuclideanAlgorithm(r.buildMonomial(a,1),u,a),b=x[0],C=x[1],N=this.findErrorLocations(b),T=this.findErrorMagnitudes(C,N);for(let B=0;B<N.length;B++){const U=t.length-1-r.log(N[B]);if(U<0)throw new Da("Bad error location");t[U]=ct.addOrSubtract(t[U],T[B])}}runEuclideanAlgorithm(t,a,r){if(t.getDegree()<a.getDegree()){const B=t;t=a,a=B}const s=this.field;let l=t,c=a,u=s.getZero(),x=s.getOne();for(;c.getDegree()>=(r/2|0);){let B=l,U=u;if(l=c,u=x,l.isZero())throw new Da("r_{i-1} was zero");c=B;let z=s.getZero();const G=l.getCoefficient(l.getDegree()),$=s.inverse(G);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){const pe=c.getDegree()-l.getDegree(),we=s.multiply(c.getCoefficient(c.getDegree()),$);z=z.addOrSubtract(s.buildMonomial(pe,we)),c=c.addOrSubtract(l.multiplyByMonomial(pe,we))}if(x=z.multiply(u).addOrSubtract(U),c.getDegree()>=l.getDegree())throw new ca("Division algorithm failed to reduce polynomial?")}const b=x.getCoefficient(0);if(b===0)throw new Da("sigmaTilde(0) was zero");const C=s.inverse(b),N=x.multiplyScalar(C),T=c.multiplyScalar(C);return[N,T]}findErrorLocations(t){const a=t.getDegree();if(a===1)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(a);let s=0;const l=this.field;for(let c=1;c<l.getSize()&&s<a;c++)t.evaluateAt(c)===0&&(r[s]=l.inverse(c),s++);if(s!==a)throw new Da("Error locator degree does not match number of roots");return r}findErrorMagnitudes(t,a){const r=a.length,s=new Int32Array(r),l=this.field;for(let c=0;c<r;c++){const u=l.inverse(a[c]);let x=1;for(let b=0;b<r;b++)if(c!==b){const C=l.multiply(a[b],u),N=(C&1)===0?C|1:C&-2;x=l.multiply(x,N)}s[c]=l.multiply(t.evaluateAt(u),l.inverse(x)),l.getGeneratorBase()!==0&&(s[c]=l.multiply(s[c],u))}return s}}var Nt;(function(v){v[v.UPPER=0]="UPPER",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.DIGIT=3]="DIGIT",v[v.PUNCT=4]="PUNCT",v[v.BINARY=5]="BINARY"})(Nt||(Nt={}));class Tt{decode(t){this.ddata=t;let a=t.getBits(),r=this.extractBits(a),s=this.correctBits(r),l=Tt.convertBoolArrayToByteArray(s),c=Tt.getEncodedData(s),u=new Hn(l,c,null,null);return u.setNumBits(s.length),u}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let a=t.length,r=Nt.UPPER,s=Nt.UPPER,l="",c=0;for(;c<a;)if(s===Nt.BINARY){if(a-c<5)break;let u=Tt.readCode(t,c,5);if(c+=5,u===0){if(a-c<11)break;u=Tt.readCode(t,c,11)+31,c+=11}for(let x=0;x<u;x++){if(a-c<8){c=a;break}const b=Tt.readCode(t,c,8);l+=Ae.castAsNonUtf8Char(b),c+=8}s=r}else{let u=s===Nt.DIGIT?4:5;if(a-c<u)break;let x=Tt.readCode(t,c,u);c+=u;let b=Tt.getCharacter(s,x);b.startsWith("CTRL_")?(r=s,s=Tt.getTable(b.charAt(5)),b.charAt(6)==="L"&&(r=s)):(l+=b,s=r)}return l}static getTable(t){switch(t){case"L":return Nt.LOWER;case"P":return Nt.PUNCT;case"M":return Nt.MIXED;case"D":return Nt.DIGIT;case"B":return Nt.BINARY;case"U":default:return Nt.UPPER}}static getCharacter(t,a){switch(t){case Nt.UPPER:return Tt.UPPER_TABLE[a];case Nt.LOWER:return Tt.LOWER_TABLE[a];case Nt.MIXED:return Tt.MIXED_TABLE[a];case Nt.PUNCT:return Tt.PUNCT_TABLE[a];case Nt.DIGIT:return Tt.DIGIT_TABLE[a];default:throw new ca("Bad table")}}correctBits(t){let a,r;this.ddata.getNbLayers()<=2?(r=6,a=ct.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,a=ct.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,a=ct.AZTEC_DATA_10):(r=12,a=ct.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),l=t.length/r;if(l<s)throw new re;let c=t.length%r,u=new Int32Array(l);for(let T=0;T<l;T++,c+=r)u[T]=Tt.readCode(t,c,r);try{new oi(a).decode(u,l-s)}catch(T){throw new re(T)}let x=(1<<r)-1,b=0;for(let T=0;T<s;T++){let B=u[T];if(B===0||B===x)throw new re;(B===1||B===x-1)&&b++}let C=new Array(s*r-b),N=0;for(let T=0;T<s;T++){let B=u[T];if(B===1||B===x-1)C.fill(B>1,N,N+r-1),N+=r-1;else for(let U=r-1;U>=0;--U)C[N++]=(B&1<<U)!==0}return C}extractBits(t){let a=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(a?11:14)+r*4,l=new Int32Array(s),c=new Array(this.totalBitsInLayer(r,a));if(a)for(let u=0;u<l.length;u++)l[u]=u;else{let u=s+1+2*le.truncDivision(le.truncDivision(s,2)-1,15),x=s/2,b=le.truncDivision(u,2);for(let C=0;C<x;C++){let N=C+le.truncDivision(C,15);l[x-C-1]=b-N-1,l[x+C]=b+N+1}}for(let u=0,x=0;u<r;u++){let b=(r-u)*4+(a?9:12),C=u*2,N=s-1-C;for(let T=0;T<b;T++){let B=T*2;for(let U=0;U<2;U++)c[x+B+U]=t.get(l[C+U],l[C+T]),c[x+2*b+B+U]=t.get(l[C+T],l[N-U]),c[x+4*b+B+U]=t.get(l[N-U],l[N-T]),c[x+6*b+B+U]=t.get(l[N-T],l[C+U])}x+=b*8}return c}static readCode(t,a,r){let s=0;for(let l=a;l<a+r;l++)s<<=1,t[l]&&(s|=1);return s}static readByte(t,a){let r=t.length-a;return r>=8?Tt.readCode(t,a,8):Tt.readCode(t,a,r)<<8-r}static convertBoolArrayToByteArray(t){let a=new Uint8Array((t.length+7)/8);for(let r=0;r<a.length;r++)a[r]=Tt.readByte(t,8*r);return a}totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}Tt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Tt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Tt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Tt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Tt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class lt{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,a,r,s){const l=t-r,c=a-s;return Math.sqrt(l*l+c*c)}static sum(t){let a=0;for(let r=0,s=t.length;r!==s;r++){const l=t[r];a+=l}return a}}class ci{static floatToIntBits(t){return t}}ci.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Re{constructor(t,a){this.x=t,this.y=a}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Re){const a=t;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*ci.floatToIntBits(this.x)+ci.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const a=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);let l,c,u;if(r>=a&&r>=s?(c=t[0],l=t[1],u=t[2]):s>=r&&s>=a?(c=t[1],l=t[0],u=t[2]):(c=t[2],l=t[0],u=t[1]),this.crossProductZ(l,c,u)<0){const x=l;l=u,u=x}t[0]=l,t[1]=c,t[2]=u}static distance(t,a){return lt.distance(t.x,t.y,a.x,a.y)}static crossProductZ(t,a,r){const s=a.x,l=a.y;return(r.x-s)*(t.y-l)-(r.y-l)*(t.x-s)}}class Ui{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Os extends Ui{constructor(t,a,r,s,l){super(t,a),this.compact=r,this.nbDatablocks=s,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Aa{constructor(t,a,r,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),a==null&&(a=Aa.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);const l=a/2|0;if(this.leftInit=r-l,this.rightInit=r+l,this.upInit=s-l,this.downInit=s+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let t=this.leftInit,a=this.rightInit,r=this.upInit,s=this.downInit,l=!1,c=!0,u=!1,x=!1,b=!1,C=!1,N=!1;const T=this.width,B=this.height;for(;c;){c=!1;let U=!0;for(;(U||!x)&&a<T;)U=this.containsBlackPoint(r,s,a,!1),U?(a++,c=!0,x=!0):x||a++;if(a>=T){l=!0;break}let z=!0;for(;(z||!b)&&s<B;)z=this.containsBlackPoint(t,a,s,!0),z?(s++,c=!0,b=!0):b||s++;if(s>=B){l=!0;break}let G=!0;for(;(G||!C)&&t>=0;)G=this.containsBlackPoint(r,s,t,!1),G?(t--,c=!0,C=!0):C||t--;if(t<0){l=!0;break}let $=!0;for(;($||!N)&&r>=0;)$=this.containsBlackPoint(t,a,r,!0),$?(r--,c=!0,N=!0):N||r--;if(r<0){l=!0;break}c&&(u=!0)}if(!l&&u){const U=a-t;let z=null;for(let we=1;z===null&&we<U;we++)z=this.getBlackPointOnSegment(t,s-we,t+we,s);if(z==null)throw new X;let G=null;for(let we=1;G===null&&we<U;we++)G=this.getBlackPointOnSegment(t,r+we,t+we,r);if(G==null)throw new X;let $=null;for(let we=1;$===null&&we<U;we++)$=this.getBlackPointOnSegment(a,r+we,a-we,r);if($==null)throw new X;let pe=null;for(let we=1;pe===null&&we<U;we++)pe=this.getBlackPointOnSegment(a,s-we,a-we,s);if(pe==null)throw new X;return this.centerEdges(pe,z,$,G)}else throw new X}getBlackPointOnSegment(t,a,r,s){const l=lt.round(lt.distance(t,a,r,s)),c=(r-t)/l,u=(s-a)/l,x=this.image;for(let b=0;b<l;b++){const C=lt.round(t+b*c),N=lt.round(a+b*u);if(x.get(C,N))return new Re(C,N)}return null}centerEdges(t,a,r,s){const l=t.getX(),c=t.getY(),u=a.getX(),x=a.getY(),b=r.getX(),C=r.getY(),N=s.getX(),T=s.getY(),B=Aa.CORR;return l<this.width/2?[new Re(N-B,T+B),new Re(u+B,x+B),new Re(b-B,C-B),new Re(l+B,c-B)]:[new Re(N+B,T+B),new Re(u+B,x-B),new Re(b-B,C+B),new Re(l-B,c-B)]}containsBlackPoint(t,a,r,s){const l=this.image;if(s){for(let c=t;c<=a;c++)if(l.get(c,r))return!0}else for(let c=t;c<=a;c++)if(l.get(r,c))return!0;return!1}}Aa.INIT_SIZE=10,Aa.CORR=1;class Ds{static checkAndNudgePoints(t,a){const r=t.getWidth(),s=t.getHeight();let l=!0;for(let c=0;c<a.length&&l;c+=2){const u=Math.floor(a[c]),x=Math.floor(a[c+1]);if(u<-1||u>r||x<-1||x>s)throw new X;l=!1,u===-1?(a[c]=0,l=!0):u===r&&(a[c]=r-1,l=!0),x===-1?(a[c+1]=0,l=!0):x===s&&(a[c+1]=s-1,l=!0)}l=!0;for(let c=a.length-2;c>=0&&l;c-=2){const u=Math.floor(a[c]),x=Math.floor(a[c+1]);if(u<-1||u>r||x<-1||x>s)throw new X;l=!1,u===-1?(a[c]=0,l=!0):u===r&&(a[c]=r-1,l=!0),x===-1?(a[c+1]=0,l=!0):x===s&&(a[c+1]=s-1,l=!0)}}}class vn{constructor(t,a,r,s,l,c,u,x,b){this.a11=t,this.a21=a,this.a31=r,this.a12=s,this.a22=l,this.a32=c,this.a13=u,this.a23=x,this.a33=b}static quadrilateralToQuadrilateral(t,a,r,s,l,c,u,x,b,C,N,T,B,U,z,G){const $=vn.quadrilateralToSquare(t,a,r,s,l,c,u,x);return vn.squareToQuadrilateral(b,C,N,T,B,U,z,G).times($)}transformPoints(t){const a=t.length,r=this.a11,s=this.a12,l=this.a13,c=this.a21,u=this.a22,x=this.a23,b=this.a31,C=this.a32,N=this.a33;for(let T=0;T<a;T+=2){const B=t[T],U=t[T+1],z=l*B+x*U+N;t[T]=(r*B+c*U+b)/z,t[T+1]=(s*B+u*U+C)/z}}transformPointsWithValues(t,a){const r=this.a11,s=this.a12,l=this.a13,c=this.a21,u=this.a22,x=this.a23,b=this.a31,C=this.a32,N=this.a33,T=t.length;for(let B=0;B<T;B++){const U=t[B],z=a[B],G=l*U+x*z+N;t[B]=(r*U+c*z+b)/G,a[B]=(s*U+u*z+C)/G}}static squareToQuadrilateral(t,a,r,s,l,c,u,x){const b=t-r+l-u,C=a-s+c-x;if(b===0&&C===0)return new vn(r-t,l-r,t,s-a,c-s,a,0,0,1);{const N=r-l,T=u-l,B=s-c,U=x-c,z=N*U-T*B,G=(b*U-T*C)/z,$=(N*C-b*B)/z;return new vn(r-t+G*r,u-t+$*u,t,s-a+G*s,x-a+$*x,a,G,$,1)}}static quadrilateralToSquare(t,a,r,s,l,c,u,x){return vn.squareToQuadrilateral(t,a,r,s,l,c,u,x).buildAdjoint()}buildAdjoint(){return new vn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new vn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class On extends Ds{sampleGrid(t,a,r,s,l,c,u,x,b,C,N,T,B,U,z,G,$,pe,we){const me=vn.quadrilateralToQuadrilateral(s,l,c,u,x,b,C,N,T,B,U,z,G,$,pe,we);return this.sampleGridWithTransform(t,a,r,me)}sampleGridWithTransform(t,a,r,s){if(a<=0||r<=0)throw new X;const l=new tt(a,r),c=new Float32Array(2*a);for(let u=0;u<r;u++){const x=c.length,b=u+.5;for(let C=0;C<x;C+=2)c[C]=C/2+.5,c[C+1]=b;s.transformPoints(c),Ds.checkAndNudgePoints(t,c);try{for(let C=0;C<x;C+=2)t.get(Math.floor(c[C]),Math.floor(c[C+1]))&&l.set(C/2,u)}catch{throw new X}}return l}}class Nn{static setGridSampler(t){Nn.gridSampler=t}static getInstance(){return Nn.gridSampler}}Nn.gridSampler=new On;class bt{constructor(t,a){this.x=t,this.y=a}toResultPoint(){return new Re(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Pl{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let a=this.getMatrixCenter(),r=this.getBullsEyeCorners(a);if(t){let c=r[0];r[0]=r[2],r[2]=c}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),l=this.getMatrixCornerPoints(r);return new Os(s,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new X;let a=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],a),this.sampleLine(t[1],t[2],a),this.sampleLine(t[2],t[3],a),this.sampleLine(t[3],t[0],a)]);this.shift=this.getRotation(r,a);let s=0;for(let c=0;c<4;c++){let u=r[(this.shift+c)%4];this.compact?(s<<=7,s+=u>>1&127):(s<<=10,s+=(u>>2&992)+(u>>1&31))}let l=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,a){let r=0;t.forEach((s,l,c)=>{let u=(s>>a-2<<1)+(s&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(le.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new X}getCorrectedParameterData(t,a){let r,s;a?(r=7,s=2):(r=10,s=4);let l=r-s,c=new Int32Array(r);for(let x=r-1;x>=0;--x)c[x]=t&15,t>>=4;try{new oi(ct.AZTEC_PARAM).decode(c,l)}catch{throw new X}let u=0;for(let x=0;x<s;x++)u=(u<<4)+c[x];return u}getBullsEyeCorners(t){let a=t,r=t,s=t,l=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(a,c,1,-1),T=this.getFirstDifferent(r,c,1,1),B=this.getFirstDifferent(s,c,-1,1),U=this.getFirstDifferent(l,c,-1,-1);if(this.nbCenterLayers>2){let z=this.distancePoint(U,N)*this.nbCenterLayers/(this.distancePoint(l,a)*(this.nbCenterLayers+2));if(z<.75||z>1.25||!this.isWhiteOrBlackRectangle(N,T,B,U))break}a=N,r=T,s=B,l=U,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let u=new Re(a.getX()+.5,a.getY()-.5),x=new Re(r.getX()+.5,r.getY()+.5),b=new Re(s.getX()-.5,s.getY()+.5),C=new Re(l.getX()-.5,l.getY()-.5);return this.expandSquare([u,x,b,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,a,r,s;try{let u=new Aa(this.image).detect();t=u[0],a=u[1],r=u[2],s=u[3]}catch{let x=this.image.getWidth()/2,b=this.image.getHeight()/2;t=this.getFirstDifferent(new bt(x+7,b-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new bt(x+7,b+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new bt(x-7,b+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new bt(x-7,b-7),!1,-1,-1).toResultPoint()}let l=lt.round((t.getX()+s.getX()+a.getX()+r.getX())/4),c=lt.round((t.getY()+s.getY()+a.getY()+r.getY())/4);try{let u=new Aa(this.image,15,l,c).detect();t=u[0],a=u[1],r=u[2],s=u[3]}catch{t=this.getFirstDifferent(new bt(l+7,c-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new bt(l+7,c+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new bt(l-7,c+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new bt(l-7,c-7),!1,-1,-1).toResultPoint()}return l=lt.round((t.getX()+s.getX()+a.getX()+r.getX())/4),c=lt.round((t.getY()+s.getY()+a.getY()+r.getY())/4),new bt(l,c)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,a,r,s,l){let c=Nn.getInstance(),u=this.getDimension(),x=u/2-this.nbCenterLayers,b=u/2+this.nbCenterLayers;return c.sampleGrid(t,u,u,x,x,b,x,b,b,x,b,a.getX(),a.getY(),r.getX(),r.getY(),s.getX(),s.getY(),l.getX(),l.getY())}sampleLine(t,a,r){let s=0,l=this.distanceResultPoint(t,a),c=l/r,u=t.getX(),x=t.getY(),b=c*(a.getX()-t.getX())/l,C=c*(a.getY()-t.getY())/l;for(let N=0;N<r;N++)this.image.get(lt.round(u+N*b),lt.round(x+N*C))&&(s|=1<<r-N-1);return s}isWhiteOrBlackRectangle(t,a,r,s){let l=3;t=new bt(t.getX()-l,t.getY()+l),a=new bt(a.getX()-l,a.getY()-l),r=new bt(r.getX()+l,r.getY()-l),s=new bt(s.getX()+l,s.getY()+l);let c=this.getColor(s,t);if(c===0)return!1;let u=this.getColor(t,a);return u!==c||(u=this.getColor(a,r),u!==c)?!1:(u=this.getColor(r,s),u===c)}getColor(t,a){let r=this.distancePoint(t,a),s=(a.getX()-t.getX())/r,l=(a.getY()-t.getY())/r,c=0,u=t.getX(),x=t.getY(),b=this.image.get(t.getX(),t.getY()),C=Math.ceil(r);for(let T=0;T<C;T++)u+=s,x+=l,this.image.get(lt.round(u),lt.round(x))!==b&&c++;let N=c/r;return N>.1&&N<.9?0:N<=.1===b?1:-1}getFirstDifferent(t,a,r,s){let l=t.getX()+r,c=t.getY()+s;for(;this.isValid(l,c)&&this.image.get(l,c)===a;)l+=r,c+=s;for(l-=r,c-=s;this.isValid(l,c)&&this.image.get(l,c)===a;)l+=r;for(l-=r;this.isValid(l,c)&&this.image.get(l,c)===a;)c+=s;return c-=s,new bt(l,c)}expandSquare(t,a,r){let s=r/(2*a),l=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),u=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,b=new Re(u+s*l,x+s*c),C=new Re(u-s*l,x-s*c);l=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),u=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let N=new Re(u+s*l,x+s*c),T=new Re(u-s*l,x-s*c);return[b,N,C,T]}isValid(t,a){return t>=0&&t<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(t){let a=lt.round(t.getX()),r=lt.round(t.getY());return this.isValid(a,r)}distancePoint(t,a){return lt.distance(t.getX(),t.getY(),a.getX(),a.getY())}distanceResultPoint(t,a){return lt.distance(t.getX(),t.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(le.truncDivision(this.nbLayers-4,8)+1)+15}}class zi{decode(t,a=null){let r=null,s=new Pl(t.getBlackMatrix()),l=null,c=null;try{let C=s.detectMirror(!1);l=C.getPoints(),this.reportFoundResultPoints(a,l),c=new Tt().decode(C)}catch(C){r=C}if(c==null)try{let C=s.detectMirror(!0);l=C.getPoints(),this.reportFoundResultPoints(a,l),c=new Tt().decode(C)}catch(C){throw r??C}let u=new De(c.getText(),c.getRawBytes(),c.getNumBits(),l,ye.AZTEC,Q.currentTimeMillis()),x=c.getByteSegments();x!=null&&u.putMetadata(Qe.BYTE_SEGMENTS,x);let b=c.getECLevel();return b!=null&&u.putMetadata(Qe.ERROR_CORRECTION_LEVEL,b),u}reportFoundResultPoints(t,a){if(t!=null){let r=t.get(ne.NEED_RESULT_POINT_CALLBACK);r!=null&&a.forEach((s,l,c)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class dc extends ve{constructor(t=500){super(new zi,t)}}class kt{decode(t,a){try{return this.doDecode(t,a)}catch{if(a&&a.get(ne.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),c=this.doDecode(l,a),u=c.getResultMetadata();let x=270;u!==null&&u.get(Qe.ORIENTATION)===!0&&(x=x+u.get(Qe.ORIENTATION)%360),c.putMetadata(Qe.ORIENTATION,x);const b=c.getResultPoints();if(b!==null){const C=l.getHeight();for(let N=0;N<b.length;N++)b[N]=new Re(C-b[N].getY()-1,b[N].getX())}return c}else throw new X}}reset(){}doDecode(t,a){const r=t.getWidth(),s=t.getHeight();let l=new Se(r);const c=a&&a.get(ne.TRY_HARDER)===!0,u=Math.max(1,s>>(c?8:5));let x;c?x=s:x=15;const b=Math.trunc(s/2);for(let C=0;C<x;C++){const N=Math.trunc((C+1)/2),T=(C&1)===0,B=b+u*(T?N:-N);if(B<0||B>=s)break;try{l=t.getBlackRow(B,l)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(l.reverse(),a&&a.get(ne.NEED_RESULT_POINT_CALLBACK)===!0)){const z=new Map;a.forEach((G,$)=>z.set($,G)),z.delete(ne.NEED_RESULT_POINT_CALLBACK),a=z}try{const z=this.decodeRow(B,l,a);if(U===1){z.putMetadata(Qe.ORIENTATION,180);const G=z.getResultPoints();G!==null&&(G[0]=new Re(r-G[0].getX()-1,G[0].getY()),G[1]=new Re(r-G[1].getX()-1,G[1].getY()))}return z}catch{}}}throw new X}static recordPattern(t,a,r){const s=r.length;for(let b=0;b<s;b++)r[b]=0;const l=t.getSize();if(a>=l)throw new X;let c=!t.get(a),u=0,x=a;for(;x<l;){if(t.get(x)!==c)r[u]++;else{if(++u===s)break;r[u]=1,c=!c}x++}if(!(u===s||u===s-1&&x===l))throw new X}static recordPatternInReverse(t,a,r){let s=r.length,l=t.get(a);for(;a>0&&s>=0;)t.get(--a)!==l&&(s--,l=!l);if(s>=0)throw new X;kt.recordPattern(t,a+1,r)}static patternMatchVariance(t,a,r){const s=t.length;let l=0,c=0;for(let b=0;b<s;b++)l+=t[b],c+=a[b];if(l<c)return Number.POSITIVE_INFINITY;const u=l/c;r*=u;let x=0;for(let b=0;b<s;b++){const C=t[b],N=a[b]*u,T=C>N?C-N:N-C;if(T>r)return Number.POSITIVE_INFINITY;x+=T}return x/l}}class Ce extends kt{static findStartPattern(t){const a=t.getSize(),r=t.getNextSet(0);let s=0,l=Int32Array.from([0,0,0,0,0,0]),c=r,u=!1;const x=6;for(let b=r;b<a;b++)if(t.get(b)!==u)l[s]++;else{if(s===x-1){let C=Ce.MAX_AVG_VARIANCE,N=-1;for(let T=Ce.CODE_START_A;T<=Ce.CODE_START_C;T++){const B=kt.patternMatchVariance(l,Ce.CODE_PATTERNS[T],Ce.MAX_INDIVIDUAL_VARIANCE);B<C&&(C=B,N=T)}if(N>=0&&t.isRange(Math.max(0,c-(b-c)/2),c,!1))return Int32Array.from([c,b,N]);c+=l[0]+l[1],l=l.slice(2,l.length-1),l[s-1]=0,l[s]=0,s--}else s++;l[s]=1,u=!u}throw new X}static decodeCode(t,a,r){kt.recordPattern(t,r,a);let s=Ce.MAX_AVG_VARIANCE,l=-1;for(let c=0;c<Ce.CODE_PATTERNS.length;c++){const u=Ce.CODE_PATTERNS[c],x=this.patternMatchVariance(a,u,Ce.MAX_INDIVIDUAL_VARIANCE);x<s&&(s=x,l=c)}if(l>=0)return l;throw new X}decodeRow(t,a,r){const s=r&&r.get(ne.ASSUME_GS1)===!0,l=Ce.findStartPattern(a),c=l[2];let u=0;const x=new Uint8Array(20);x[u++]=c;let b;switch(c){case Ce.CODE_START_A:b=Ce.CODE_CODE_A;break;case Ce.CODE_START_B:b=Ce.CODE_CODE_B;break;case Ce.CODE_START_C:b=Ce.CODE_CODE_C;break;default:throw new re}let C=!1,N=!1,T="",B=l[0],U=l[1];const z=Int32Array.from([0,0,0,0,0,0]);let G=0,$=0,pe=c,we=0,me=!0,Ze=!1,Xe=!1;for(;!C;){const Ya=N;switch(N=!1,G=$,$=Ce.decodeCode(a,z,U),x[u++]=$,$!==Ce.CODE_STOP&&(me=!0),$!==Ce.CODE_STOP&&(we++,pe+=we*$),B=U,U+=z.reduce(($n,Kl)=>$n+Kl,0),$){case Ce.CODE_START_A:case Ce.CODE_START_B:case Ce.CODE_START_C:throw new re}switch(b){case Ce.CODE_CODE_A:if($<64)Xe===Ze?T+=String.fromCharCode(32+$):T+=String.fromCharCode(32+$+128),Xe=!1;else if($<96)Xe===Ze?T+=String.fromCharCode($-64):T+=String.fromCharCode($+64),Xe=!1;else switch($!==Ce.CODE_STOP&&(me=!1),$){case Ce.CODE_FNC_1:s&&(T.length===0?T+="]C1":T+="");break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_A:!Ze&&Xe?(Ze=!0,Xe=!1):Ze&&Xe?(Ze=!1,Xe=!1):Xe=!0;break;case Ce.CODE_SHIFT:N=!0,b=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_B:b=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_C:b=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:C=!0;break}break;case Ce.CODE_CODE_B:if($<96)Xe===Ze?T+=String.fromCharCode(32+$):T+=String.fromCharCode(32+$+128),Xe=!1;else switch($!==Ce.CODE_STOP&&(me=!1),$){case Ce.CODE_FNC_1:s&&(T.length===0?T+="]C1":T+="");break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_B:!Ze&&Xe?(Ze=!0,Xe=!1):Ze&&Xe?(Ze=!1,Xe=!1):Xe=!0;break;case Ce.CODE_SHIFT:N=!0,b=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_A:b=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_C:b=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:C=!0;break}break;case Ce.CODE_CODE_C:if($<100)$<10&&(T+="0"),T+=$;else switch($!==Ce.CODE_STOP&&(me=!1),$){case Ce.CODE_FNC_1:s&&(T.length===0?T+="]C1":T+="");break;case Ce.CODE_CODE_A:b=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_B:b=Ce.CODE_CODE_B;break;case Ce.CODE_STOP:C=!0;break}break}Ya&&(b=b===Ce.CODE_CODE_A?Ce.CODE_CODE_B:Ce.CODE_CODE_A)}const Tn=U-B;if(U=a.getNextUnset(U),!a.isRange(U,Math.min(a.getSize(),U+(U-B)/2),!1))throw new X;if(pe-=we*G,pe%103!==G)throw new ie;const Xn=T.length;if(Xn===0)throw new X;Xn>0&&me&&(b===Ce.CODE_CODE_C?T=T.substring(0,Xn-2):T=T.substring(0,Xn-1));const Ln=(l[1]+l[0])/2,Et=B+Tn/2,xn=x.length,jn=new Uint8Array(xn);for(let Ya=0;Ya<xn;Ya++)jn[Ya]=x[Ya];const lr=[new Re(Ln,t),new Re(Et,t)];return new De(T,jn,0,lr,ye.CODE_128,new Date().getTime())}}Ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ce.MAX_AVG_VARIANCE=.25,Ce.MAX_INDIVIDUAL_VARIANCE=.7,Ce.CODE_SHIFT=98,Ce.CODE_CODE_C=99,Ce.CODE_CODE_B=100,Ce.CODE_CODE_A=101,Ce.CODE_FNC_1=102,Ce.CODE_FNC_2=97,Ce.CODE_FNC_3=96,Ce.CODE_FNC_4_A=101,Ce.CODE_FNC_4_B=100,Ce.CODE_START_A=103,Ce.CODE_START_B=104,Ce.CODE_START_C=105,Ce.CODE_STOP=106;class Dt extends kt{constructor(t=!1,a=!1){super(),this.usingCheckDigit=t,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,a,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let l=Dt.findAsteriskPattern(a,s),c=a.getNextSet(l[1]),u=a.getSize(),x,b;do{Dt.recordPattern(a,c,s);let z=Dt.toNarrowWidePattern(s);if(z<0)throw new X;x=Dt.patternToChar(z),this.decodeRowResult+=x,b=c;for(let G of s)c+=G;c=a.getNextSet(c)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let z of s)C+=z;let N=c-b-C;if(c!==u&&N*2<C)throw new X;if(this.usingCheckDigit){let z=this.decodeRowResult.length-1,G=0;for(let $=0;$<z;$++)G+=Dt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($));if(this.decodeRowResult.charAt(z)!==Dt.ALPHABET_STRING.charAt(G%43))throw new ie;this.decodeRowResult=this.decodeRowResult.substring(0,z)}if(this.decodeRowResult.length===0)throw new X;let T;this.extendedMode?T=Dt.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let B=(l[1]+l[0])/2,U=b+C/2;return new De(T,null,0,[new Re(B,t),new Re(U,t)],ye.CODE_39,new Date().getTime())}static findAsteriskPattern(t,a){let r=t.getSize(),s=t.getNextSet(0),l=0,c=s,u=!1,x=a.length;for(let b=s;b<r;b++)if(t.get(b)!==u)a[l]++;else{if(l===x-1){if(this.toNarrowWidePattern(a)===Dt.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((b-c)/2)),c,!1))return[c,b];c+=a[0]+a[1],a.copyWithin(0,2,2+l-1),a[l-1]=0,a[l]=0,l--}else l++;a[l]=1,u=!u}throw new X}static toNarrowWidePattern(t){let a=t.length,r=0,s;do{let l=2147483647;for(let x of t)x<l&&x>r&&(l=x);r=l,s=0;let c=0,u=0;for(let x=0;x<a;x++){let b=t[x];b>r&&(u|=1<<a-1-x,s++,c+=b)}if(s===3){for(let x=0;x<a&&s>0;x++){let b=t[x];if(b>r&&(s--,b*2>=c))return-1}return u}}while(s>3);return-1}static patternToChar(t){for(let a=0;a<Dt.CHARACTER_ENCODINGS.length;a++)if(Dt.CHARACTER_ENCODINGS[a]===t)return Dt.ALPHABET_STRING.charAt(a);if(t===Dt.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(t){let a=t.length,r="";for(let s=0;s<a;s++){let l=t.charAt(s);if(l==="+"||l==="$"||l==="%"||l==="/"){let c=t.charAt(s+1),u="\0";switch(l){case"+":if(c>="A"&&c<="Z")u=String.fromCharCode(c.charCodeAt(0)+32);else throw new re;break;case"$":if(c>="A"&&c<="Z")u=String.fromCharCode(c.charCodeAt(0)-64);else throw new re;break;case"%":if(c>="A"&&c<="E")u=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")u=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")u=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")u=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")u="\0";else if(c==="V")u="@";else if(c==="W")u="`";else if(c==="X"||c==="Y"||c==="Z")u="";else throw new re;break;case"/":if(c>="A"&&c<="O")u=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")u=":";else throw new re;break}r+=u,s++}else r+=l}return r}}Dt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Dt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Dt.ASTERISK_ENCODING=148;class ht extends kt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,a,r){let s=this.decodeStart(a),l=this.decodeEnd(a),c=new Te;ht.decodeMiddle(a,s[1],l[0],c);let u=c.toString(),x=null;r!=null&&(x=r.get(ne.ALLOWED_LENGTHS)),x==null&&(x=ht.DEFAULT_ALLOWED_LENGTHS);let b=u.length,C=!1,N=0;for(let U of x){if(b===U){C=!0;break}U>N&&(N=U)}if(!C&&b>N&&(C=!0),!C)throw new re;const T=[new Re(s[1],t),new Re(l[0],t)];return new De(u,null,0,T,ye.ITF,new Date().getTime())}static decodeMiddle(t,a,r,s){let l=new Int32Array(10),c=new Int32Array(5),u=new Int32Array(5);for(l.fill(0),c.fill(0),u.fill(0);a<r;){kt.recordPattern(t,a,l);for(let b=0;b<5;b++){let C=2*b;c[b]=l[C],u[b]=l[C+1]}let x=ht.decodeDigit(c);s.append(x.toString()),x=this.decodeDigit(u),s.append(x.toString()),l.forEach(function(b){a+=b})}}decodeStart(t){let a=ht.skipWhiteSpace(t),r=ht.findGuardPattern(t,a,ht.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r}validateQuietZone(t,a){let r=this.narrowLineWidth*10;r=r<a?r:a;for(let s=a-1;r>0&&s>=0&&!t.get(s);s--)r--;if(r!==0)throw new X}static skipWhiteSpace(t){const a=t.getSize(),r=t.getNextSet(0);if(r===a)throw new X;return r}decodeEnd(t){t.reverse();try{let a=ht.skipWhiteSpace(t),r;try{r=ht.findGuardPattern(t,a,ht.END_PATTERN_REVERSED[0])}catch(l){l instanceof X&&(r=ht.findGuardPattern(t,a,ht.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);let s=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-s,r}finally{t.reverse()}}static findGuardPattern(t,a,r){let s=r.length,l=new Int32Array(s),c=t.getSize(),u=!1,x=0,b=a;l.fill(0);for(let C=a;C<c;C++)if(t.get(C)!==u)l[x]++;else{if(x===s-1){if(kt.patternMatchVariance(l,r,ht.MAX_INDIVIDUAL_VARIANCE)<ht.MAX_AVG_VARIANCE)return[b,C];b+=l[0]+l[1],Q.arraycopy(l,2,l,0,x-1),l[x-1]=0,l[x]=0,x--}else x++;l[x]=1,u=!u}throw new X}static decodeDigit(t){let a=ht.MAX_AVG_VARIANCE,r=-1,s=ht.PATTERNS.length;for(let l=0;l<s;l++){let c=ht.PATTERNS[l],u=kt.patternMatchVariance(t,c,ht.MAX_INDIVIDUAL_VARIANCE);u<a?(a=u,r=l):u===a&&(r=-1)}if(r>=0)return r%10;throw new X}}ht.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ht.MAX_AVG_VARIANCE=.38,ht.MAX_INDIVIDUAL_VARIANCE=.5,ht.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ht.START_PATTERN=Int32Array.from([1,1,1,1]),ht.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class _t extends kt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let a=!1,r,s=0,l=Int32Array.from([0,0,0]);for(;!a;){l=Int32Array.from([0,0,0]),r=_t.findGuardPattern(t,s,!1,this.START_END_PATTERN,l);let c=r[0];s=r[1];let u=c-(s-c);u>=0&&(a=t.isRange(u,c,!1))}return r}static checkChecksum(t){return _t.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let r=parseInt(t.charAt(a-1),10);return _t.getStandardUPCEANChecksum(t.substring(0,a-1))===r}static getStandardUPCEANChecksum(t){let a=t.length,r=0;for(let s=a-1;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new re;r+=l}r*=3;for(let s=a-2;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new re;r+=l}return(1e3-r)%10}static decodeEnd(t,a){return _t.findGuardPattern(t,a,!1,_t.START_END_PATTERN,new Int32Array(_t.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,a,r,s){return this.findGuardPattern(t,a,r,s,new Int32Array(s.length))}static findGuardPattern(t,a,r,s,l){let c=t.getSize();a=r?t.getNextUnset(a):t.getNextSet(a);let u=0,x=a,b=s.length,C=r;for(let N=a;N<c;N++)if(t.get(N)!==C)l[u]++;else{if(u===b-1){if(kt.patternMatchVariance(l,s,_t.MAX_INDIVIDUAL_VARIANCE)<_t.MAX_AVG_VARIANCE)return Int32Array.from([x,N]);x+=l[0]+l[1];let T=l.slice(2,l.length-1);for(let B=0;B<u-1;B++)l[B]=T[B];l[u-1]=0,l[u]=0,u--}else u++;l[u]=1,C=!C}throw new X}static decodeDigit(t,a,r,s){this.recordPattern(t,r,a);let l=this.MAX_AVG_VARIANCE,c=-1,u=s.length;for(let x=0;x<u;x++){let b=s[x],C=kt.patternMatchVariance(a,b,_t.MAX_INDIVIDUAL_VARIANCE);C<l&&(l=C,c=x)}if(c>=0)return c;throw new X}}_t.MAX_AVG_VARIANCE=.48,_t.MAX_INDIVIDUAL_VARIANCE=.7,_t.START_END_PATTERN=Int32Array.from([1,1,1]),_t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),_t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ui{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,r){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(a,r,s),c=s.toString(),u=ui.parseExtensionString(c),x=[new Re((r[0]+r[1])/2,t),new Re(l,t)],b=new De(c,null,0,x,ye.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&b.putAllMetadata(u),b}decodeMiddle(t,a,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=a[1],u=0;for(let b=0;b<5&&c<l;b++){let C=_t.decodeDigit(t,s,c,_t.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let N of s)c+=N;C>=10&&(u|=1<<4-b),b!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(r.length!==5)throw new X;let x=this.determineCheckDigit(u);if(ui.extensionChecksum(r.toString())!==x)throw new X;return c}static extensionChecksum(t){let a=t.length,r=0;for(let s=a-2;s>=0;s-=2)r+=t.charAt(s).charCodeAt(0)-48;r*=3;for(let s=a-1;s>=0;s-=2)r+=t.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(t){for(let a=0;a<10;a++)if(t===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new X}static parseExtensionString(t){if(t.length!==5)return null;let a=ui.parseExtension5String(t);return a==null?null:new Map([[Qe.SUGGESTED_PRICE,a]])}static parseExtension5String(t){let a;switch(t.charAt(0)){case"0":a="£";break;case"5":a="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let r=parseInt(t.substring(1)),s=(r/100).toString(),l=r%100,c=l<10?"0"+l:l.toString();return a+s+"."+c}}class Pi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,r){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(a,r,s),c=s.toString(),u=Pi.parseExtensionString(c),x=[new Re((r[0]+r[1])/2,t),new Re(l,t)],b=new De(c,null,0,x,ye.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&b.putAllMetadata(u),b}decodeMiddle(t,a,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=a[1],u=0;for(let x=0;x<2&&c<l;x++){let b=_t.decodeDigit(t,s,c,_t.L_AND_G_PATTERNS);r+=String.fromCharCode(48+b%10);for(let C of s)c+=C;b>=10&&(u|=1<<1-x),x!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(r.length!==2)throw new X;if(parseInt(r.toString())%4!==u)throw new X;return c}static parseExtensionString(t){return t.length!==2?null:new Map([[Qe.ISSUE_NUMBER,parseInt(t)]])}}class Rs{static decodeRow(t,a,r){let s=_t.findGuardPattern(a,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ui().decodeRow(t,a,s)}catch{return new Pi().decodeRow(t,a,s)}}}Rs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ut extends _t{constructor(){super(),this.decodeRowStringBuffer="",ut.L_AND_G_PATTERNS=ut.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let a=ut.L_PATTERNS[t-10],r=new Int32Array(a.length);for(let s=0;s<a.length;s++)r[s]=a[a.length-s-1];ut.L_AND_G_PATTERNS[t]=r}}decodeRow(t,a,r){let s=ut.findStartGuardPattern(a),l=r==null?null:r.get(ne.NEED_RESULT_POINT_CALLBACK);if(l!=null){const me=new Re((s[0]+s[1])/2,t);l.foundPossibleResultPoint(me)}let c=this.decodeMiddle(a,s,this.decodeRowStringBuffer),u=c.rowOffset,x=c.resultString;if(l!=null){const me=new Re(u,t);l.foundPossibleResultPoint(me)}let b=this.decodeEnd(a,u);if(l!=null){const me=new Re((b[0]+b[1])/2,t);l.foundPossibleResultPoint(me)}let C=b[1],N=C+(C-b[0]);if(N>=a.getSize()||!a.isRange(C,N,!1))throw new X;let T=x.toString();if(T.length<8)throw new re;if(!ut.checkChecksum(T))throw new ie;let B=(s[1]+s[0])/2,U=(b[1]+b[0])/2,z=this.getBarcodeFormat(),G=[new Re(B,t),new Re(U,t)],$=new De(T,null,0,G,z,new Date().getTime()),pe=0;try{let me=Rs.decodeRow(t,a,b[1]);$.putMetadata(Qe.UPC_EAN_EXTENSION,me.getText()),$.putAllMetadata(me.getResultMetadata()),$.addResultPoints(me.getResultPoints()),pe=me.getText().length}catch{}let we=r==null?null:r.get(ne.ALLOWED_EAN_EXTENSIONS);if(we!=null){let me=!1;for(let Ze in we)if(pe.toString()===Ze){me=!0;break}if(!me)throw new X}return $}decodeEnd(t,a){return ut.findGuardPattern(t,a,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return ut.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let r=parseInt(t.charAt(a-1),10);return ut.getStandardUPCEANChecksum(t.substring(0,a-1))===r}static getStandardUPCEANChecksum(t){let a=t.length,r=0;for(let s=a-1;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new re;r+=l}r*=3;for(let s=a-2;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new re;r+=l}return(1e3-r)%10}}class Wn extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=a[1],u=0;for(let b=0;b<6&&c<l;b++){let C=ut.decodeDigit(t,s,c,ut.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let N of s)c+=N;C>=10&&(u|=1<<5-b)}r=Wn.determineFirstDigit(r,u),c=ut.findGuardPattern(t,c,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<6&&c<l;b++){let C=ut.decodeDigit(t,s,c,ut.L_PATTERNS);r+=String.fromCharCode(48+C);for(let N of s)c+=N}return{rowOffset:c,resultString:r}}getBarcodeFormat(){return ye.EAN_13}static determineFirstDigit(t,a){for(let r=0;r<10;r++)if(a===this.FIRST_DIGIT_ENCODINGS[r])return t=String.fromCharCode(48+r)+t,t;throw new X}}Wn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Fl extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=a[1];for(let x=0;x<4&&c<l;x++){let b=ut.decodeDigit(t,s,c,ut.L_PATTERNS);r+=String.fromCharCode(48+b);for(let C of s)c+=C}c=ut.findGuardPattern(t,c,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&c<l;x++){let b=ut.decodeDigit(t,s,c,ut.L_PATTERNS);r+=String.fromCharCode(48+b);for(let C of s)c+=C}return{rowOffset:c,resultString:r}}getBarcodeFormat(){return ye.EAN_8}}class Bs extends ut{constructor(){super(...arguments),this.ean13Reader=new Wn}getBarcodeFormat(){return ye.UPC_A}decode(t,a){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,a,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,a,r))}decodeMiddle(t,a,r){return this.ean13Reader.decodeMiddle(t,a,r)}maybeReturnResult(t){let a=t.getText();if(a.charAt(0)==="0"){let r=new De(a.substring(1),null,null,t.getResultPoints(),ye.UPC_A);return t.getResultMetadata()!=null&&r.putAllMetadata(t.getResultMetadata()),r}else throw new X}reset(){this.ean13Reader.reset()}}class Gn extends ut{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,a,r){const s=this.decodeMiddleCounters.map(b=>b);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const l=t.getSize();let c=a[1],u=0;for(let b=0;b<6&&c<l;b++){const C=Gn.decodeDigit(t,s,c,Gn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let N of s)c+=N;C>=10&&(u|=1<<5-b)}let x=Gn.determineNumSysAndCheckDigit(r,u);return{rowOffset:c,resultString:x}}decodeEnd(t,a){return Gn.findGuardPatternWithoutCounters(t,a,!0,Gn.MIDDLE_END_PATTERN)}checkChecksum(t){return ut.checkChecksum(Gn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,a){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let l=String.fromCharCode(48+r),c=String.fromCharCode(48+s);return l+t+c}throw X.getNotFoundInstance()}getBarcodeFormat(){return ye.UPC_E}static convertUPCEtoUPCA(t){const a=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),r=new Te;r.append(t.charAt(0));let s=a[5];switch(s){case 0:case 1:case 2:r.appendChars(a,0,2),r.append(s),r.append("0000"),r.appendChars(a,2,3);break;case 3:r.appendChars(a,0,3),r.append("00000"),r.appendChars(a,3,2);break;case 4:r.appendChars(a,0,4),r.append("00000"),r.append(a[4]);break;default:r.appendChars(a,0,5),r.append("0000"),r.append(s);break}return t.length>=8&&r.append(t.charAt(7)),r.toString()}}Gn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class fi extends kt{constructor(t){super();let a=t==null?null:t.get(ne.POSSIBLE_FORMATS),r=[];y(a)?(r.push(new Wn),r.push(new Bs),r.push(new Fl),r.push(new Gn)):(a.indexOf(ye.EAN_13)>-1&&r.push(new Wn),a.indexOf(ye.UPC_A)>-1&&r.push(new Bs),a.indexOf(ye.EAN_8)>-1&&r.push(new Fl),a.indexOf(ye.UPC_E)>-1&&r.push(new Gn)),this.readers=r}decodeRow(t,a,r){for(let s of this.readers)try{const l=s.decodeRow(t,a,r),c=l.getBarcodeFormat()===ye.EAN_13&&l.getText().charAt(0)==="0",u=r==null?null:r.get(ne.POSSIBLE_FORMATS),x=u==null||u.includes(ye.UPC_A);if(c&&x){const b=l.getRawBytes(),C=new De(l.getText().substring(1),b,b?b.length:null,l.getResultPoints(),ye.UPC_A);return C.putAllMetadata(l.getResultMetadata()),C}return l}catch{}throw new X}reset(){for(let t of this.readers)t.reset()}}class rn extends kt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,a){for(let r=0;r<a.length;r++)if(kt.patternMatchVariance(t,a[r],rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return r;throw new X}static count(t){return lt.sum(new Int32Array(t))}static increment(t,a){let r=0,s=a[0];for(let l=1;l<t.length;l++)a[l]>s&&(s=a[l],r=l);t[r]++}static decrement(t,a){let r=0,s=a[0];for(let l=1;l<t.length;l++)a[l]<s&&(s=a[l],r=l);t[r]--}static isFinderPattern(t){let a=t[0]+t[1],r=a+t[2]+t[3],s=a/r;if(s>=rn.MIN_FINDER_PATTERN_RATIO&&s<=rn.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let u of t)u>c&&(c=u),u<l&&(l=u);return c<10*l}return!1}}rn.MAX_AVG_VARIANCE=.2,rn.MAX_INDIVIDUAL_VARIANCE=.45,rn.MIN_FINDER_PATTERN_RATIO=9.5/12,rn.MAX_FINDER_PATTERN_RATIO=12.5/14;class tr{constructor(t,a){this.value=t,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof tr))return!1;const a=t;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Fi{constructor(t,a,r,s,l){this.value=t,this.startEnd=a,this.value=t,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new Re(r,l)),this.resultPoints.push(new Re(s,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Fi))return!1;const a=t;return this.value===a.value}hashCode(){return this.value}}class un{constructor(){}static getRSSvalue(t,a,r){let s=0;for(let x of t)s+=x;let l=0,c=0,u=t.length;for(let x=0;x<u-1;x++){let b;for(b=1,c|=1<<x;b<t[x];b++,c&=~(1<<x)){let C=un.combins(s-b-1,u-x-2);if(r&&c===0&&s-b-(u-x-1)>=u-x-1&&(C-=un.combins(s-b-(u-x),u-x-2)),u-x-1>1){let N=0;for(let T=s-b-(u-x-2);T>a;T--)N+=un.combins(s-b-T-1,u-x-3);C-=N*(u-1-x)}else s-b>a&&C--;l+=C}s-=b}return l}static combins(t,a){let r,s;t-a>a?(s=a,r=t-a):(s=t-a,r=a);let l=1,c=1;for(let u=t;u>r;u--)l*=u,c<=s&&(l/=c,c++);for(;c<=s;)l/=c,c++;return l}}class yn{static buildBitArray(t){let a=t.length*2-1;t[t.length-1].getRightChar()==null&&(a-=1);let r=12*a,s=new Se(r),l=0,u=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)(u&1<<x)!=0&&s.set(l),l++;for(let x=1;x<t.length;++x){let b=t[x],C=b.getLeftChar().getValue();for(let N=11;N>=0;--N)(C&1<<N)!=0&&s.set(l),l++;if(b.getRightChar()!=null){let N=b.getRightChar().getValue();for(let T=11;T>=0;--T)(N&1<<T)!=0&&s.set(l),l++}}return s}}class Xt{constructor(t,a){a?this.decodedInformation=null:(this.finished=t,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ra{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class bn extends Ra{constructor(t,a){super(t),this.value=a}getValue(){return this.value}isFNC1(){return this.value===bn.FNC1}}bn.FNC1="$";class nr extends Ra{constructor(t,a,r){super(t),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Vn extends Ra{constructor(t,a,r){if(super(t),a<0||a>10||r<0||r>10)throw new re;this.firstDigit=a,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Vn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Vn.FNC1}isAnyFNC1(){return this.firstDigit===Vn.FNC1||this.secondDigit===Vn.FNC1}}Vn.FNC1=10;class Me{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new X;let a=t.substring(0,2);for(let l of Me.TWO_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(2,l[2],t):Me.processFixedAI(2,l[1],t);if(t.length<3)throw new X;let r=t.substring(0,3);for(let l of Me.THREE_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(3,l[2],t):Me.processFixedAI(3,l[1],t);for(let l of Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,l[2],t):Me.processFixedAI(4,l[1],t);if(t.length<4)throw new X;let s=t.substring(0,4);for(let l of Me.FOUR_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,l[2],t):Me.processFixedAI(4,l[1],t);throw new X}static processFixedAI(t,a,r){if(r.length<t)throw new X;let s=r.substring(0,t);if(r.length<t+a)throw new X;let l=r.substring(t,t+a),c=r.substring(t+a),u="("+s+")"+l,x=Me.parseFieldsInGeneralPurpose(c);return x==null?u:u+x}static processVariableAI(t,a,r){let s=r.substring(0,t),l;r.length<t+a?l=r.length:l=t+a;let c=r.substring(t,l),u=r.substring(l),x="("+s+")"+c,b=Me.parseFieldsInGeneralPurpose(u);return b==null?x:x+b}}Me.VARIABLE_LENGTH=[],Me.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Me.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Me.VARIABLE_LENGTH,20],["22",Me.VARIABLE_LENGTH,29],["30",Me.VARIABLE_LENGTH,8],["37",Me.VARIABLE_LENGTH,8],["90",Me.VARIABLE_LENGTH,30],["91",Me.VARIABLE_LENGTH,30],["92",Me.VARIABLE_LENGTH,30],["93",Me.VARIABLE_LENGTH,30],["94",Me.VARIABLE_LENGTH,30],["95",Me.VARIABLE_LENGTH,30],["96",Me.VARIABLE_LENGTH,30],["97",Me.VARIABLE_LENGTH,3],["98",Me.VARIABLE_LENGTH,30],["99",Me.VARIABLE_LENGTH,30]],Me.THREE_DIGIT_DATA_LENGTH=[["240",Me.VARIABLE_LENGTH,30],["241",Me.VARIABLE_LENGTH,30],["242",Me.VARIABLE_LENGTH,6],["250",Me.VARIABLE_LENGTH,30],["251",Me.VARIABLE_LENGTH,30],["253",Me.VARIABLE_LENGTH,17],["254",Me.VARIABLE_LENGTH,20],["400",Me.VARIABLE_LENGTH,30],["401",Me.VARIABLE_LENGTH,30],["402",17],["403",Me.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Me.VARIABLE_LENGTH,20],["421",Me.VARIABLE_LENGTH,15],["422",3],["423",Me.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Me.VARIABLE_LENGTH,15],["391",Me.VARIABLE_LENGTH,18],["392",Me.VARIABLE_LENGTH,15],["393",Me.VARIABLE_LENGTH,18],["703",Me.VARIABLE_LENGTH,30]],Me.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Me.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Me.VARIABLE_LENGTH,20],["8003",Me.VARIABLE_LENGTH,30],["8004",Me.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Me.VARIABLE_LENGTH,30],["8008",Me.VARIABLE_LENGTH,12],["8018",18],["8020",Me.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Me.VARIABLE_LENGTH,70],["8200",Me.VARIABLE_LENGTH,70]];class ua{constructor(t){this.buffer=new Te,this.information=t}decodeAllCodes(t,a){let r=a,s=null;do{let l=this.decodeGeneralPurposeField(r,s),c=Me.parseFieldsInGeneralPurpose(l.getNewString());if(c!=null&&t.append(c),l.isRemaining()?s=""+l.getRemainingValue():s=null,r===l.getNewPosition())break;r=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let a=t;a<t+3;++a)if(this.information.get(a))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new Vn(this.information.getSize(),Vn.FNC1,Vn.FNC1):new Vn(this.information.getSize(),l-1,Vn.FNC1)}let a=this.extractNumericValueFromBitArray(t,7),r=(a-8)/11,s=(a-8)%11;return new Vn(t+7,r,s)}extractNumericValueFromBitArray(t,a){return ua.extractNumericValueFromBitArray(this.information,t,a)}static extractNumericValueFromBitArray(t,a,r){let s=0;for(let l=0;l<r;++l)t.get(a+l)&&(s|=1<<r-l-1);return s}decodeGeneralPurposeField(t,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(t);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new nr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new nr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,a;do{let r=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),t=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),t=a.isFinished()):(a=this.parseNumericBlock(),t=a.isFinished()),!(r!==this.current.getPosition())&&!t)break}while(!t);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let a;return t.isSecondDigitFNC1()?a=new nr(this.current.getPosition(),this.buffer.toString()):a=new nr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Xt(!0,a)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let a=new nr(this.current.getPosition(),this.buffer.toString());return new Xt(!0,a)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new nr(this.current.getPosition(),this.buffer.toString());return new Xt(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new nr(this.current.getPosition(),this.buffer.toString());return new Xt(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253}decodeIsoIec646(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new bn(t+5,bn.FNC1);if(a>=5&&a<15)return new bn(t+5,"0"+(a-5));let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new bn(t+7,""+(r+1));if(r>=90&&r<116)return new bn(t+7,""+(r+7));let s=this.extractNumericValueFromBitArray(t,8),l;switch(s){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new re}return new bn(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63}decodeAlphanumeric(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new bn(t+5,bn.FNC1);if(a>=5&&a<15)return new bn(t+5,"0"+(a-5));let r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new bn(t+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new ca("Decoding invalid alphanumeric value: "+r)}return new bn(t+6,s)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<5&&a+t<this.information.getSize();++a)if(a===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+a))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let a=t;a<t+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<4&&a+t<this.information.getSize();++a)if(this.information.get(t+a))return!1;return!0}}class di{constructor(t){this.information=t,this.generalDecoder=new ua(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Jt extends di{constructor(t){super(t)}encodeCompressedGtin(t,a){t.append("(01)");let r=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,a,r)}encodeCompressedGtinWithoutAI(t,a,r){for(let s=0;s<4;++s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*s,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}Jt.appendCheckDigit(t,r)}static appendCheckDigit(t,a){let r=0;for(let s=0;s<13;s++){let l=t.charAt(s+a).charCodeAt(0)-48;r+=(s&1)===0?3*l:l}r=10-r%10,r===10&&(r=0),t.append(r)}}Jt.GTIN_SIZE=40;class Kn extends Jt{constructor(t){super(t)}parseInformation(){let t=new Te;t.append("(01)");let a=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,Kn.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(t,Kn.HEADER_SIZE+44)}}Kn.HEADER_SIZE=4;class Ba extends di{constructor(t){super(t)}parseInformation(){let t=new Te;return this.getGeneralDecoder().decodeAllCodes(t,Ba.HEADER_SIZE)}}Ba.HEADER_SIZE=5;class Ea extends Jt{constructor(t){super(t)}encodeCompressedWeight(t,a,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(a,r);this.addWeightCode(t,s);let l=this.checkWeight(s),c=1e5;for(let u=0;u<5;++u)l/c===0&&t.append("0"),c/=10;t.append(l)}}class wt extends Ea{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=wt.HEADER_SIZE+Ea.GTIN_SIZE+wt.WEIGHT_SIZE)throw new X;let t=new Te;return this.encodeCompressedGtin(t,wt.HEADER_SIZE),this.encodeCompressedWeight(t,wt.HEADER_SIZE+Ea.GTIN_SIZE,wt.WEIGHT_SIZE),t.toString()}}wt.HEADER_SIZE=5,wt.WEIGHT_SIZE=15;class Hl extends wt{constructor(t){super(t)}addWeightCode(t,a){t.append("(3103)")}checkWeight(t){return t}}class Gl extends wt{constructor(t){super(t)}addWeightCode(t,a){a<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class wn extends Jt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<wn.HEADER_SIZE+Jt.GTIN_SIZE)throw new X;let t=new Te;this.encodeCompressedGtin(t,wn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+Jt.GTIN_SIZE,wn.LAST_DIGIT_SIZE);t.append("(392"),t.append(a),t.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(wn.HEADER_SIZE+Jt.GTIN_SIZE+wn.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()}}wn.HEADER_SIZE=8,wn.LAST_DIGIT_SIZE=2;class qt extends Jt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<qt.HEADER_SIZE+Jt.GTIN_SIZE)throw new X;let t=new Te;this.encodeCompressedGtin(t,qt.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(qt.HEADER_SIZE+Jt.GTIN_SIZE,qt.LAST_DIGIT_SIZE);t.append("(393"),t.append(a),t.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(qt.HEADER_SIZE+Jt.GTIN_SIZE+qt.LAST_DIGIT_SIZE,qt.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(qt.HEADER_SIZE+Jt.GTIN_SIZE+qt.LAST_DIGIT_SIZE+qt.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()}}qt.HEADER_SIZE=8,qt.LAST_DIGIT_SIZE=2,qt.FIRST_THREE_DIGITS_SIZE=10;class Lt extends Ea{constructor(t,a,r){super(t),this.dateCode=r,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=Lt.HEADER_SIZE+Lt.GTIN_SIZE+Lt.WEIGHT_SIZE+Lt.DATE_SIZE)throw new X;let t=new Te;return this.encodeCompressedGtin(t,Lt.HEADER_SIZE),this.encodeCompressedWeight(t,Lt.HEADER_SIZE+Lt.GTIN_SIZE,Lt.WEIGHT_SIZE),this.encodeCompressedDate(t,Lt.HEADER_SIZE+Lt.GTIN_SIZE+Lt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,a){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(a,Lt.DATE_SIZE);if(r==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let s=r%32;r/=32;let l=r%12+1;r/=12;let c=r;c/10==0&&t.append("0"),t.append(c),l/10==0&&t.append("0"),t.append(l),s/10==0&&t.append("0"),t.append(s)}addWeightCode(t,a){t.append("("),t.append(this.firstAIdigits),t.append(a/1e5),t.append(")")}checkWeight(t){return t%1e5}}Lt.HEADER_SIZE=8,Lt.WEIGHT_SIZE=20,Lt.DATE_SIZE=16;function Ls(v){try{if(v.get(1))return new Kn(v);if(!v.get(2))return new Ba(v);switch(ua.extractNumericValueFromBitArray(v,1,4)){case 4:return new Hl(v);case 5:return new Gl(v)}switch(ua.extractNumericValueFromBitArray(v,1,5)){case 12:return new wn(v);case 13:return new qt(v)}switch(ua.extractNumericValueFromBitArray(v,1,7)){case 56:return new Lt(v,"310","11");case 57:return new Lt(v,"320","11");case 58:return new Lt(v,"310","13");case 59:return new Lt(v,"320","13");case 60:return new Lt(v,"310","15");case 61:return new Lt(v,"320","15");case 62:return new Lt(v,"310","17");case 63:return new Lt(v,"320","17")}}catch(t){throw console.log(t),new ca("unknown decoder: "+v)}}class Ca{constructor(t,a,r,s){this.leftchar=t,this.rightchar=a,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,a){return t instanceof Ca?Ca.equalsOrNull(t.leftchar,a.leftchar)&&Ca.equalsOrNull(t.rightchar,a.rightchar)&&Ca.equalsOrNull(t.finderpattern,a.finderpattern):!1}static equalsOrNull(t,a){return t===null?a===null:Ca.equals(t,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class js{constructor(t,a,r){this.pairs=t,this.rowNumber=a,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,a){return t instanceof js?this.checkEqualitity(t,a)&&t.wasReversed===a.wasReversed:!1}checkEqualitity(t,a){if(!t||!a)return;let r;return t.forEach((s,l)=>{a.forEach(c=>{s.getLeftChar().getValue()===c.getLeftChar().getValue()&&s.getRightChar().getValue()===c.getRightChar().getValue()&&s.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(r=!0)})}),r}}class xe extends rn{constructor(t){super(...arguments),this.pairs=new Array(xe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,a,r){this.pairs.length=0,this.startFromEven=!1;try{return xe.constructResult(this.decodeRow2pairs(t,a))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,xe.constructResult(this.decodeRow2pairs(t,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,a){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,t))}catch(l){if(l instanceof X){if(!this.pairs.length)throw new X;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new X}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return t&&(this.rows=this.rows.reverse()),a}checkRows(t,a){for(let r=a;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let c of t)this.pairs.push(c.getPairs());if(this.pairs.push(s.getPairs()),!xe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(s);try{return this.checkRows(l,r+1)}catch(c){this.verbose&&console.log(c)}}throw new X}static isValidSequence(t){for(let a of xe.FINDER_PATTERN_SEQUENCES){if(t.length>a.length)continue;let r=!0;for(let s=0;s<t.length;s++)if(t[s].getFinderPattern().getValue()!=a[s]){r=!1;break}if(r)return!0}return!1}storeRow(t,a){let r=0,s=!1,l=!1;for(;r<this.rows.length;){let c=this.rows[r];if(c.getRowNumber()>t){l=c.isEquivalent(this.pairs);break}s=c.isEquivalent(this.pairs),r++}l||s||xe.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new js(this.pairs,t,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,a){for(let r of a)if(r.getPairs().length!==t.length){for(let s of r.getPairs())for(let l of t)if(Ca.equals(s,l))break}}static isPartialRow(t,a){for(let r of a){let s=!0;for(let l of t){let c=!1;for(let u of r.getPairs())if(l.equals(u)){c=!0;break}if(!c){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(t){let a=yn.buildBitArray(t),s=Ls(a).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),u=[l[0],l[1],c[0],c[1]];return new De(s,null,null,u,ye.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),a=t.getLeftChar(),r=t.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),l=2;for(let u=1;u<this.pairs.size();++u){let x=this.pairs.get(u);s+=x.getLeftChar().getChecksumPortion(),l++;let b=x.getRightChar();b!=null&&(s+=b.getChecksumPortion(),l++)}return s%=211,211*(l-4)+s==a.getValue()}static getNextSecondBar(t,a){let r;return t.get(a)?(r=t.getNextUnset(a),r=t.getNextSet(r)):(r=t.getNextSet(a),r=t.getNextUnset(r)),r}retrieveNextPair(t,a,r){let s=a.length%2==0;this.startFromEven&&(s=!s);let l,c=!0,u=-1;do this.findNextPair(t,a,u),l=this.parseFoundFinderPattern(t,r,s),l==null?u=xe.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);let x=this.decodeDataCharacter(t,l,s,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new X;let b;try{b=this.decodeDataCharacter(t,l,s,!1)}catch(C){b=null,this.verbose&&console.log(C)}return new Ca(x,b,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,a,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c;r>=0?c=r:this.isEmptyPair(a)?c=0:c=a[a.length-1].getFinderPattern().getStartEnd()[1];let u=a.length%2!=0;this.startFromEven&&(u=!u);let x=!1;for(;c<l&&(x=!t.get(c),!!x);)c++;let b=0,C=c;for(let N=c;N<l;N++)if(t.get(N)!=x)s[b]++;else{if(b==3){if(u&&xe.reverseCounters(s),xe.isFinderPattern(s)){this.startEnd[0]=C,this.startEnd[1]=N;return}u&&xe.reverseCounters(s),C+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,b--}else b++;s[b]=1,x=!x}throw new X}static reverseCounters(t){let a=t.length;for(let r=0;r<a/2;++r){let s=t[r];t[r]=t[a-r-1],t[a-r-1]=s}}parseFoundFinderPattern(t,a,r){let s,l,c;if(r){let b=this.startEnd[0]-1;for(;b>=0&&!t.get(b);)b--;b++,s=this.startEnd[0]-b,l=b,c=this.startEnd[1]}else l=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),s=c-this.startEnd[1];let u=this.getDecodeFinderCounters();Q.arraycopy(u,0,u,1,u.length-1),u[0]=s;let x;try{x=this.parseFinderValue(u,xe.FINDER_PATTERNS)}catch{return null}return new Fi(x,[l,c],l,c,a)}decodeDataCharacter(t,a,r,s){let l=this.getDataCharacterCounters();for(let Et=0;Et<l.length;Et++)l[Et]=0;if(s)xe.recordPatternInReverse(t,a.getStartEnd()[0],l);else{xe.recordPattern(t,a.getStartEnd()[1],l);for(let Et=0,xn=l.length-1;Et<xn;Et++,xn--){let jn=l[Et];l[Et]=l[xn],l[xn]=jn}}let c=17,u=lt.sum(new Int32Array(l))/c,x=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(u-x)/x>.3)throw new X;let b=this.getOddCounts(),C=this.getEvenCounts(),N=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let Et=0;Et<l.length;Et++){let xn=1*l[Et]/u,jn=xn+.5;if(jn<1){if(xn<.3)throw new X;jn=1}else if(jn>8){if(xn>8.7)throw new X;jn=8}let lr=Et/2;(Et&1)==0?(b[lr]=jn,N[lr]=xn-jn):(C[lr]=jn,T[lr]=xn-jn)}this.adjustOddEvenCounts(c);let B=4*a.getValue()+(r?0:2)+(s?0:1)-1,U=0,z=0;for(let Et=b.length-1;Et>=0;Et--){if(xe.isNotA1left(a,r,s)){let xn=xe.WEIGHTS[B][2*Et];z+=b[Et]*xn}U+=b[Et]}let G=0;for(let Et=C.length-1;Et>=0;Et--)if(xe.isNotA1left(a,r,s)){let xn=xe.WEIGHTS[B][2*Et+1];G+=C[Et]*xn}let $=z+G;if((U&1)!=0||U>13||U<4)throw new X;let pe=(13-U)/2,we=xe.SYMBOL_WIDEST[pe],me=9-we,Ze=un.getRSSvalue(b,we,!0),Xe=un.getRSSvalue(C,me,!1),Tn=xe.EVEN_TOTAL_SUBSET[pe],Xn=xe.GSUM[pe],Ln=Ze*Tn+Xe+Xn;return new tr(Ln,$)}static isNotA1left(t,a,r){return!(t.getValue()==0&&a&&r)}adjustOddEvenCounts(t){let a=lt.sum(new Int32Array(this.getOddCounts())),r=lt.sum(new Int32Array(this.getEvenCounts())),s=!1,l=!1;a>13?l=!0:a<4&&(s=!0);let c=!1,u=!1;r>13?u=!0:r<4&&(c=!0);let x=a+r-t,b=(a&1)==1,C=(r&1)==0;if(x==1)if(b){if(C)throw new X;l=!0}else{if(!C)throw new X;u=!0}else if(x==-1)if(b){if(C)throw new X;s=!0}else{if(!C)throw new X;c=!0}else if(x==0){if(b){if(!C)throw new X;a<r?(s=!0,u=!0):(l=!0,c=!0)}else if(C)throw new X}else throw new X;if(s){if(l)throw new X;xe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&xe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new X;xe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&xe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}xe.SYMBOL_WIDEST=[7,5,4,3,1],xe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],xe.GSUM=[0,348,1388,2948,3988],xe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],xe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],xe.FINDER_PAT_A=0,xe.FINDER_PAT_B=1,xe.FINDER_PAT_C=2,xe.FINDER_PAT_D=3,xe.FINDER_PAT_E=4,xe.FINDER_PAT_F=5,xe.FINDER_PATTERN_SEQUENCES=[[xe.FINDER_PAT_A,xe.FINDER_PAT_A],[xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B],[xe.FINDER_PAT_A,xe.FINDER_PAT_C,xe.FINDER_PAT_B,xe.FINDER_PAT_D],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_C],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_D,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_D],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_E],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F]],xe.MAX_PAIRS=11;class Hi extends tr{constructor(t,a,r){super(t,a),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class gt extends rn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,a,r){const s=this.decodePair(a,!1,t,r);gt.addOrTally(this.possibleLeftPairs,s),a.reverse();let l=this.decodePair(a,!0,t,r);gt.addOrTally(this.possibleRightPairs,l),a.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&gt.checkChecksum(c,u))return gt.constructResult(c,u)}throw new X}static addOrTally(t,a){if(a==null)return;let r=!1;for(let s of t)if(s.getValue()===a.getValue()){s.incrementCount(),r=!0;break}r||t.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,a){let r=4537077*t.getValue()+a.getValue(),s=new String(r).toString(),l=new Te;for(let b=13-s.length;b>0;b--)l.append("0");l.append(s);let c=0;for(let b=0;b<13;b++){let C=l.charAt(b).charCodeAt(0)-48;c+=(b&1)===0?3*C:C}c=10-c%10,c===10&&(c=0),l.append(c.toString());let u=t.getFinderPattern().getResultPoints(),x=a.getFinderPattern().getResultPoints();return new De(l.toString(),null,0,[u[0],u[1],x[0],x[1]],ye.RSS_14,new Date().getTime())}static checkChecksum(t,a){let r=(t.getChecksumPortion()+16*a.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+a.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(t,a,r,s){try{let l=this.findFinderPattern(t,a),c=this.parseFoundFinderPattern(t,r,a,l),u=s==null?null:s.get(ne.NEED_RESULT_POINT_CALLBACK);if(u!=null){let C=(l[0]+l[1])/2;a&&(C=t.getSize()-1-C),u.foundPossibleResultPoint(new Re(C,r))}let x=this.decodeDataCharacter(t,c,!0),b=this.decodeDataCharacter(t,c,!1);return new Hi(1597*x.getValue()+b.getValue(),x.getChecksumPortion()+4*b.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(t,a,r){let s=this.getDataCharacterCounters();for(let G=0;G<s.length;G++)s[G]=0;if(r)kt.recordPatternInReverse(t,a.getStartEnd()[0],s);else{kt.recordPattern(t,a.getStartEnd()[1]+1,s);for(let G=0,$=s.length-1;G<$;G++,$--){let pe=s[G];s[G]=s[$],s[$]=pe}}let l=r?16:15,c=lt.sum(new Int32Array(s))/l,u=this.getOddCounts(),x=this.getEvenCounts(),b=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let G=0;G<s.length;G++){let $=s[G]/c,pe=Math.floor($+.5);pe<1?pe=1:pe>8&&(pe=8);let we=Math.floor(G/2);(G&1)===0?(u[we]=pe,b[we]=$-pe):(x[we]=pe,C[we]=$-pe)}this.adjustOddEvenCounts(r,l);let N=0,T=0;for(let G=u.length-1;G>=0;G--)T*=9,T+=u[G],N+=u[G];let B=0,U=0;for(let G=x.length-1;G>=0;G--)B*=9,B+=x[G],U+=x[G];let z=T+3*B;if(r){if((N&1)!==0||N>12||N<4)throw new X;let G=(12-N)/2,$=gt.OUTSIDE_ODD_WIDEST[G],pe=9-$,we=un.getRSSvalue(u,$,!1),me=un.getRSSvalue(x,pe,!0),Ze=gt.OUTSIDE_EVEN_TOTAL_SUBSET[G],Xe=gt.OUTSIDE_GSUM[G];return new tr(we*Ze+me+Xe,z)}else{if((U&1)!==0||U>10||U<4)throw new X;let G=(10-U)/2,$=gt.INSIDE_ODD_WIDEST[G],pe=9-$,we=un.getRSSvalue(u,$,!0),me=un.getRSSvalue(x,pe,!1),Ze=gt.INSIDE_ODD_TOTAL_SUBSET[G],Xe=gt.INSIDE_GSUM[G];return new tr(me*Ze+we+Xe,z)}}findFinderPattern(t,a){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=t.getSize(),l=!1,c=0;for(;c<s&&(l=!t.get(c),a!==l);)c++;let u=0,x=c;for(let b=c;b<s;b++)if(t.get(b)!==l)r[u]++;else{if(u===3){if(rn.isFinderPattern(r))return[x,b];x+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,l=!l}throw new X}parseFoundFinderPattern(t,a,r,s){let l=t.get(s[0]),c=s[0]-1;for(;c>=0&&l!==t.get(c);)c--;c++;const u=s[0]-c,x=this.getDecodeFinderCounters(),b=new Int32Array(x.length);Q.arraycopy(x,0,b,1,x.length-1),b[0]=u;const C=this.parseFinderValue(b,gt.FINDER_PATTERNS);let N=c,T=s[1];return r&&(N=t.getSize()-1-N,T=t.getSize()-1-T),new Fi(C,[c,s[1]],N,T,a)}adjustOddEvenCounts(t,a){let r=lt.sum(new Int32Array(this.getOddCounts())),s=lt.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,u=!1,x=!1;t?(r>12?c=!0:r<4&&(l=!0),s>12?x=!0:s<4&&(u=!0)):(r>11?c=!0:r<5&&(l=!0),s>10?x=!0:s<4&&(u=!0));let b=r+s-a,C=(r&1)===(t?1:0),N=(s&1)===1;if(b===1)if(C){if(N)throw new X;c=!0}else{if(!N)throw new X;x=!0}else if(b===-1)if(C){if(N)throw new X;l=!0}else{if(!N)throw new X;u=!0}else if(b===0){if(C){if(!N)throw new X;r<s?(l=!0,x=!0):(c=!0,u=!0)}else if(N)throw new X}else throw new X;if(l){if(c)throw new X;rn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&rn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(x)throw new X;rn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&rn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}gt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],gt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],gt.OUTSIDE_GSUM=[0,161,961,2015,2715],gt.INSIDE_GSUM=[0,336,1036,1516],gt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],gt.INSIDE_ODD_WIDEST=[2,4,6,8],gt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class La extends kt{constructor(t,a){super(),this.readers=[],this.verbose=a===!0;const r=t?t.get(ne.POSSIBLE_FORMATS):null,s=t&&t.get(ne.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(ye.EAN_13)||r.includes(ye.UPC_A)||r.includes(ye.EAN_8)||r.includes(ye.UPC_E))&&this.readers.push(new fi(t)),r.includes(ye.CODE_39)&&this.readers.push(new Dt(s)),r.includes(ye.CODE_128)&&this.readers.push(new Ce),r.includes(ye.ITF)&&this.readers.push(new ht),r.includes(ye.RSS_14)&&this.readers.push(new gt),r.includes(ye.RSS_EXPANDED)&&this.readers.push(new xe(this.verbose))):(this.readers.push(new fi(t)),this.readers.push(new Dt),this.readers.push(new fi(t)),this.readers.push(new Ce),this.readers.push(new ht),this.readers.push(new gt),this.readers.push(new xe(this.verbose)))}decodeRow(t,a,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,a,r)}catch{}throw new X}reset(){this.readers.forEach(t=>t.reset())}}class Vl extends ve{constructor(t=500,a){super(new La(a),t,a)}}class nt{constructor(t,a,r){this.ecCodewords=t,this.ecBlocks=[a],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ft{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Je{constructor(t,a,r,s,l,c){this.versionNumber=t,this.symbolSizeRows=a,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=l,this.ecBlocks=c;let u=0;const x=c.getECCodewords(),b=c.getECBlocks();for(let C of b)u+=C.getCount()*(C.getDataCodewords()+x);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,a){if((t&1)!==0||(a&1)!==0)throw new re;for(let r of Je.VERSIONS)if(r.symbolSizeRows===t&&r.symbolSizeColumns===a)return r;throw new re}toString(){return""+this.versionNumber}static buildVersions(){return[new Je(1,10,10,8,8,new nt(5,new ft(1,3))),new Je(2,12,12,10,10,new nt(7,new ft(1,5))),new Je(3,14,14,12,12,new nt(10,new ft(1,8))),new Je(4,16,16,14,14,new nt(12,new ft(1,12))),new Je(5,18,18,16,16,new nt(14,new ft(1,18))),new Je(6,20,20,18,18,new nt(18,new ft(1,22))),new Je(7,22,22,20,20,new nt(20,new ft(1,30))),new Je(8,24,24,22,22,new nt(24,new ft(1,36))),new Je(9,26,26,24,24,new nt(28,new ft(1,44))),new Je(10,32,32,14,14,new nt(36,new ft(1,62))),new Je(11,36,36,16,16,new nt(42,new ft(1,86))),new Je(12,40,40,18,18,new nt(48,new ft(1,114))),new Je(13,44,44,20,20,new nt(56,new ft(1,144))),new Je(14,48,48,22,22,new nt(68,new ft(1,174))),new Je(15,52,52,24,24,new nt(42,new ft(2,102))),new Je(16,64,64,14,14,new nt(56,new ft(2,140))),new Je(17,72,72,16,16,new nt(36,new ft(4,92))),new Je(18,80,80,18,18,new nt(48,new ft(4,114))),new Je(19,88,88,20,20,new nt(56,new ft(4,144))),new Je(20,96,96,22,22,new nt(68,new ft(4,174))),new Je(21,104,104,24,24,new nt(56,new ft(6,136))),new Je(22,120,120,18,18,new nt(68,new ft(6,175))),new Je(23,132,132,20,20,new nt(62,new ft(8,163))),new Je(24,144,144,22,22,new nt(62,new ft(8,156),new ft(2,155))),new Je(25,8,18,6,16,new nt(7,new ft(1,5))),new Je(26,8,32,6,14,new nt(11,new ft(1,10))),new Je(27,12,26,10,24,new nt(14,new ft(1,16))),new Je(28,12,36,10,16,new nt(18,new ft(1,22))),new Je(29,16,36,14,16,new nt(24,new ft(1,32))),new Je(30,16,48,14,22,new nt(28,new ft(1,49)))]}}Je.VERSIONS=Je.buildVersions();class ks{constructor(t){const a=t.getHeight();if(a<8||a>144||(a&1)!==0)throw new re;this.version=ks.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new tt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const a=t.getHeight(),r=t.getWidth();return Je.getVersionForDimensions(a,r)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let a=0,r=4,s=0;const l=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let u=!1,x=!1,b=!1,C=!1;do if(r===l&&s===0&&!u)t[a++]=this.readCorner1(l,c)&255,r-=2,s+=2,u=!0;else if(r===l-2&&s===0&&(c&3)!==0&&!x)t[a++]=this.readCorner2(l,c)&255,r-=2,s+=2,x=!0;else if(r===l+4&&s===2&&(c&7)===0&&!b)t[a++]=this.readCorner3(l,c)&255,r-=2,s+=2,b=!0;else if(r===l-2&&s===0&&(c&7)===4&&!C)t[a++]=this.readCorner4(l,c)&255,r-=2,s+=2,C=!0;else{do r<l&&s>=0&&!this.readMappingMatrix.get(s,r)&&(t[a++]=this.readUtah(r,s,l,c)&255),r-=2,s+=2;while(r>=0&&s<c);r+=1,s+=3;do r>=0&&s<c&&!this.readMappingMatrix.get(s,r)&&(t[a++]=this.readUtah(r,s,l,c)&255),r+=2,s-=2;while(r<l&&s>=0);r+=3,s+=1}while(r<l||s<c);if(a!==this.version.getTotalCodewords())throw new re;return t}readModule(t,a,r,s){return t<0&&(t+=r,a+=4-(r+4&7)),a<0&&(a+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(a,t),this.mappingBitMatrix.get(a,t)}readUtah(t,a,r,s){let l=0;return this.readModule(t-2,a-2,r,s)&&(l|=1),l<<=1,this.readModule(t-2,a-1,r,s)&&(l|=1),l<<=1,this.readModule(t-1,a-2,r,s)&&(l|=1),l<<=1,this.readModule(t-1,a-1,r,s)&&(l|=1),l<<=1,this.readModule(t-1,a,r,s)&&(l|=1),l<<=1,this.readModule(t,a-2,r,s)&&(l|=1),l<<=1,this.readModule(t,a-1,r,s)&&(l|=1),l<<=1,this.readModule(t,a,r,s)&&(l|=1),l}readCorner1(t,a){let r=0;return this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,1,t,a)&&(r|=1),r<<=1,this.readModule(t-1,2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r<<=1,this.readModule(2,a-1,t,a)&&(r|=1),r<<=1,this.readModule(3,a-1,t,a)&&(r|=1),r}readCorner2(t,a){let r=0;return this.readModule(t-3,0,t,a)&&(r|=1),r<<=1,this.readModule(t-2,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(0,a-4,t,a)&&(r|=1),r<<=1,this.readModule(0,a-3,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r}readCorner3(t,a){let r=0;return this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,a-1,t,a)&&(r|=1),r<<=1,this.readModule(0,a-3,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-3,t,a)&&(r|=1),r<<=1,this.readModule(1,a-2,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r}readCorner4(t,a){let r=0;return this.readModule(t-3,0,t,a)&&(r|=1),r<<=1,this.readModule(t-2,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r<<=1,this.readModule(2,a-1,t,a)&&(r|=1),r<<=1,this.readModule(3,a-1,t,a)&&(r|=1),r}extractDataRegion(t){const a=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==a)throw new L("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),c=a/s|0,u=r/l|0,x=c*s,b=u*l,C=new tt(b,x);for(let N=0;N<c;++N){const T=N*s;for(let B=0;B<u;++B){const U=B*l;for(let z=0;z<s;++z){const G=N*(s+2)+1+z,$=T+z;for(let pe=0;pe<l;++pe){const we=B*(l+2)+1+pe;if(t.get(we,G)){const me=U+pe;C.set(me,$)}}}}}return C}}class Gi{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a){const r=a.getECBlocks();let s=0;const l=r.getECBlocks();for(let z of l)s+=z.getCount();const c=new Array(s);let u=0;for(let z of l)for(let G=0;G<z.getCount();G++){const $=z.getDataCodewords(),pe=r.getECCodewords()+$;c[u++]=new Gi($,new Uint8Array(pe))}const b=c[0].codewords.length-r.getECCodewords(),C=b-1;let N=0;for(let z=0;z<C;z++)for(let G=0;G<u;G++)c[G].codewords[z]=t[N++];const T=a.getVersionNumber()===24,B=T?8:u;for(let z=0;z<B;z++)c[z].codewords[b-1]=t[N++];const U=c[0].codewords.length;for(let z=b;z<U;z++)for(let G=0;G<u;G++){const $=T?(G+8)%u:G,pe=T&&$>7?z-1:z;c[$].codewords[pe]=t[N++]}if(N!==t.length)throw new L;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Dn{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new L(""+t);let a=0,r=this.bitOffset,s=this.byteOffset;const l=this.bytes;if(r>0){const c=8-r,u=t<c?t:c,x=c-u,b=255>>8-u<<x;a=(l[s]&b)>>x,t-=u,r+=u,r===8&&(r=0,s++)}if(t>0){for(;t>=8;)a=a<<8|l[s]&255,s++,t-=8;if(t>0){const c=8-t,u=255>>c<<c;a=a<<t|(l[s]&u)>>c,r+=t}}return this.bitOffset=r,this.byteOffset=s,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Zt;(function(v){v[v.PAD_ENCODE=0]="PAD_ENCODE",v[v.ASCII_ENCODE=1]="ASCII_ENCODE",v[v.C40_ENCODE=2]="C40_ENCODE",v[v.TEXT_ENCODE=3]="TEXT_ENCODE",v[v.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",v[v.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",v[v.BASE256_ENCODE=6]="BASE256_ENCODE"})(Zt||(Zt={}));class ja{static decode(t){const a=new Dn(t),r=new Te,s=new Te,l=new Array;let c=Zt.ASCII_ENCODE;do if(c===Zt.ASCII_ENCODE)c=this.decodeAsciiSegment(a,r,s);else{switch(c){case Zt.C40_ENCODE:this.decodeC40Segment(a,r);break;case Zt.TEXT_ENCODE:this.decodeTextSegment(a,r);break;case Zt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,r);break;case Zt.EDIFACT_ENCODE:this.decodeEdifactSegment(a,r);break;case Zt.BASE256_ENCODE:this.decodeBase256Segment(a,r,l);break;default:throw new re}c=Zt.ASCII_ENCODE}while(c!==Zt.PAD_ENCODE&&a.available()>0);return s.length()>0&&r.append(s.toString()),new Hn(t,r.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,a,r){let s=!1;do{let l=t.readBits(8);if(l===0)throw new re;if(l<=128)return s&&(l+=128),a.append(String.fromCharCode(l-1)),Zt.ASCII_ENCODE;if(l===129)return Zt.PAD_ENCODE;if(l<=229){const c=l-130;c<10&&a.append("0"),a.append(""+c)}else switch(l){case 230:return Zt.C40_ENCODE;case 231:return Zt.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:a.append("[)>05"),r.insert(0,"");break;case 237:a.append("[)>06"),r.insert(0,"");break;case 238:return Zt.ANSIX12_ENCODE;case 239:return Zt.TEXT_ENCODE;case 240:return Zt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new re;break}}while(t.available()>0);return Zt.ASCII_ENCODE}static decodeC40Segment(t,a){let r=!1;const s=[];let l=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(let u=0;u<3;u++){const x=s[u];switch(l){case 0:if(x<3)l=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const b=this.C40_BASIC_SET_CHARS[x];r?(a.append(String.fromCharCode(b.charCodeAt(0)+128)),r=!1):a.append(b)}else throw new re;break;case 1:r?(a.append(String.fromCharCode(x+128)),r=!1):a.append(String.fromCharCode(x)),l=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const b=this.C40_SHIFT2_SET_CHARS[x];r?(a.append(String.fromCharCode(b.charCodeAt(0)+128)),r=!1):a.append(b)}else switch(x){case 27:a.append("");break;case 30:r=!0;break;default:throw new re}l=0;break;case 3:r?(a.append(String.fromCharCode(x+224)),r=!1):a.append(String.fromCharCode(x+96)),l=0;break;default:throw new re}}}while(t.available()>0)}static decodeTextSegment(t,a){let r=!1,s=[],l=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(let u=0;u<3;u++){const x=s[u];switch(l){case 0:if(x<3)l=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const b=this.TEXT_BASIC_SET_CHARS[x];r?(a.append(String.fromCharCode(b.charCodeAt(0)+128)),r=!1):a.append(b)}else throw new re;break;case 1:r?(a.append(String.fromCharCode(x+128)),r=!1):a.append(String.fromCharCode(x)),l=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const b=this.TEXT_SHIFT2_SET_CHARS[x];r?(a.append(String.fromCharCode(b.charCodeAt(0)+128)),r=!1):a.append(b)}else switch(x){case 27:a.append("");break;case 30:r=!0;break;default:throw new re}l=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const b=this.TEXT_SHIFT3_SET_CHARS[x];r?(a.append(String.fromCharCode(b.charCodeAt(0)+128)),r=!1):a.append(b),l=0}else throw new re;break;default:throw new re}}}while(t.available()>0)}static decodeAnsiX12Segment(t,a){const r=[];do{if(t.available()===8)return;const s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),r);for(let l=0;l<3;l++){const c=r[l];switch(c){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(c<14)a.append(String.fromCharCode(c+44));else if(c<40)a.append(String.fromCharCode(c+51));else throw new re;break}}}while(t.available()>0)}static parseTwoBytes(t,a,r){let s=(t<<8)+a-1,l=Math.floor(s/1600);r[0]=l,s-=l*1600,l=Math.floor(s/40),r[1]=l,r[2]=s-l*40}static decodeEdifactSegment(t,a){do{if(t.available()<=16)return;for(let r=0;r<4;r++){let s=t.readBits(6);if(s===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}(s&32)===0&&(s|=64),a.append(String.fromCharCode(s))}}while(t.available()>0)}static decodeBase256Segment(t,a,r){let s=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),s++);let c;if(l===0?c=t.available()/8|0:l<250?c=l:c=250*(l-249)+this.unrandomize255State(t.readBits(8),s++),c<0)throw new re;const u=new Uint8Array(c);for(let x=0;x<c;x++){if(t.available()<8)throw new re;u[x]=this.unrandomize255State(t.readBits(8),s++)}r.push(u);try{a.append(Oe.decode(u,Ae.ISO88591))}catch(x){throw new ca("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,a){const r=149*a%255+1,s=t-r;return s>=0?s:s+256}}ja.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ja.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ja.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ja.TEXT_SHIFT2_SET_CHARS=ja.C40_SHIFT2_SET_CHARS,ja.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Vi{constructor(){this.rsDecoder=new oi(ct.DATA_MATRIX_FIELD_256)}decode(t){const a=new ks(t),r=a.getVersion(),s=a.readCodewords(),l=Gi.getDataBlocks(s,r);let c=0;for(let b of l)c+=b.getNumDataCodewords();const u=new Uint8Array(c),x=l.length;for(let b=0;b<x;b++){const C=l[b],N=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(N,T);for(let B=0;B<T;B++)u[B*x+b]=N[B]}return ja.decode(u)}correctErrors(t,a){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-a)}catch{throw new ie}for(let s=0;s<a;s++)t[s]=r[s]}}class Pt{constructor(t){this.image=t,this.rectangleDetector=new Aa(this.image)}detect(){const t=this.rectangleDetector.detect();let a=this.detectSolid1(t);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new X;a=this.shiftToModuleCenter(a);const r=a[0],s=a[1],l=a[2],c=a[3];let u=this.transitionsBetween(r,c)+1,x=this.transitionsBetween(l,c)+1;(u&1)===1&&(u+=1),(x&1)===1&&(x+=1),4*u<7*x&&4*x<7*u&&(u=x=Math.max(u,x));let b=Pt.sampleGrid(this.image,r,s,l,c,u,x);return new Ui(b,[r,s,l,c])}static shiftPoint(t,a,r){let s=(a.getX()-t.getX())/(r+1),l=(a.getY()-t.getY())/(r+1);return new Re(t.getX()+s,t.getY()+l)}static moveAway(t,a,r){let s=t.getX(),l=t.getY();return s<a?s-=1:s+=1,l<r?l-=1:l+=1,new Re(s,l)}detectSolid1(t){let a=t[0],r=t[1],s=t[3],l=t[2],c=this.transitionsBetween(a,r),u=this.transitionsBetween(r,s),x=this.transitionsBetween(s,l),b=this.transitionsBetween(l,a),C=c,N=[l,a,r,s];return C>u&&(C=u,N[0]=a,N[1]=r,N[2]=s,N[3]=l),C>x&&(C=x,N[0]=r,N[1]=s,N[2]=l,N[3]=a),C>b&&(N[0]=s,N[1]=l,N[2]=a,N[3]=r),N}detectSolid2(t){let a=t[0],r=t[1],s=t[2],l=t[3],c=this.transitionsBetween(a,l),u=Pt.shiftPoint(r,s,(c+1)*4),x=Pt.shiftPoint(s,r,(c+1)*4),b=this.transitionsBetween(u,a),C=this.transitionsBetween(x,l);return b<C?(t[0]=a,t[1]=r,t[2]=s,t[3]=l):(t[0]=r,t[1]=s,t[2]=l,t[3]=a),t}correctTopRight(t){let a=t[0],r=t[1],s=t[2],l=t[3],c=this.transitionsBetween(a,l),u=this.transitionsBetween(r,l),x=Pt.shiftPoint(a,r,(u+1)*4),b=Pt.shiftPoint(s,r,(c+1)*4);c=this.transitionsBetween(x,l),u=this.transitionsBetween(b,l);let C=new Re(l.getX()+(s.getX()-r.getX())/(c+1),l.getY()+(s.getY()-r.getY())/(c+1)),N=new Re(l.getX()+(a.getX()-r.getX())/(u+1),l.getY()+(a.getY()-r.getY())/(u+1));if(!this.isValid(C))return this.isValid(N)?N:null;if(!this.isValid(N))return C;let T=this.transitionsBetween(x,C)+this.transitionsBetween(b,C),B=this.transitionsBetween(x,N)+this.transitionsBetween(b,N);return T>B?C:N}shiftToModuleCenter(t){let a=t[0],r=t[1],s=t[2],l=t[3],c=this.transitionsBetween(a,l)+1,u=this.transitionsBetween(s,l)+1,x=Pt.shiftPoint(a,r,u*4),b=Pt.shiftPoint(s,r,c*4);c=this.transitionsBetween(x,l)+1,u=this.transitionsBetween(b,l)+1,(c&1)===1&&(c+=1),(u&1)===1&&(u+=1);let C=(a.getX()+r.getX()+s.getX()+l.getX())/4,N=(a.getY()+r.getY()+s.getY()+l.getY())/4;a=Pt.moveAway(a,C,N),r=Pt.moveAway(r,C,N),s=Pt.moveAway(s,C,N),l=Pt.moveAway(l,C,N);let T,B;return x=Pt.shiftPoint(a,r,u*4),x=Pt.shiftPoint(x,l,c*4),T=Pt.shiftPoint(r,a,u*4),T=Pt.shiftPoint(T,s,c*4),b=Pt.shiftPoint(s,l,u*4),b=Pt.shiftPoint(b,r,c*4),B=Pt.shiftPoint(l,s,u*4),B=Pt.shiftPoint(B,a,c*4),[x,T,b,B]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,a,r,s,l,c,u){return Nn.getInstance().sampleGrid(t,c,u,.5,.5,c-.5,.5,c-.5,u-.5,.5,u-.5,a.getX(),a.getY(),l.getX(),l.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(t,a){let r=Math.trunc(t.getX()),s=Math.trunc(t.getY()),l=Math.trunc(a.getX()),c=Math.trunc(a.getY()),u=Math.abs(c-s)>Math.abs(l-r);if(u){let z=r;r=s,s=z,z=l,l=c,c=z}let x=Math.abs(l-r),b=Math.abs(c-s),C=-x/2,N=s<c?1:-1,T=r<l?1:-1,B=0,U=this.image.get(u?s:r,u?r:s);for(let z=r,G=s;z!==l;z+=T){let $=this.image.get(u?G:z,u?z:G);if($!==U&&(B++,U=$),C+=b,C>0){if(G===c)break;G+=N,C-=x}}return B}}class Jn{constructor(){this.decoder=new Vi}decode(t,a=null){let r,s;if(a!=null&&a.has(ne.PURE_BARCODE)){const b=Jn.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(b),s=Jn.NO_POINTS}else{const b=new Pt(t.getBlackMatrix()).detect();r=this.decoder.decode(b.getBits()),s=b.getPoints()}const l=r.getRawBytes(),c=new De(r.getText(),l,8*l.length,s,ye.DATA_MATRIX,Q.currentTimeMillis()),u=r.getByteSegments();u!=null&&c.putMetadata(Qe.BYTE_SEGMENTS,u);const x=r.getECLevel();return x!=null&&c.putMetadata(Qe.ERROR_CORRECTION_LEVEL,x),c}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(a==null||r==null)throw new X;const s=this.moduleSize(a,t);let l=a[1];const c=r[1];let u=a[0];const b=(r[0]-u+1)/s,C=(c-l+1)/s;if(b<=0||C<=0)throw new X;const N=s/2;l+=N,u+=N;const T=new tt(b,C);for(let B=0;B<C;B++){const U=l+B*s;for(let z=0;z<b;z++)t.get(u+z*s,U)&&T.set(z,B)}return T}static moduleSize(t,a){const r=a.getWidth();let s=t[0];const l=t[1];for(;s<r&&a.get(s,l);)s++;if(s===r)throw new X;const c=s-t[0];if(c===0)throw new X;return c}}Jn.NO_POINTS=[];class hc extends ve{constructor(t=500){super(new Jn,t)}}var fn;(function(v){v[v.L=0]="L",v[v.M=1]="M",v[v.Q=2]="Q",v[v.H=3]="H"})(fn||(fn={}));class pt{constructor(t,a,r){this.value=t,this.stringValue=a,this.bits=r,pt.FOR_BITS.set(r,this),pt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return pt.L;case"M":return pt.M;case"Q":return pt.Q;case"H":return pt.H;default:throw new R(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof pt))return!1;const a=t;return this.value===a.value}static forBits(t){if(t<0||t>=pt.FOR_BITS.size)throw new L;return pt.FOR_BITS.get(t)}}pt.FOR_BITS=new Map,pt.FOR_VALUE=new Map,pt.L=new pt(fn.L,"L",1),pt.M=new pt(fn.M,"M",0),pt.Q=new pt(fn.Q,"Q",3),pt.H=new pt(fn.H,"H",2);class dn{constructor(t){this.errorCorrectionLevel=pt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,a){return le.bitCount(t^a)}static decodeFormatInformation(t,a){const r=dn.doDecodeFormatInformation(t,a);return r!==null?r:dn.doDecodeFormatInformation(t^dn.FORMAT_INFO_MASK_QR,a^dn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,a){let r=Number.MAX_SAFE_INTEGER,s=0;for(const l of dn.FORMAT_INFO_DECODE_LOOKUP){const c=l[0];if(c===t||c===a)return new dn(l[1]);let u=dn.numBitsDiffering(t,c);u<r&&(s=l[1],r=u),t!==a&&(u=dn.numBitsDiffering(a,c),u<r&&(s=l[1],r=u))}return r<=3?new dn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof dn))return!1;const a=t;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}dn.FORMAT_INFO_MASK_QR=21522,dn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class V{constructor(t,...a){this.ecCodewordsPerBlock=t,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const a=this.ecBlocks;for(const r of a)t+=r.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ke{constructor(t,a,...r){this.versionNumber=t,this.alignmentPatternCenters=a,this.ecBlocks=r;let s=0;const l=r[0].getECCodewordsPerBlock(),c=r[0].getECBlocks();for(const u of c)s+=u.getCount()*(u.getDataCodewords()+l);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new re;try{return this.getVersionForNumber((t-17)/4)}catch{throw new re}}static getVersionForNumber(t){if(t<1||t>40)throw new L;return ke.VERSIONS[t-1]}static decodeVersionInformation(t){let a=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<ke.VERSION_DECODE_INFO.length;s++){const l=ke.VERSION_DECODE_INFO[s];if(l===t)return ke.getVersionForNumber(s+7);const c=dn.numBitsDiffering(t,l);c<a&&(r=s+7,a=c)}return a<=3?ke.getVersionForNumber(r):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),a=new tt(t);a.setRegion(0,0,9,9),a.setRegion(t-8,0,8,9),a.setRegion(0,t-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const l=this.alignmentPatternCenters[s]-2;for(let c=0;c<r;c++)s===0&&(c===0||c===r-1)||s===r-1&&c===0||a.setRegion(this.alignmentPatternCenters[c]-2,l,5,5)}return a.setRegion(6,9,1,t-17),a.setRegion(9,6,t-17,1),this.versionNumber>6&&(a.setRegion(t-11,0,3,6),a.setRegion(0,t-11,6,3)),a}toString(){return""+this.versionNumber}}ke.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ke.VERSIONS=[new ke(1,new Int32Array(0),new V(7,new D(1,19)),new V(10,new D(1,16)),new V(13,new D(1,13)),new V(17,new D(1,9))),new ke(2,Int32Array.from([6,18]),new V(10,new D(1,34)),new V(16,new D(1,28)),new V(22,new D(1,22)),new V(28,new D(1,16))),new ke(3,Int32Array.from([6,22]),new V(15,new D(1,55)),new V(26,new D(1,44)),new V(18,new D(2,17)),new V(22,new D(2,13))),new ke(4,Int32Array.from([6,26]),new V(20,new D(1,80)),new V(18,new D(2,32)),new V(26,new D(2,24)),new V(16,new D(4,9))),new ke(5,Int32Array.from([6,30]),new V(26,new D(1,108)),new V(24,new D(2,43)),new V(18,new D(2,15),new D(2,16)),new V(22,new D(2,11),new D(2,12))),new ke(6,Int32Array.from([6,34]),new V(18,new D(2,68)),new V(16,new D(4,27)),new V(24,new D(4,19)),new V(28,new D(4,15))),new ke(7,Int32Array.from([6,22,38]),new V(20,new D(2,78)),new V(18,new D(4,31)),new V(18,new D(2,14),new D(4,15)),new V(26,new D(4,13),new D(1,14))),new ke(8,Int32Array.from([6,24,42]),new V(24,new D(2,97)),new V(22,new D(2,38),new D(2,39)),new V(22,new D(4,18),new D(2,19)),new V(26,new D(4,14),new D(2,15))),new ke(9,Int32Array.from([6,26,46]),new V(30,new D(2,116)),new V(22,new D(3,36),new D(2,37)),new V(20,new D(4,16),new D(4,17)),new V(24,new D(4,12),new D(4,13))),new ke(10,Int32Array.from([6,28,50]),new V(18,new D(2,68),new D(2,69)),new V(26,new D(4,43),new D(1,44)),new V(24,new D(6,19),new D(2,20)),new V(28,new D(6,15),new D(2,16))),new ke(11,Int32Array.from([6,30,54]),new V(20,new D(4,81)),new V(30,new D(1,50),new D(4,51)),new V(28,new D(4,22),new D(4,23)),new V(24,new D(3,12),new D(8,13))),new ke(12,Int32Array.from([6,32,58]),new V(24,new D(2,92),new D(2,93)),new V(22,new D(6,36),new D(2,37)),new V(26,new D(4,20),new D(6,21)),new V(28,new D(7,14),new D(4,15))),new ke(13,Int32Array.from([6,34,62]),new V(26,new D(4,107)),new V(22,new D(8,37),new D(1,38)),new V(24,new D(8,20),new D(4,21)),new V(22,new D(12,11),new D(4,12))),new ke(14,Int32Array.from([6,26,46,66]),new V(30,new D(3,115),new D(1,116)),new V(24,new D(4,40),new D(5,41)),new V(20,new D(11,16),new D(5,17)),new V(24,new D(11,12),new D(5,13))),new ke(15,Int32Array.from([6,26,48,70]),new V(22,new D(5,87),new D(1,88)),new V(24,new D(5,41),new D(5,42)),new V(30,new D(5,24),new D(7,25)),new V(24,new D(11,12),new D(7,13))),new ke(16,Int32Array.from([6,26,50,74]),new V(24,new D(5,98),new D(1,99)),new V(28,new D(7,45),new D(3,46)),new V(24,new D(15,19),new D(2,20)),new V(30,new D(3,15),new D(13,16))),new ke(17,Int32Array.from([6,30,54,78]),new V(28,new D(1,107),new D(5,108)),new V(28,new D(10,46),new D(1,47)),new V(28,new D(1,22),new D(15,23)),new V(28,new D(2,14),new D(17,15))),new ke(18,Int32Array.from([6,30,56,82]),new V(30,new D(5,120),new D(1,121)),new V(26,new D(9,43),new D(4,44)),new V(28,new D(17,22),new D(1,23)),new V(28,new D(2,14),new D(19,15))),new ke(19,Int32Array.from([6,30,58,86]),new V(28,new D(3,113),new D(4,114)),new V(26,new D(3,44),new D(11,45)),new V(26,new D(17,21),new D(4,22)),new V(26,new D(9,13),new D(16,14))),new ke(20,Int32Array.from([6,34,62,90]),new V(28,new D(3,107),new D(5,108)),new V(26,new D(3,41),new D(13,42)),new V(30,new D(15,24),new D(5,25)),new V(28,new D(15,15),new D(10,16))),new ke(21,Int32Array.from([6,28,50,72,94]),new V(28,new D(4,116),new D(4,117)),new V(26,new D(17,42)),new V(28,new D(17,22),new D(6,23)),new V(30,new D(19,16),new D(6,17))),new ke(22,Int32Array.from([6,26,50,74,98]),new V(28,new D(2,111),new D(7,112)),new V(28,new D(17,46)),new V(30,new D(7,24),new D(16,25)),new V(24,new D(34,13))),new ke(23,Int32Array.from([6,30,54,78,102]),new V(30,new D(4,121),new D(5,122)),new V(28,new D(4,47),new D(14,48)),new V(30,new D(11,24),new D(14,25)),new V(30,new D(16,15),new D(14,16))),new ke(24,Int32Array.from([6,28,54,80,106]),new V(30,new D(6,117),new D(4,118)),new V(28,new D(6,45),new D(14,46)),new V(30,new D(11,24),new D(16,25)),new V(30,new D(30,16),new D(2,17))),new ke(25,Int32Array.from([6,32,58,84,110]),new V(26,new D(8,106),new D(4,107)),new V(28,new D(8,47),new D(13,48)),new V(30,new D(7,24),new D(22,25)),new V(30,new D(22,15),new D(13,16))),new ke(26,Int32Array.from([6,30,58,86,114]),new V(28,new D(10,114),new D(2,115)),new V(28,new D(19,46),new D(4,47)),new V(28,new D(28,22),new D(6,23)),new V(30,new D(33,16),new D(4,17))),new ke(27,Int32Array.from([6,34,62,90,118]),new V(30,new D(8,122),new D(4,123)),new V(28,new D(22,45),new D(3,46)),new V(30,new D(8,23),new D(26,24)),new V(30,new D(12,15),new D(28,16))),new ke(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new D(3,117),new D(10,118)),new V(28,new D(3,45),new D(23,46)),new V(30,new D(4,24),new D(31,25)),new V(30,new D(11,15),new D(31,16))),new ke(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new D(7,116),new D(7,117)),new V(28,new D(21,45),new D(7,46)),new V(30,new D(1,23),new D(37,24)),new V(30,new D(19,15),new D(26,16))),new ke(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new D(5,115),new D(10,116)),new V(28,new D(19,47),new D(10,48)),new V(30,new D(15,24),new D(25,25)),new V(30,new D(23,15),new D(25,16))),new ke(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new D(13,115),new D(3,116)),new V(28,new D(2,46),new D(29,47)),new V(30,new D(42,24),new D(1,25)),new V(30,new D(23,15),new D(28,16))),new ke(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new D(17,115)),new V(28,new D(10,46),new D(23,47)),new V(30,new D(10,24),new D(35,25)),new V(30,new D(19,15),new D(35,16))),new ke(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new D(17,115),new D(1,116)),new V(28,new D(14,46),new D(21,47)),new V(30,new D(29,24),new D(19,25)),new V(30,new D(11,15),new D(46,16))),new ke(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new D(13,115),new D(6,116)),new V(28,new D(14,46),new D(23,47)),new V(30,new D(44,24),new D(7,25)),new V(30,new D(59,16),new D(1,17))),new ke(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new D(12,121),new D(7,122)),new V(28,new D(12,47),new D(26,48)),new V(30,new D(39,24),new D(14,25)),new V(30,new D(22,15),new D(41,16))),new ke(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new D(6,121),new D(14,122)),new V(28,new D(6,47),new D(34,48)),new V(30,new D(46,24),new D(10,25)),new V(30,new D(2,15),new D(64,16))),new ke(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new D(17,122),new D(4,123)),new V(28,new D(29,46),new D(14,47)),new V(30,new D(49,24),new D(10,25)),new V(30,new D(24,15),new D(46,16))),new ke(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new D(4,122),new D(18,123)),new V(28,new D(13,46),new D(32,47)),new V(30,new D(48,24),new D(14,25)),new V(30,new D(42,15),new D(32,16))),new ke(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new D(20,117),new D(4,118)),new V(28,new D(40,47),new D(7,48)),new V(30,new D(43,24),new D(22,25)),new V(30,new D(10,15),new D(67,16))),new ke(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new D(19,118),new D(6,119)),new V(28,new D(18,47),new D(31,48)),new V(30,new D(34,24),new D(34,25)),new V(30,new D(20,15),new D(61,16)))];var $t;(function(v){v[v.DATA_MASK_000=0]="DATA_MASK_000",v[v.DATA_MASK_001=1]="DATA_MASK_001",v[v.DATA_MASK_010=2]="DATA_MASK_010",v[v.DATA_MASK_011=3]="DATA_MASK_011",v[v.DATA_MASK_100=4]="DATA_MASK_100",v[v.DATA_MASK_101=5]="DATA_MASK_101",v[v.DATA_MASK_110=6]="DATA_MASK_110",v[v.DATA_MASK_111=7]="DATA_MASK_111"})($t||($t={}));class hn{constructor(t,a){this.value=t,this.isMasked=a}unmaskBitMatrix(t,a){for(let r=0;r<a;r++)for(let s=0;s<a;s++)this.isMasked(r,s)&&t.flip(s,r)}}hn.values=new Map([[$t.DATA_MASK_000,new hn($t.DATA_MASK_000,(v,t)=>(v+t&1)===0)],[$t.DATA_MASK_001,new hn($t.DATA_MASK_001,(v,t)=>(v&1)===0)],[$t.DATA_MASK_010,new hn($t.DATA_MASK_010,(v,t)=>t%3===0)],[$t.DATA_MASK_011,new hn($t.DATA_MASK_011,(v,t)=>(v+t)%3===0)],[$t.DATA_MASK_100,new hn($t.DATA_MASK_100,(v,t)=>(Math.floor(v/2)+Math.floor(t/3)&1)===0)],[$t.DATA_MASK_101,new hn($t.DATA_MASK_101,(v,t)=>v*t%6===0)],[$t.DATA_MASK_110,new hn($t.DATA_MASK_110,(v,t)=>v*t%6<3)],[$t.DATA_MASK_111,new hn($t.DATA_MASK_111,(v,t)=>(v+t+v*t%3&1)===0)]]);class gc{constructor(t){const a=t.getHeight();if(a<21||(a&3)!==1)throw new re;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const a=this.bitMatrix.getHeight();let r=0;const s=a-7;for(let l=a-1;l>=s;l--)r=this.copyBit(8,l,r);for(let l=a-8;l<a;l++)r=this.copyBit(l,8,r);if(this.parsedFormatInfo=dn.decodeFormatInformation(t,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new re}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),a=Math.floor((t-17)/4);if(a<=6)return ke.getVersionForNumber(a);let r=0;const s=t-11;for(let c=5;c>=0;c--)for(let u=t-9;u>=s;u--)r=this.copyBit(u,c,r);let l=ke.decodeVersionInformation(r);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;r=0;for(let c=5;c>=0;c--)for(let u=t-9;u>=s;u--)r=this.copyBit(c,u,r);if(l=ke.decodeVersionInformation(r),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new re}copyBit(t,a,r){return(this.isMirror?this.bitMatrix.get(a,t):this.bitMatrix.get(t,a))?r<<1|1:r<<1}readCodewords(){const t=this.readFormatInformation(),a=this.readVersion(),r=hn.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const l=a.buildFunctionPattern();let c=!0;const u=new Uint8Array(a.getTotalCodewords());let x=0,b=0,C=0;for(let N=s-1;N>0;N-=2){N===6&&N--;for(let T=0;T<s;T++){const B=c?s-1-T:T;for(let U=0;U<2;U++)l.get(N-U,B)||(C++,b<<=1,this.bitMatrix.get(N-U,B)&&(b|=1),C===8&&(u[x++]=b,C=0,b=0))}c=!c}if(x!==a.getTotalCodewords())throw new re;return u}remask(){if(this.parsedFormatInfo===null)return;const t=hn.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,a)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let a=0,r=t.getWidth();a<r;a++)for(let s=a+1,l=t.getHeight();s<l;s++)t.get(a,s)!==t.get(s,a)&&(t.flip(s,a),t.flip(a,s))}}class Yi{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a,r){if(t.length!==a.getTotalCodewords())throw new L;const s=a.getECBlocksForLevel(r);let l=0;const c=s.getECBlocks();for(const U of c)l+=U.getCount();const u=new Array(l);let x=0;for(const U of c)for(let z=0;z<U.getCount();z++){const G=U.getDataCodewords(),$=s.getECCodewordsPerBlock()+G;u[x++]=new Yi(G,new Uint8Array($))}const b=u[0].codewords.length;let C=u.length-1;for(;C>=0&&u[C].codewords.length!==b;)C--;C++;const N=b-s.getECCodewordsPerBlock();let T=0;for(let U=0;U<N;U++)for(let z=0;z<x;z++)u[z].codewords[U]=t[T++];for(let U=C;U<x;U++)u[U].codewords[N]=t[T++];const B=u[0].codewords.length;for(let U=N;U<B;U++)for(let z=0;z<x;z++){const G=z<C?U:U+1;u[z].codewords[G]=t[T++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var zn;(function(v){v[v.TERMINATOR=0]="TERMINATOR",v[v.NUMERIC=1]="NUMERIC",v[v.ALPHANUMERIC=2]="ALPHANUMERIC",v[v.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",v[v.BYTE=4]="BYTE",v[v.ECI=5]="ECI",v[v.KANJI=6]="KANJI",v[v.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",v[v.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",v[v.HANZI=9]="HANZI"})(zn||(zn={}));class Ue{constructor(t,a,r,s){this.value=t,this.stringValue=a,this.characterCountBitsForVersions=r,this.bits=s,Ue.FOR_BITS.set(s,this),Ue.FOR_VALUE.set(t,this)}static forBits(t){const a=Ue.FOR_BITS.get(t);if(a===void 0)throw new L;return a}getCharacterCountBits(t){const a=t.getVersionNumber();let r;return a<=9?r=0:a<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Ue))return!1;const a=t;return this.value===a.value}toString(){return this.stringValue}}Ue.FOR_BITS=new Map,Ue.FOR_VALUE=new Map,Ue.TERMINATOR=new Ue(zn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ue.NUMERIC=new Ue(zn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ue.ALPHANUMERIC=new Ue(zn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ue.STRUCTURED_APPEND=new Ue(zn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ue.BYTE=new Ue(zn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ue.ECI=new Ue(zn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ue.KANJI=new Ue(zn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ue.FNC1_FIRST_POSITION=new Ue(zn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ue.FNC1_SECOND_POSITION=new Ue(zn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ue.HANZI=new Ue(zn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ut{static decode(t,a,r,s){const l=new Dn(t);let c=new Te;const u=new Array;let x=-1,b=-1;try{let C=null,N=!1,T;do{if(l.available()<4)T=Ue.TERMINATOR;else{const B=l.readBits(4);T=Ue.forBits(B)}switch(T){case Ue.TERMINATOR:break;case Ue.FNC1_FIRST_POSITION:case Ue.FNC1_SECOND_POSITION:N=!0;break;case Ue.STRUCTURED_APPEND:if(l.available()<16)throw new re;x=l.readBits(8),b=l.readBits(8);break;case Ue.ECI:const B=Ut.parseECIValue(l);if(C=oe.getCharacterSetECIByValue(B),C===null)throw new re;break;case Ue.HANZI:const U=l.readBits(4),z=l.readBits(T.getCharacterCountBits(a));U===Ut.GB2312_SUBSET&&Ut.decodeHanziSegment(l,c,z);break;default:const G=l.readBits(T.getCharacterCountBits(a));switch(T){case Ue.NUMERIC:Ut.decodeNumericSegment(l,c,G);break;case Ue.ALPHANUMERIC:Ut.decodeAlphanumericSegment(l,c,G,N);break;case Ue.BYTE:Ut.decodeByteSegment(l,c,G,C,u,s);break;case Ue.KANJI:Ut.decodeKanjiSegment(l,c,G);break;default:throw new re}break}}while(T!==Ue.TERMINATOR)}catch{throw new re}return new Hn(t,c.toString(),u.length===0?null:u,r===null?null:r.toString(),x,b)}static decodeHanziSegment(t,a,r){if(r*13>t.available())throw new re;const s=new Uint8Array(2*r);let l=0;for(;r>0;){const c=t.readBits(13);let u=c/96<<8&4294967295|c%96;u<959?u+=41377:u+=42657,s[l]=u>>8&255,s[l+1]=u&255,l+=2,r--}try{a.append(Oe.decode(s,Ae.GB2312))}catch(c){throw new re(c)}}static decodeKanjiSegment(t,a,r){if(r*13>t.available())throw new re;const s=new Uint8Array(2*r);let l=0;for(;r>0;){const c=t.readBits(13);let u=c/192<<8&4294967295|c%192;u<7936?u+=33088:u+=49472,s[l]=u>>8,s[l+1]=u,l+=2,r--}try{a.append(Oe.decode(s,Ae.SHIFT_JIS))}catch(c){throw new re(c)}}static decodeByteSegment(t,a,r,s,l,c){if(8*r>t.available())throw new re;const u=new Uint8Array(r);for(let b=0;b<r;b++)u[b]=t.readBits(8);let x;s===null?x=Ae.guessEncoding(u,c):x=s.getName();try{a.append(Oe.decode(u,x))}catch(b){throw new re(b)}l.push(u)}static toAlphaNumericChar(t){if(t>=Ut.ALPHANUMERIC_CHARS.length)throw new re;return Ut.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,a,r,s){const l=a.length();for(;r>1;){if(t.available()<11)throw new re;const c=t.readBits(11);a.append(Ut.toAlphaNumericChar(Math.floor(c/45))),a.append(Ut.toAlphaNumericChar(c%45)),r-=2}if(r===1){if(t.available()<6)throw new re;a.append(Ut.toAlphaNumericChar(t.readBits(6)))}if(s)for(let c=l;c<a.length();c++)a.charAt(c)==="%"&&(c<a.length()-1&&a.charAt(c+1)==="%"?a.deleteCharAt(c+1):a.setCharAt(c,""))}static decodeNumericSegment(t,a,r){for(;r>=3;){if(t.available()<10)throw new re;const s=t.readBits(10);if(s>=1e3)throw new re;a.append(Ut.toAlphaNumericChar(Math.floor(s/100))),a.append(Ut.toAlphaNumericChar(Math.floor(s/10)%10)),a.append(Ut.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(t.available()<7)throw new re;const s=t.readBits(7);if(s>=100)throw new re;a.append(Ut.toAlphaNumericChar(Math.floor(s/10))),a.append(Ut.toAlphaNumericChar(s%10))}else if(r===1){if(t.available()<4)throw new re;const s=t.readBits(4);if(s>=10)throw new re;a.append(Ut.toAlphaNumericChar(s))}}static parseECIValue(t){const a=t.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const r=t.readBits(8);return(a&63)<<8&4294967295|r}if((a&224)===192){const r=t.readBits(16);return(a&31)<<16&4294967295|r}throw new re}}Ut.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ut.GB2312_SUBSET=1;class Yl{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const a=t[0];t[0]=t[2],t[2]=a}}class Xi{constructor(){this.rsDecoder=new oi(ct.QR_CODE_FIELD_256)}decodeBooleanArray(t,a){return this.decodeBitMatrix(tt.parseFromBooleanArray(t),a)}decodeBitMatrix(t,a){const r=new gc(t);let s=null;try{return this.decodeBitMatrixParser(r,a)}catch(l){s=l}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const l=this.decodeBitMatrixParser(r,a);return l.setOther(new Yl(!0)),l}catch(l){throw s!==null?s:l}}decodeBitMatrixParser(t,a){const r=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),c=Yi.getDataBlocks(l,r,s);let u=0;for(const C of c)u+=C.getNumDataCodewords();const x=new Uint8Array(u);let b=0;for(const C of c){const N=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(N,T);for(let B=0;B<T;B++)x[b++]=N[B]}return Ut.decode(x,r,s,a)}correctErrors(t,a){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-a)}catch{throw new ie}for(let s=0;s<a;s++)t[s]=r[s]}}class hi extends Re{constructor(t,a,r){super(t,a),this.estimatedModuleSize=r}aboutEquals(t,a,r){if(Math.abs(a-this.getY())<=t&&Math.abs(r-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,a,r){const s=(this.getX()+a)/2,l=(this.getY()+t)/2,c=(this.estimatedModuleSize+r)/2;return new hi(s,l,c)}}class Tr{constructor(t,a,r,s,l,c,u){this.image=t,this.startX=a,this.startY=r,this.width=s,this.height=l,this.moduleSize=c,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,a=this.height,r=this.width,s=t+r,l=this.startY+a/2,c=new Int32Array(3),u=this.image;for(let x=0;x<a;x++){const b=l+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));c[0]=0,c[1]=0,c[2]=0;let C=t;for(;C<s&&!u.get(C,b);)C++;let N=0;for(;C<s;){if(u.get(C,b))if(N===1)c[1]++;else if(N===2){if(this.foundPatternCross(c)){const T=this.handlePossibleCenter(c,b,C);if(T!==null)return T}c[0]=c[2],c[1]=1,c[2]=0,N=1}else c[++N]++;else N===1&&N++,c[N]++;C++}if(this.foundPatternCross(c)){const T=this.handlePossibleCenter(c,b,s);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(t,a){return a-t[2]-t[1]/2}foundPatternCross(t){const a=this.moduleSize,r=a/2;for(let s=0;s<3;s++)if(Math.abs(a-t[s])>=r)return!1;return!0}crossCheckVertical(t,a,r,s){const l=this.image,c=l.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let x=t;for(;x>=0&&l.get(a,x)&&u[1]<=r;)u[1]++,x--;if(x<0||u[1]>r)return NaN;for(;x>=0&&!l.get(a,x)&&u[0]<=r;)u[0]++,x--;if(u[0]>r)return NaN;for(x=t+1;x<c&&l.get(a,x)&&u[1]<=r;)u[1]++,x++;if(x===c||u[1]>r)return NaN;for(;x<c&&!l.get(a,x)&&u[2]<=r;)u[2]++,x++;if(u[2]>r)return NaN;const b=u[0]+u[1]+u[2];return 5*Math.abs(b-s)>=2*s?NaN:this.foundPatternCross(u)?Tr.centerFromEnd(u,x):NaN}handlePossibleCenter(t,a,r){const s=t[0]+t[1]+t[2],l=Tr.centerFromEnd(t,r),c=this.crossCheckVertical(a,l,2*t[1],s);if(!isNaN(c)){const u=(t[0]+t[1]+t[2])/3;for(const b of this.possibleCenters)if(b.aboutEquals(u,c,l))return b.combineEstimate(c,l,u);const x=new hi(l,c,u);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class ka extends Re{constructor(t,a,r,s){super(t,a),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,a,r){if(Math.abs(a-this.getY())<=t&&Math.abs(r-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,a,r){const s=this.count+1,l=(this.count*this.getX()+a)/s,c=(this.count*this.getY()+t)/s,u=(this.count*this.estimatedModuleSize+r)/s;return new ka(l,c,u,s)}}class _r{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class en{constructor(t,a){this.image=t,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const a=t!=null&&t.get(ne.TRY_HARDER)!==void 0,r=t!=null&&t.get(ne.PURE_BARCODE)!==void 0,s=this.image,l=s.getHeight(),c=s.getWidth();let u=Math.floor(3*l/(4*en.MAX_MODULES));(u<en.MIN_SKIP||a)&&(u=en.MIN_SKIP);let x=!1;const b=new Int32Array(5);for(let N=u-1;N<l&&!x;N+=u){b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0;let T=0;for(let B=0;B<c;B++)if(s.get(B,N))(T&1)===1&&T++,b[T]++;else if((T&1)===0)if(T===4)if(en.foundPatternCross(b)){if(this.handlePossibleCenter(b,N,B,r)===!0)if(u=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const z=this.findRowSkip();z>b[2]&&(N+=z-b[2]-u,B=c-1)}else{b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,T=3;continue}T=0,b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0}else b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,T=3;else b[++T]++;else b[T]++;en.foundPatternCross(b)&&this.handlePossibleCenter(b,N,c,r)===!0&&(u=b[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Re.orderBestPatterns(C),new _r(C)}static centerFromEnd(t,a){return a-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let a=0;for(let l=0;l<5;l++){const c=t[l];if(c===0)return!1;a+=c}if(a<7)return!1;const r=a/7,s=r/2;return Math.abs(r-t[0])<s&&Math.abs(r-t[1])<s&&Math.abs(3*r-t[2])<3*s&&Math.abs(r-t[3])<s&&Math.abs(r-t[4])<s}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,a,r,s){const l=this.getCrossCheckStateCount();let c=0;const u=this.image;for(;t>=c&&a>=c&&u.get(a-c,t-c);)l[2]++,c++;if(t<c||a<c)return!1;for(;t>=c&&a>=c&&!u.get(a-c,t-c)&&l[1]<=r;)l[1]++,c++;if(t<c||a<c||l[1]>r)return!1;for(;t>=c&&a>=c&&u.get(a-c,t-c)&&l[0]<=r;)l[0]++,c++;if(l[0]>r)return!1;const x=u.getHeight(),b=u.getWidth();for(c=1;t+c<x&&a+c<b&&u.get(a+c,t+c);)l[2]++,c++;if(t+c>=x||a+c>=b)return!1;for(;t+c<x&&a+c<b&&!u.get(a+c,t+c)&&l[3]<r;)l[3]++,c++;if(t+c>=x||a+c>=b||l[3]>=r)return!1;for(;t+c<x&&a+c<b&&u.get(a+c,t+c)&&l[4]<r;)l[4]++,c++;if(l[4]>=r)return!1;const C=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(C-s)<2*s&&en.foundPatternCross(l)}crossCheckVertical(t,a,r,s){const l=this.image,c=l.getHeight(),u=this.getCrossCheckStateCount();let x=t;for(;x>=0&&l.get(a,x);)u[2]++,x--;if(x<0)return NaN;for(;x>=0&&!l.get(a,x)&&u[1]<=r;)u[1]++,x--;if(x<0||u[1]>r)return NaN;for(;x>=0&&l.get(a,x)&&u[0]<=r;)u[0]++,x--;if(u[0]>r)return NaN;for(x=t+1;x<c&&l.get(a,x);)u[2]++,x++;if(x===c)return NaN;for(;x<c&&!l.get(a,x)&&u[3]<r;)u[3]++,x++;if(x===c||u[3]>=r)return NaN;for(;x<c&&l.get(a,x)&&u[4]<r;)u[4]++,x++;if(u[4]>=r)return NaN;const b=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(b-s)>=2*s?NaN:en.foundPatternCross(u)?en.centerFromEnd(u,x):NaN}crossCheckHorizontal(t,a,r,s){const l=this.image,c=l.getWidth(),u=this.getCrossCheckStateCount();let x=t;for(;x>=0&&l.get(x,a);)u[2]++,x--;if(x<0)return NaN;for(;x>=0&&!l.get(x,a)&&u[1]<=r;)u[1]++,x--;if(x<0||u[1]>r)return NaN;for(;x>=0&&l.get(x,a)&&u[0]<=r;)u[0]++,x--;if(u[0]>r)return NaN;for(x=t+1;x<c&&l.get(x,a);)u[2]++,x++;if(x===c)return NaN;for(;x<c&&!l.get(x,a)&&u[3]<r;)u[3]++,x++;if(x===c||u[3]>=r)return NaN;for(;x<c&&l.get(x,a)&&u[4]<r;)u[4]++,x++;if(u[4]>=r)return NaN;const b=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(b-s)>=s?NaN:en.foundPatternCross(u)?en.centerFromEnd(u,x):NaN}handlePossibleCenter(t,a,r,s){const l=t[0]+t[1]+t[2]+t[3]+t[4];let c=en.centerFromEnd(t,r),u=this.crossCheckVertical(a,Math.floor(c),t[2],l);if(!isNaN(u)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(u),t[2],l),!isNaN(c)&&(!s||this.crossCheckDiagonal(Math.floor(u),Math.floor(c),t[2],l)))){const x=l/7;let b=!1;const C=this.possibleCenters;for(let N=0,T=C.length;N<T;N++){const B=C[N];if(B.aboutEquals(x,u,c)){C[N]=B.combineEstimate(u,c,x),b=!0;break}}if(!b){const N=new ka(c,u,x);C.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const r of this.possibleCenters)if(r.getCount()>=en.CENTER_QUORUM)if(a==null)a=r;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-r.getX())-Math.abs(a.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,a=0;const r=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=en.CENTER_QUORUM&&(t++,a+=c.getEstimatedModuleSize());if(t<3)return!1;const s=a/r;let l=0;for(const c of this.possibleCenters)l+=Math.abs(c.getEstimatedModuleSize()-s);return l<=.05*a}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new X;const a=this.possibleCenters;let r;if(t>3){let s=0,l=0;for(const x of this.possibleCenters){const b=x.getEstimatedModuleSize();s+=b,l+=b*b}r=s/t;let c=Math.sqrt(l/t-r*r);a.sort((x,b)=>{const C=Math.abs(b.getEstimatedModuleSize()-r),N=Math.abs(x.getEstimatedModuleSize()-r);return C<N?-1:C>N?1:0});const u=Math.max(.2*r,c);for(let x=0;x<a.length&&a.length>3;x++){const b=a[x];Math.abs(b.getEstimatedModuleSize()-r)>u&&(a.splice(x,1),x--)}}if(a.length>3){let s=0;for(const l of a)s+=l.getEstimatedModuleSize();r=s/a.length,a.sort((l,c)=>{if(c.getCount()===l.getCount()){const u=Math.abs(c.getEstimatedModuleSize()-r),x=Math.abs(l.getEstimatedModuleSize()-r);return u<x?1:u>x?-1:0}else return c.getCount()-l.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}en.CENTER_QUORUM=2,en.MIN_SKIP=3,en.MAX_MODULES=57;class ar{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(ne.NEED_RESULT_POINT_CALLBACK);const r=new en(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)}processFinderPatternInfo(t){const a=t.getTopLeft(),r=t.getTopRight(),s=t.getBottomLeft(),l=this.calculateModuleSize(a,r,s);if(l<1)throw new X("No pattern found in proccess finder.");const c=ar.computeDimension(a,r,s,l),u=ke.getProvisionalVersionForDimension(c),x=u.getDimensionForVersion()-7;let b=null;if(u.getAlignmentPatternCenters().length>0){const B=r.getX()-a.getX()+s.getX(),U=r.getY()-a.getY()+s.getY(),z=1-3/x,G=Math.floor(a.getX()+z*(B-a.getX())),$=Math.floor(a.getY()+z*(U-a.getY()));for(let pe=4;pe<=16;pe<<=1)try{b=this.findAlignmentInRegion(l,G,$,pe);break}catch(we){if(!(we instanceof X))throw we}}const C=ar.createTransform(a,r,s,b,c),N=ar.sampleGrid(this.image,C,c);let T;return b===null?T=[s,a,r]:T=[s,a,r,b],new Ui(N,T)}static createTransform(t,a,r,s,l){const c=l-3.5;let u,x,b,C;return s!==null?(u=s.getX(),x=s.getY(),b=c-3,C=b):(u=a.getX()-t.getX()+r.getX(),x=a.getY()-t.getY()+r.getY(),b=c,C=c),vn.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,b,C,3.5,c,t.getX(),t.getY(),a.getX(),a.getY(),u,x,r.getX(),r.getY())}static sampleGrid(t,a,r){return Nn.getInstance().sampleGridWithTransform(t,r,r,a)}static computeDimension(t,a,r,s){const l=lt.round(Re.distance(t,a)/s),c=lt.round(Re.distance(t,r)/s);let u=Math.floor((l+c)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new X("Dimensions could be not found.")}return u}calculateModuleSize(t,a,r){return(this.calculateModuleSizeOneWay(t,a)+this.calculateModuleSizeOneWay(t,r))/2}calculateModuleSizeOneWay(t,a){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(a.getX()),Math.floor(a.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(t,a,r,s){let l=this.sizeOfBlackWhiteBlackRun(t,a,r,s),c=1,u=t-(r-t);u<0?(c=t/(t-u),u=0):u>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(u-t),u=this.image.getWidth()-1);let x=Math.floor(a-(s-a)*c);return c=1,x<0?(c=a/(a-x),x=0):x>=this.image.getHeight()&&(c=(this.image.getHeight()-1-a)/(x-a),x=this.image.getHeight()-1),u=Math.floor(t+(u-t)*c),l+=this.sizeOfBlackWhiteBlackRun(t,a,u,x),l-1}sizeOfBlackWhiteBlackRun(t,a,r,s){const l=Math.abs(s-a)>Math.abs(r-t);if(l){let B=t;t=a,a=B,B=r,r=s,s=B}const c=Math.abs(r-t),u=Math.abs(s-a);let x=-c/2;const b=t<r?1:-1,C=a<s?1:-1;let N=0;const T=r+b;for(let B=t,U=a;B!==T;B+=b){const z=l?U:B,G=l?B:U;if(N===1===this.image.get(z,G)){if(N===2)return lt.distance(B,U,t,a);N++}if(x+=u,x>0){if(U===s)break;U+=C,x-=c}}return N===2?lt.distance(r+b,s,t,a):NaN}findAlignmentInRegion(t,a,r,s){const l=Math.floor(s*t),c=Math.max(0,a-l),u=Math.min(this.image.getWidth()-1,a+l);if(u-c<t*3)throw new X("Alignment top exceeds estimated module size.");const x=Math.max(0,r-l),b=Math.min(this.image.getHeight()-1,r+l);if(b-x<t*3)throw new X("Alignment bottom exceeds estimated module size.");return new Tr(this.image,c,x,u-c,b-x,t,this.resultPointCallback).find()}}class Sa{constructor(){this.decoder=new Xi}getDecoder(){return this.decoder}decode(t,a){let r,s;if(a!=null&&a.get(ne.PURE_BARCODE)!==void 0){const x=Sa.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(x,a),s=Sa.NO_POINTS}else{const x=new ar(t.getBlackMatrix()).detect(a);r=this.decoder.decodeBitMatrix(x.getBits(),a),s=x.getPoints()}r.getOther()instanceof Yl&&r.getOther().applyMirroredCorrection(s);const l=new De(r.getText(),r.getRawBytes(),void 0,s,ye.QR_CODE,void 0),c=r.getByteSegments();c!==null&&l.putMetadata(Qe.BYTE_SEGMENTS,c);const u=r.getECLevel();return u!==null&&l.putMetadata(Qe.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(l.putMetadata(Qe.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),l.putMetadata(Qe.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(a===null||r===null)throw new X;const s=this.moduleSize(a,t);let l=a[1],c=r[1],u=a[0],x=r[0];if(u>=x||l>=c)throw new X;if(c-l!==x-u&&(x=u+(c-l),x>=t.getWidth()))throw new X;const b=Math.round((x-u+1)/s),C=Math.round((c-l+1)/s);if(b<=0||C<=0)throw new X;if(C!==b)throw new X;const N=Math.floor(s/2);l+=N,u+=N;const T=u+Math.floor((b-1)*s)-x;if(T>0){if(T>N)throw new X;u-=T}const B=l+Math.floor((C-1)*s)-c;if(B>0){if(B>N)throw new X;l-=B}const U=new tt(b,C);for(let z=0;z<C;z++){const G=l+Math.floor(z*s);for(let $=0;$<b;$++)t.get(u+Math.floor($*s),G)&&U.set($,z)}return U}static moduleSize(t,a){const r=a.getHeight(),s=a.getWidth();let l=t[0],c=t[1],u=!0,x=0;for(;l<s&&c<r;){if(u!==a.get(l,c)){if(++x===5)break;u=!u}l++,c++}if(l===s||c===r)throw new X;return(l-t[0])/7}}Sa.NO_POINTS=new Array;class Pe{PDF417Common(){}static getBitCountSum(t){return lt.sum(t)}static toIntArray(t){if(t==null||!t.length)return Pe.EMPTY_INT_ARRAY;const a=new Int32Array(t.length);let r=0;for(const s of t)a[r++]=s;return a}static getCodeword(t){const a=se.binarySearch(Pe.SYMBOL_TABLE,t&262143);return a<0?-1:(Pe.CODEWORD_TABLE[a]-1)%Pe.NUMBER_OF_CODEWORDS}}Pe.NUMBER_OF_CODEWORDS=929,Pe.MAX_CODEWORDS_IN_BARCODE=Pe.NUMBER_OF_CODEWORDS-1,Pe.MIN_ROWS_IN_BARCODE=3,Pe.MAX_ROWS_IN_BARCODE=90,Pe.MODULES_IN_CODEWORD=17,Pe.MODULES_IN_STOP_PATTERN=18,Pe.BARS_IN_MODULE=8,Pe.EMPTY_INT_ARRAY=new Int32Array([]),Pe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Pe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class va{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class qe{static detectMultiple(t,a,r){let s=t.getBlackMatrix(),l=qe.detect(r,s);return l.length||(s=s.clone(),s.rotate180(),l=qe.detect(r,s)),new va(s,l)}static detect(t,a){const r=new Array;let s=0,l=0,c=!1;for(;s<a.getHeight();){const u=qe.findVertices(a,s,l);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,l=0;for(const x of r)x[1]!=null&&(s=Math.trunc(Math.max(s,x[1].getY()))),x[3]!=null&&(s=Math.max(s,Math.trunc(x[3].getY())));s+=qe.ROW_STEP;continue}if(c=!0,r.push(u),!t)break;u[2]!=null?(l=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(l=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return r}static findVertices(t,a,r){const s=t.getHeight(),l=t.getWidth(),c=new Array(8);return qe.copyToResult(c,qe.findRowsWithPattern(t,s,l,a,r,qe.START_PATTERN),qe.INDEXES_START_PATTERN),c[4]!=null&&(r=Math.trunc(c[4].getX()),a=Math.trunc(c[4].getY())),qe.copyToResult(c,qe.findRowsWithPattern(t,s,l,a,r,qe.STOP_PATTERN),qe.INDEXES_STOP_PATTERN),c}static copyToResult(t,a,r){for(let s=0;s<r.length;s++)t[r[s]]=a[s]}static findRowsWithPattern(t,a,r,s,l,c){const u=new Array(4);let x=!1;const b=new Int32Array(c.length);for(;s<a;s+=qe.ROW_STEP){let N=qe.findGuardPattern(t,l,s,r,!1,c,b);if(N!=null){for(;s>0;){const T=qe.findGuardPattern(t,l,--s,r,!1,c,b);if(T!=null)N=T;else{s++;break}}u[0]=new Re(N[0],s),u[1]=new Re(N[1],s),x=!0;break}}let C=s+1;if(x){let N=0,T=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;C<a;C++){const B=qe.findGuardPattern(t,T[0],C,r,!1,c,b);if(B!=null&&Math.abs(T[0]-B[0])<qe.MAX_PATTERN_DRIFT&&Math.abs(T[1]-B[1])<qe.MAX_PATTERN_DRIFT)T=B,N=0;else{if(N>qe.SKIPPED_ROW_COUNT_MAX)break;N++}}C-=N+1,u[2]=new Re(T[0],C),u[3]=new Re(T[1],C)}return C-s<qe.BARCODE_MIN_HEIGHT&&se.fill(u,null),u}static findGuardPattern(t,a,r,s,l,c,u){se.fillWithin(u,0,u.length,0);let x=a,b=0;for(;t.get(x,r)&&x>0&&b++<qe.MAX_PIXEL_DRIFT;)x--;let C=x,N=0,T=c.length;for(let B=l;C<s;C++)if(t.get(C,r)!==B)u[N]++;else{if(N===T-1){if(qe.patternMatchVariance(u,c,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE)return new Int32Array([x,C]);x+=u[0]+u[1],Q.arraycopy(u,2,u,0,N-1),u[N-1]=0,u[N]=0,N--}else N++;u[N]=1,B=!B}return N===T-1&&qe.patternMatchVariance(u,c,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE?new Int32Array([x,C-1]):null}static patternMatchVariance(t,a,r){let s=t.length,l=0,c=0;for(let b=0;b<s;b++)l+=t[b],c+=a[b];if(l<c)return 1/0;let u=l/c;r*=u;let x=0;for(let b=0;b<s;b++){let C=t[b],N=a[b]*u,T=C>N?C-N:N-C;if(T>r)return 1/0;x+=T}return x/l}}qe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),qe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),qe.MAX_AVG_VARIANCE=.42,qe.MAX_INDIVIDUAL_VARIANCE=.8,qe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),qe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),qe.MAX_PIXEL_DRIFT=3,qe.MAX_PATTERN_DRIFT=5,qe.SKIPPED_ROW_COUNT_MAX=25,qe.ROW_STEP=5,qe.BARCODE_MIN_HEIGHT=10;class Vt{constructor(t,a){if(a.length===0)throw new L;this.field=t;let r=a.length;if(r>1&&a[0]===0){let s=1;for(;s<r&&a[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),Q.arraycopy(a,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let s=0;for(let l of this.coefficients)s=this.field.add(s,l);return s}let a=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)a=this.field.add(this.field.multiply(t,a),this.coefficients[s]);return a}add(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,r=t.coefficients;if(a.length>r.length){let c=a;a=r,r=c}let s=new Int32Array(r.length),l=r.length-a.length;Q.arraycopy(r,0,s,0,l);for(let c=l;c<r.length;c++)s[c]=this.field.add(a[c-l],r[c]);return new Vt(this.field,s)}subtract(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Vt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Vt(this.field,new Int32Array([0]));let a=this.coefficients,r=a.length,s=t.coefficients,l=s.length,c=new Int32Array(r+l-1);for(let u=0;u<r;u++){let x=a[u];for(let b=0;b<l;b++)c[u+b]=this.field.add(c[u+b],this.field.multiply(x,s[b]))}return new Vt(this.field,c)}negative(){let t=this.coefficients.length,a=new Int32Array(t);for(let r=0;r<t;r++)a[r]=this.field.subtract(0,this.coefficients[r]);return new Vt(this.field,a)}multiplyScalar(t){if(t===0)return new Vt(this.field,new Int32Array([0]));if(t===1)return this;let a=this.coefficients.length,r=new Int32Array(a);for(let s=0;s<a;s++)r[s]=this.field.multiply(this.coefficients[s],t);return new Vt(this.field,r)}multiplyByMonomial(t,a){if(t<0)throw new L;if(a===0)return new Vt(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+t);for(let l=0;l<r;l++)s[l]=this.field.multiply(this.coefficients[l],a);return new Vt(this.field,s)}toString(){let t=new Te;for(let a=this.getDegree();a>=0;a--){let r=this.getCoefficient(a);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(a===0||r!==1)&&t.append(r),a!==0&&(a===1?t.append("x"):(t.append("x^"),t.append(a))))}return t.toString()}}class Ua{add(t,a){return(t+a)%this.modulus}subtract(t,a){return(this.modulus+t-a)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new L;return this.logTable[t]}inverse(t){if(t===0)throw new Nr;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class gi extends Ua{constructor(t,a){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let r=1;for(let s=0;s<t;s++)this.expTable[s]=r,r=r*a%t;for(let s=0;s<t-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Vt(this,new Int32Array([0])),this.one=new Vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new L;if(a===0)return this.zero;let r=new Int32Array(t+1);return r[0]=a,new Vt(this,r)}}gi.PDF417_GF=new gi(Pe.NUMBER_OF_CODEWORDS,3);class xi{constructor(){this.field=gi.PDF417_GF}decode(t,a,r){let s=new Vt(this.field,t),l=new Int32Array(a),c=!1;for(let U=a;U>0;U--){let z=s.evaluateAt(this.field.exp(U));l[a-U]=z,z!==0&&(c=!0)}if(!c)return 0;let u=this.field.getOne();if(r!=null)for(const U of r){let z=this.field.exp(t.length-1-U),G=new Vt(this.field,new Int32Array([this.field.subtract(0,z),1]));u=u.multiply(G)}let x=new Vt(this.field,l),b=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),x,a),C=b[0],N=b[1],T=this.findErrorLocations(C),B=this.findErrorMagnitudes(N,C,T);for(let U=0;U<T.length;U++){let z=t.length-1-this.field.log(T[U]);if(z<0)throw ie.getChecksumInstance();t[z]=this.field.subtract(t[z],B[U])}return T.length}runEuclideanAlgorithm(t,a,r){if(t.getDegree()<a.getDegree()){let T=t;t=a,a=T}let s=t,l=a,c=this.field.getZero(),u=this.field.getOne();for(;l.getDegree()>=Math.round(r/2);){let T=s,B=c;if(s=l,c=u,s.isZero())throw ie.getChecksumInstance();l=T;let U=this.field.getZero(),z=s.getCoefficient(s.getDegree()),G=this.field.inverse(z);for(;l.getDegree()>=s.getDegree()&&!l.isZero();){let $=l.getDegree()-s.getDegree(),pe=this.field.multiply(l.getCoefficient(l.getDegree()),G);U=U.add(this.field.buildMonomial($,pe)),l=l.subtract(s.multiplyByMonomial($,pe))}u=U.multiply(c).subtract(B).negative()}let x=u.getCoefficient(0);if(x===0)throw ie.getChecksumInstance();let b=this.field.inverse(x),C=u.multiply(b),N=l.multiply(b);return[C,N]}findErrorLocations(t){let a=t.getDegree(),r=new Int32Array(a),s=0;for(let l=1;l<this.field.getSize()&&s<a;l++)t.evaluateAt(l)===0&&(r[s]=this.field.inverse(l),s++);if(s!==a)throw ie.getChecksumInstance();return r}findErrorMagnitudes(t,a,r){let s=a.getDegree(),l=new Int32Array(s);for(let b=1;b<=s;b++)l[s-b]=this.field.multiply(b,a.getCoefficient(b));let c=new Vt(this.field,l),u=r.length,x=new Int32Array(u);for(let b=0;b<u;b++){let C=this.field.inverse(r[b]),N=this.field.subtract(0,t.evaluateAt(C)),T=this.field.inverse(c.evaluateAt(C));x[b]=this.field.multiply(N,T)}return x}}class za{constructor(t,a,r,s,l){t instanceof za?this.constructor_2(t):this.constructor_1(t,a,r,s,l)}constructor_1(t,a,r,s,l){const c=a==null||r==null,u=s==null||l==null;if(c&&u)throw new X;c?(a=new Re(0,s.getY()),r=new Re(0,l.getY())):u&&(s=new Re(t.getWidth()-1,a.getY()),l=new Re(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=a,this.bottomLeft=r,this.topRight=s,this.bottomRight=l,this.minX=Math.trunc(Math.min(a.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),l.getX())),this.minY=Math.trunc(Math.min(a.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,a){return t==null?a:a==null?t:new za(t.image,t.topLeft,t.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(t,a,r){let s=this.topLeft,l=this.bottomLeft,c=this.topRight,u=this.bottomRight;if(t>0){let x=r?this.topLeft:this.topRight,b=Math.trunc(x.getY()-t);b<0&&(b=0);let C=new Re(x.getX(),b);r?s=C:c=C}if(a>0){let x=r?this.bottomLeft:this.bottomRight,b=Math.trunc(x.getY()+a);b>=this.image.getHeight()&&(b=this.image.getHeight()-1);let C=new Re(x.getX(),b);r?l=C:u=C}return new za(this.image,s,l,c,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class qi{constructor(t,a,r,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=a,this.rowCountLowerPart=r,this.rowCount=a+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Pa{constructor(){this.buffer=""}static form(t,a){let r=-1;function s(c,u,x,b,C,N){if(c==="%%")return"%";if(a[++r]===void 0)return;c=b?parseInt(b.substr(1)):void 0;let T=C?parseInt(C.substr(1)):void 0,B;switch(N){case"s":B=a[r];break;case"c":B=a[r][0];break;case"f":B=parseFloat(a[r]).toFixed(c);break;case"p":B=parseFloat(a[r]).toPrecision(c);break;case"e":B=parseFloat(a[r]).toExponential(c);break;case"x":B=parseInt(a[r]).toString(T||16);break;case"d":B=parseFloat(parseInt(a[r],T||10).toPrecision(c)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(T);let U=parseInt(x),z=x&&x[0]+""=="0"?"0":" ";for(;B.length<U;)B=u!==void 0?B+z:z+B;return B}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,s)}format(t,...a){this.buffer+=Pa.form(t,a)}toString(){return this.buffer}}class Ir{constructor(t){this.boundingBox=new za(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let a=this.getCodeword(t);if(a!=null)return a;for(let r=1;r<Ir.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(t)-r;if(s>=0&&(a=this.codewords[s],a!=null)||(s=this.imageRowToCodewordIndex(t)+r,s<this.codewords.length&&(a=this.codewords[s],a!=null)))return a}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,a){this.codewords[this.imageRowToCodewordIndex(t)]=a}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Pa;let a=0;for(const r of this.codewords){if(r==null){t.format("%3d:    |   %n",a++);continue}t.format("%3d: %3d|%3d%n",a++,r.getRowNumber(),r.getValue())}return t.toString()}}Ir.MAX_NEARBY_DISTANCE=5;class sn{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let a=this.values.get(t);a==null&&(a=0),a++,this.values.set(t,a)}getValue(){let t=-1,a=new Array;for(const[r,s]of this.values.entries()){const l={getKey:()=>r,getValue:()=>s};l.getValue()>t?(t=l.getValue(),a=[],a.push(l.getKey())):l.getValue()===t&&a.push(l.getKey())}return Pe.toIntArray(a)}getConfidence(t){return this.values.get(t)}}class Fa extends Ir{constructor(t,a){super(t),this._isLeft=a}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,t);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),l=this._isLeft?r.getBottomLeft():r.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),x=-1,b=1,C=0;for(let N=c;N<u;N++){if(a[N]==null)continue;let T=a[N],B=T.getRowNumber()-x;if(B===0)C++;else if(B===1)b=Math.max(b,C),C=1,x=T.getRowNumber();else if(B<0||T.getRowNumber()>=t.getRowCount()||B>N)a[N]=null;else{let U;b>2?U=(b-2)*B:U=B;let z=U>=N;for(let G=1;G<=U&&!z;G++)z=a[N-G]!=null;z?a[N]=null:(x=T.getRowNumber(),C=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let a=new Int32Array(t.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=a.length)continue;a[s]++}return a}adjustIncompleteIndicatorColumnRowNumbers(t){let a=this.getBoundingBox(),r=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(r.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.getCodewords(),x=-1;for(let b=l;b<c;b++){if(u[b]==null)continue;let C=u[b];C.setRowNumberAsRowIndicatorColumn();let N=C.getRowNumber()-x;N===0||(N===1?x=C.getRowNumber():C.getRowNumber()>=t.getRowCount()?u[b]=null:x=C.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),a=new sn,r=new sn,s=new sn,l=new sn;for(let u of t){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let x=u.getValue()%30,b=u.getRowNumber();switch(this._isLeft||(b+=2),b%3){case 0:r.setValue(x*3+1);break;case 1:l.setValue(x/3),s.setValue(x%3);break;case 2:a.setValue(x+1);break}}if(a.getValue().length===0||r.getValue().length===0||s.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<Pe.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>Pe.MAX_ROWS_IN_BARCODE)return null;let c=new qi(a.getValue()[0],r.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,c),c}removeIncorrectCodewords(t,a){for(let r=0;r<t.length;r++){let s=t[r];if(t[r]==null)continue;let l=s.getValue()%30,c=s.getRowNumber();if(c>a.getRowCount()){t[r]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==a.getRowCountUpperPart()&&(t[r]=null);break;case 1:(Math.trunc(l/3)!==a.getErrorCorrectionLevel()||l%3!==a.getRowCountLowerPart())&&(t[r]=null);break;case 2:l+1!==a.getColumnCount()&&(t[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ha{constructor(t,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Pe.MAX_CODEWORDS_IN_BARCODE,a;do a=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let r=this.detectionResultColumns[a].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(a,s,r))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++)if(t[r]!=null&&a[r]!=null&&t[r].getRowNumber()===a[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let l=this.detectionResultColumns[s].getCodewords()[r];l!=null&&(l.setRowNumber(t[r].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<a.length;r++){if(a[r]==null)continue;let s=a[r].getRowNumber(),l=0;for(let c=this.barcodeColumnCount+1;c>0&&l<this.ADJUST_ROW_NUMBER_SKIP;c--){let u=this.detectionResultColumns[c].getCodewords()[r];u!=null&&(l=Ha.adjustRowNumberIfValid(s,l,u),u.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,a=this.detectionResultColumns[0].getCodewords();for(let r=0;r<a.length;r++){if(a[r]==null)continue;let s=a[r].getRowNumber(),l=0;for(let c=1;c<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;c++){let u=this.detectionResultColumns[c].getCodewords()[r];u!=null&&(l=Ha.adjustRowNumberIfValid(s,l,u),u.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,a,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),a=0):++a),a}adjustRowNumbers(t,a,r){if(!this.detectionResultColumns[t-1])return;let s=r[a],l=this.detectionResultColumns[t-1].getCodewords(),c=l;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());let u=new Array(14);u[2]=l[a],u[3]=c[a],a>0&&(u[0]=r[a-1],u[4]=l[a-1],u[5]=c[a-1]),a>1&&(u[8]=r[a-2],u[10]=l[a-2],u[11]=c[a-2]),a<r.length-1&&(u[1]=r[a+1],u[6]=l[a+1],u[7]=c[a+1]),a<r.length-2&&(u[9]=r[a+2],u[12]=l[a+2],u[13]=c[a+2]);for(let x of u)if(Ha.adjustRowNumber(s,x))return}static adjustRowNumber(t,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===t.getBucket()?(t.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,a){this.detectionResultColumns[t]=a}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Pa;for(let r=0;r<t.getCodewords().length;r++){a.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){a.format("    |   ");continue}let l=this.detectionResultColumns[s].getCodewords()[r];if(l==null){a.format("    |   ");continue}a.format(" %3d|%3d",l.getRowNumber(),l.getValue())}a.format("%n")}return a.toString()}}class Na{constructor(t,a,r,s){this.rowNumber=Na.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(a),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Na.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Na.BARCODE_ROW_UNKNOWN=-1;class Rn{static initialize(){for(let t=0;t<Pe.SYMBOL_TABLE.length;t++){let a=Pe.SYMBOL_TABLE[t],r=a&1;for(let s=0;s<Pe.BARS_IN_MODULE;s++){let l=0;for(;(a&1)===r;)l+=1,a>>=1;r=a&1,Rn.RATIOS_TABLE[t]||(Rn.RATIOS_TABLE[t]=new Array(Pe.BARS_IN_MODULE)),Rn.RATIOS_TABLE[t][Pe.BARS_IN_MODULE-s-1]=Math.fround(l/Pe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let a=Rn.getDecodedCodewordValue(Rn.sampleBitCounts(t));return a!==-1?a:Rn.getClosestDecodedValue(t)}static sampleBitCounts(t){let a=lt.sum(t),r=new Int32Array(Pe.BARS_IN_MODULE),s=0,l=0;for(let c=0;c<Pe.MODULES_IN_CODEWORD;c++){let u=a/(2*Pe.MODULES_IN_CODEWORD)+c*a/Pe.MODULES_IN_CODEWORD;l+t[s]<=u&&(l+=t[s],s++),r[s]++}return r}static getDecodedCodewordValue(t){let a=Rn.getBitValue(t);return Pe.getCodeword(a)===-1?-1:a}static getBitValue(t){let a=0;for(let r=0;r<t.length;r++)for(let s=0;s<t[r];s++)a=a<<1|(r%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(t){let a=lt.sum(t),r=new Array(Pe.BARS_IN_MODULE);if(a>1)for(let c=0;c<r.length;c++)r[c]=Math.fround(t[c]/a);let s=ci.MAX_VALUE,l=-1;this.bSymbolTableReady||Rn.initialize();for(let c=0;c<Rn.RATIOS_TABLE.length;c++){let u=0,x=Rn.RATIOS_TABLE[c];for(let b=0;b<Pe.BARS_IN_MODULE;b++){let C=Math.fround(x[b]-r[b]);if(u+=Math.fround(C*C),u>=s)break}u<s&&(s=u,l=Pe.SYMBOL_TABLE[c])}return l}}Rn.bSymbolTableReady=!1,Rn.RATIOS_TABLE=new Array(Pe.SYMBOL_TABLE.length).map(v=>new Array(Pe.BARS_IN_MODULE));class Zi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Qi{static parseLong(t,a=void 0){return parseInt(t,a)}}class Mr extends E{}Mr.kind="NullPointerException";class Wi{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,a,r){if(t==null)throw new Mr;if(a<0||a>t.length||r<0||a+r>t.length||a+r<0)throw new ce;if(r===0)return;for(let s=0;s<r;s++)this.write(t[a+s])}flush(){}close(){}}class Xl extends E{}class xc extends Wi{constructor(t=32){if(super(),this.count=0,t<0)throw new L("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let r=this.buf.length<<1;if(r-t<0&&(r=t),r<0){if(t<0)throw new Xl;r=le.MAX_VALUE}this.buf=se.copyOfUint8Array(this.buf,r)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,a,r){if(a<0||a>t.length||r<0||a+r-t.length>0)throw new ce;this.ensureCapacity(this.count+r),Q.arraycopy(t,a,this.buf,this.count,r),this.count+=r}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return se.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var yt;(function(v){v[v.ALPHA=0]="ALPHA",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.PUNCT=3]="PUNCT",v[v.ALPHA_SHIFT=4]="ALPHA_SHIFT",v[v.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(yt||(yt={}));function ql(){if(typeof window<"u")return window.BigInt||null;if(typeof Jo<"u")return Jo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Or;function Ga(v){if(typeof Or>"u"&&(Or=ql()),Or===null)throw new Error("BigInt is not supported!");return Or(v)}function mc(){let v=[];v[0]=Ga(1);let t=Ga(900);v[1]=t;for(let a=2;a<16;a++)v[a]=v[a-1]*t;return v}class te{static decode(t,a){let r=new Te(""),s=oe.ISO8859_1;r.enableDecoding(s);let l=1,c=t[l++],u=new Zi;for(;l<t[0];){switch(c){case te.TEXT_COMPACTION_MODE_LATCH:l=te.textCompaction(t,l,r);break;case te.BYTE_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:l=te.byteCompaction(c,t,s,l,r);break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[l++]);break;case te.NUMERIC_COMPACTION_MODE_LATCH:l=te.numericCompaction(t,l,r);break;case te.ECI_CHARSET:oe.getCharacterSetECIByValue(t[l++]);break;case te.ECI_GENERAL_PURPOSE:l+=2;break;case te.ECI_USER_DEFINED:l++;break;case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=te.decodeMacroBlock(t,l,u);break;case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:throw new re;default:l--,l=te.textCompaction(t,l,r);break}if(l<t.length)c=t[l++];else throw re.getFormatInstance()}if(r.length()===0)throw re.getFormatInstance();let x=new Hn(null,r.toString(),null,a);return x.setOther(u),x}static decodeMacroBlock(t,a,r){if(a+te.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw re.getFormatInstance();let s=new Int32Array(te.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<te.NUMBER_OF_SEQUENCE_CODEWORDS;u++,a++)s[u]=t[a];r.setSegmentIndex(le.parseInt(te.decodeBase900toBase10(s,te.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Te;a=te.textCompaction(t,a,l),r.setFileId(l.toString());let c=-1;for(t[a]===te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=a+1);a<t[0];)switch(t[a]){case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,t[a]){case te.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Te;a=te.textCompaction(t,a+1,u),r.setFileName(u.toString());break;case te.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new Te;a=te.textCompaction(t,a+1,x),r.setSender(x.toString());break;case te.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let b=new Te;a=te.textCompaction(t,a+1,b),r.setAddressee(b.toString());break;case te.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Te;a=te.numericCompaction(t,a+1,C),r.setSegmentCount(le.parseInt(C.toString()));break;case te.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new Te;a=te.numericCompaction(t,a+1,N),r.setTimestamp(Qi.parseLong(N.toString()));break;case te.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Te;a=te.numericCompaction(t,a+1,T),r.setChecksum(le.parseInt(T.toString()));break;case te.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new Te;a=te.numericCompaction(t,a+1,B),r.setFileSize(Qi.parseLong(B.toString()));break;default:throw re.getFormatInstance()}break;case te.MACRO_PDF417_TERMINATOR:a++,r.setLastSegment(!0);break;default:throw re.getFormatInstance()}if(c!==-1){let u=a-c;r.isLastSegment()&&u--,r.setOptionalData(se.copyOfRange(t,c,c+u))}return a}static textCompaction(t,a,r){let s=new Int32Array((t[0]-a)*2),l=new Int32Array((t[0]-a)*2),c=0,u=!1;for(;a<t[0]&&!u;){let x=t[a++];if(x<te.TEXT_COMPACTION_MODE_LATCH)s[c]=x/30,s[c+1]=x%30,c+=2;else switch(x){case te.TEXT_COMPACTION_MODE_LATCH:s[c++]=te.TEXT_COMPACTION_MODE_LATCH;break;case te.BYTE_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:case te.NUMERIC_COMPACTION_MODE_LATCH:case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:a--,u=!0;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[c]=te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[a++],l[c]=x,c++;break}}return te.decodeTextCompaction(s,l,c,r),a}static decodeTextCompaction(t,a,r,s){let l=yt.ALPHA,c=yt.ALPHA,u=0;for(;u<r;){let x=t[u],b="";switch(l){case yt.ALPHA:if(x<26)b=String.fromCharCode(65+x);else switch(x){case 26:b=" ";break;case te.LL:l=yt.LOWER;break;case te.ML:l=yt.MIXED;break;case te.PS:c=l,l=yt.PUNCT_SHIFT;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[u]);break;case te.TEXT_COMPACTION_MODE_LATCH:l=yt.ALPHA;break}break;case yt.LOWER:if(x<26)b=String.fromCharCode(97+x);else switch(x){case 26:b=" ";break;case te.AS:c=l,l=yt.ALPHA_SHIFT;break;case te.ML:l=yt.MIXED;break;case te.PS:c=l,l=yt.PUNCT_SHIFT;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[u]);break;case te.TEXT_COMPACTION_MODE_LATCH:l=yt.ALPHA;break}break;case yt.MIXED:if(x<te.PL)b=te.MIXED_CHARS[x];else switch(x){case te.PL:l=yt.PUNCT;break;case 26:b=" ";break;case te.LL:l=yt.LOWER;break;case te.AL:l=yt.ALPHA;break;case te.PS:c=l,l=yt.PUNCT_SHIFT;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[u]);break;case te.TEXT_COMPACTION_MODE_LATCH:l=yt.ALPHA;break}break;case yt.PUNCT:if(x<te.PAL)b=te.PUNCT_CHARS[x];else switch(x){case te.PAL:l=yt.ALPHA;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[u]);break;case te.TEXT_COMPACTION_MODE_LATCH:l=yt.ALPHA;break}break;case yt.ALPHA_SHIFT:if(l=c,x<26)b=String.fromCharCode(65+x);else switch(x){case 26:b=" ";break;case te.TEXT_COMPACTION_MODE_LATCH:l=yt.ALPHA;break}break;case yt.PUNCT_SHIFT:if(l=c,x<te.PAL)b=te.PUNCT_CHARS[x];else switch(x){case te.PAL:l=yt.ALPHA;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[u]);break;case te.TEXT_COMPACTION_MODE_LATCH:l=yt.ALPHA;break}break}b!==""&&s.append(b),u++}}static byteCompaction(t,a,r,s,l){let c=new xc,u=0,x=0,b=!1;switch(t){case te.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),N=a[s++];for(;s<a[0]&&!b;)switch(C[u++]=N,x=900*x+N,N=a[s++],N){case te.TEXT_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH:case te.NUMERIC_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:s--,b=!0;break;default:if(u%5===0&&u>0){for(let T=0;T<6;++T)c.write(Number(Ga(x)>>Ga(8*(5-T))));x=0,u=0}break}s===a[0]&&N<te.TEXT_COMPACTION_MODE_LATCH&&(C[u++]=N);for(let T=0;T<u;T++)c.write(C[T]);break;case te.BYTE_COMPACTION_MODE_LATCH_6:for(;s<a[0]&&!b;){let T=a[s++];if(T<te.TEXT_COMPACTION_MODE_LATCH)u++,x=900*x+T;else switch(T){case te.TEXT_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH:case te.NUMERIC_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:s--,b=!0;break}if(u%5===0&&u>0){for(let B=0;B<6;++B)c.write(Number(Ga(x)>>Ga(8*(5-B))));x=0,u=0}}break}return l.append(Oe.decode(c.toByteArray(),r)),s}static numericCompaction(t,a,r){let s=0,l=!1,c=new Int32Array(te.MAX_NUMERIC_CODEWORDS);for(;a<t[0]&&!l;){let u=t[a++];if(a===t[0]&&(l=!0),u<te.TEXT_COMPACTION_MODE_LATCH)c[s]=u,s++;else switch(u){case te.TEXT_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:a--,l=!0;break}(s%te.MAX_NUMERIC_CODEWORDS===0||u===te.NUMERIC_COMPACTION_MODE_LATCH||l)&&s>0&&(r.append(te.decodeBase900toBase10(c,s)),s=0)}return a}static decodeBase900toBase10(t,a){let r=Ga(0);for(let l=0;l<a;l++)r+=te.EXP900[a-l-1]*Ga(t[l]);let s=r.toString();if(s.charAt(0)!=="1")throw new re;return s.substring(1)}}te.TEXT_COMPACTION_MODE_LATCH=900,te.BYTE_COMPACTION_MODE_LATCH=901,te.NUMERIC_COMPACTION_MODE_LATCH=902,te.BYTE_COMPACTION_MODE_LATCH_6=924,te.ECI_USER_DEFINED=925,te.ECI_GENERAL_PURPOSE=926,te.ECI_CHARSET=927,te.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,te.MACRO_PDF417_TERMINATOR=922,te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,te.MAX_NUMERIC_CODEWORDS=15,te.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,te.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,te.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,te.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,te.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,te.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,te.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,te.PL=25,te.LL=27,te.AS=27,te.ML=28,te.AL=28,te.PS=29,te.PAL=29,te.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,te.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",te.EXP900=ql()?mc():[],te.NUMBER_OF_SEQUENCE_CODEWORDS=2;class We{constructor(){}static decode(t,a,r,s,l,c,u){let x=new za(t,a,r,s,l),b=null,C=null,N;for(let U=!0;;U=!1){if(a!=null&&(b=We.getRowIndicatorColumn(t,x,a,!0,c,u)),s!=null&&(C=We.getRowIndicatorColumn(t,x,s,!1,c,u)),N=We.merge(b,C),N==null)throw X.getNotFoundInstance();let z=N.getBoundingBox();if(U&&z!=null&&(z.getMinY()<x.getMinY()||z.getMaxY()>x.getMaxY()))x=z;else break}N.setBoundingBox(x);let T=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,b),N.setDetectionResultColumn(T,C);let B=b!=null;for(let U=1;U<=T;U++){let z=B?U:T-U;if(N.getDetectionResultColumn(z)!==void 0)continue;let G;z===0||z===T?G=new Fa(x,z===0):G=new Ir(x),N.setDetectionResultColumn(z,G);let $=-1,pe=$;for(let we=x.getMinY();we<=x.getMaxY();we++){if($=We.getStartColumn(N,z,we,B),$<0||$>x.getMaxX()){if(pe===-1)continue;$=pe}let me=We.detectCodeword(t,x.getMinX(),x.getMaxX(),B,$,we,c,u);me!=null&&(G.setCodeword(we,me),pe=$,c=Math.min(c,me.getWidth()),u=Math.max(u,me.getWidth()))}}return We.createDecoderResult(N)}static merge(t,a){if(t==null&&a==null)return null;let r=We.getBarcodeMetadata(t,a);if(r==null)return null;let s=za.merge(We.adjustBoundingBox(t),We.adjustBoundingBox(a));return new Ha(r,s)}static adjustBoundingBox(t){if(t==null)return null;let a=t.getRowHeights();if(a==null)return null;let r=We.getMax(a),s=0;for(let u of a)if(s+=r-u,u>0)break;let l=t.getCodewords();for(let u=0;s>0&&l[u]==null;u++)s--;let c=0;for(let u=a.length-1;u>=0&&(c+=r-a[u],!(a[u]>0));u--);for(let u=l.length-1;c>0&&l[u]==null;u--)c--;return t.getBoundingBox().addMissingRows(s,c,t.isLeft())}static getMax(t){let a=-1;for(let r of t)a=Math.max(a,r);return a}static getBarcodeMetadata(t,a){let r;if(t==null||(r=t.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let s;return a==null||(s=a.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(t,a,r,s,l,c){let u=new Fa(a,s);for(let x=0;x<2;x++){let b=x===0?1:-1,C=Math.trunc(Math.trunc(r.getX()));for(let N=Math.trunc(Math.trunc(r.getY()));N<=a.getMaxY()&&N>=a.getMinY();N+=b){let T=We.detectCodeword(t,0,t.getWidth(),s,C,N,l,c);T!=null&&(u.setCodeword(N,T),s?C=T.getStartX():C=T.getEndX())}}return u}static adjustCodewordCount(t,a){let r=a[0][1],s=r.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-We.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(l<1||l>Pe.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();r.setValue(l)}else s[0]!==l&&r.setValue(l)}static createDecoderResult(t){let a=We.createBarcodeMatrix(t);We.adjustCodewordCount(t,a);let r=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],c=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let b=0;b<t.getBarcodeColumnCount();b++){let C=a[x][b+1].getValue(),N=x*t.getBarcodeColumnCount()+b;C.length===0?r.push(N):C.length===1?s[N]=C[0]:(c.push(N),l.push(C))}let u=new Array(l.length);for(let x=0;x<u.length;x++)u[x]=l[x];return We.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,Pe.toIntArray(r),Pe.toIntArray(c),u)}static createDecoderResultFromAmbiguousValues(t,a,r,s,l){let c=new Int32Array(s.length),u=100;for(;u-- >0;){for(let x=0;x<c.length;x++)a[s[x]]=l[x][c[x]];try{return We.decodeCodewords(a,t,r)}catch(x){if(!(x instanceof ie))throw x}if(c.length===0)throw ie.getChecksumInstance();for(let x=0;x<c.length;x++)if(c[x]<l[x].length-1){c[x]++;break}else if(c[x]=0,x===c.length-1)throw ie.getChecksumInstance()}throw ie.getChecksumInstance()}static createBarcodeMatrix(t){let a=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let s=0;s<a.length;s++)for(let l=0;l<a[s].length;l++)a[s][l]=new sn;let r=0;for(let s of t.getDetectionResultColumns()){if(s!=null){for(let l of s.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=0){if(c>=a.length)continue;a[c][r].setValue(l.getValue())}}}r++}return a}static isValidBarcodeColumn(t,a){return a>=0&&a<=t.getBarcodeColumnCount()+1}static getStartColumn(t,a,r,s){let l=s?1:-1,c=null;if(We.isValidBarcodeColumn(t,a-l)&&(c=t.getDetectionResultColumn(a-l).getCodeword(r)),c!=null)return s?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(a).getCodewordNearby(r),c!=null)return s?c.getStartX():c.getEndX();if(We.isValidBarcodeColumn(t,a-l)&&(c=t.getDetectionResultColumn(a-l).getCodewordNearby(r)),c!=null)return s?c.getEndX():c.getStartX();let u=0;for(;We.isValidBarcodeColumn(t,a-l);){a-=l;for(let x of t.getDetectionResultColumn(a).getCodewords())if(x!=null)return(s?x.getEndX():x.getStartX())+l*u*(x.getEndX()-x.getStartX());u++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,a,r,s,l,c,u,x){l=We.adjustCodewordStartColumn(t,a,r,s,l,c);let b=We.getModuleBitCount(t,a,r,s,l,c);if(b==null)return null;let C,N=lt.sum(b);if(s)C=l+N;else{for(let U=0;U<b.length/2;U++){let z=b[U];b[U]=b[b.length-1-U],b[b.length-1-U]=z}C=l,l=C-N}if(!We.checkCodewordSkew(N,u,x))return null;let T=Rn.getDecodedValue(b),B=Pe.getCodeword(T);return B===-1?null:new Na(l,C,We.getCodewordBucketNumber(T),B)}static getModuleBitCount(t,a,r,s,l,c){let u=l,x=new Int32Array(8),b=0,C=s?1:-1,N=s;for(;(s?u<r:u>=a)&&b<x.length;)t.get(u,c)===N?(x[b]++,u+=C):(b++,N=!N);return b===x.length||u===(s?r:a)&&b===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,a,r,s,l,c){let u=l,x=s?-1:1;for(let b=0;b<2;b++){for(;(s?u>=a:u<r)&&s===t.get(u,c);){if(Math.abs(l-u)>We.CODEWORD_SKEW_SIZE)return l;u+=x}x=-x,s=!s}return u}static checkCodewordSkew(t,a,r){return a-We.CODEWORD_SKEW_SIZE<=t&&t<=r+We.CODEWORD_SKEW_SIZE}static decodeCodewords(t,a,r){if(t.length===0)throw re.getFormatInstance();let s=1<<a+1,l=We.correctErrors(t,r,s);We.verifyCodewordCount(t,s);let c=te.decode(t,""+a);return c.setErrorsCorrected(l),c.setErasures(r.length),c}static correctErrors(t,a,r){if(a!=null&&a.length>r/2+We.MAX_ERRORS||r<0||r>We.MAX_EC_CODEWORDS)throw ie.getChecksumInstance();return We.errorCorrection.decode(t,r,a)}static verifyCodewordCount(t,a){if(t.length<4)throw re.getFormatInstance();let r=t[0];if(r>t.length)throw re.getFormatInstance();if(r===0)if(a<t.length)t[0]=t.length-a;else throw re.getFormatInstance()}static getBitCountForCodeword(t){let a=new Int32Array(8),r=0,s=a.length-1;for(;!((t&1)!==r&&(r=t&1,s--,s<0));)a[s]++,t>>=1;return a}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return We.getCodewordBucketNumber(We.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let a=new Pa;for(let r=0;r<t.length;r++){a.format("Row %2d: ",r);for(let s=0;s<t[r].length;s++){let l=t[r][s];l.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}a.format("%n")}return a.toString()}}We.CODEWORD_SKEW_SIZE=2,We.MAX_ERRORS=3,We.MAX_EC_CODEWORDS=512,We.errorCorrection=new xi;class gn{decode(t,a=null){let r=gn.decode(t,a,!1);if(r==null||r.length===0||r[0]==null)throw X.getNotFoundInstance();return r[0]}decodeMultiple(t,a=null){try{return gn.decode(t,a,!0)}catch(r){throw r instanceof re||r instanceof ie?X.getNotFoundInstance():r}}static decode(t,a,r){const s=new Array,l=qe.detectMultiple(t,a,r);for(const c of l.getPoints()){const u=We.decode(l.getBits(),c[4],c[5],c[6],c[7],gn.getMinCodewordWidth(c),gn.getMaxCodewordWidth(c)),x=new De(u.getText(),u.getRawBytes(),void 0,c,ye.PDF_417);x.putMetadata(Qe.ERROR_CORRECTION_LEVEL,u.getECLevel());const b=u.getOther();b!=null&&x.putMetadata(Qe.PDF417_EXTRA_METADATA,b),s.push(x)}return s.map(c=>c)}static getMaxWidth(t,a){return t==null||a==null?0:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMinWidth(t,a){return t==null||a==null?le.MAX_VALUE:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(gn.getMaxWidth(t[0],t[4]),gn.getMaxWidth(t[6],t[2])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN),Math.max(gn.getMaxWidth(t[1],t[5]),gn.getMaxWidth(t[7],t[3])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(gn.getMinWidth(t[0],t[4]),gn.getMinWidth(t[6],t[2])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN),Math.min(gn.getMinWidth(t[1],t[5]),gn.getMinWidth(t[7],t[3])*Pe.MODULES_IN_CODEWORD/Pe.MODULES_IN_STOP_PATTERN)))}reset(){}}class mi extends E{}mi.kind="ReaderException";class Zl{constructor(t,a){this.verbose=t===!0,a&&this.setHints(a)}decode(t,a){return a&&this.setHints(a),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const a=!y(t)&&t.get(ne.TRY_HARDER)===!0,r=y(t)?null:t.get(ne.POSSIBLE_FORMATS),s=new Array;if(!y(r)){const l=r.some(c=>c===ye.UPC_A||c===ye.UPC_E||c===ye.EAN_13||c===ye.EAN_8||c===ye.CODABAR||c===ye.CODE_39||c===ye.CODE_93||c===ye.CODE_128||c===ye.ITF||c===ye.RSS_14||c===ye.RSS_EXPANDED);l&&!a&&s.push(new La(t,this.verbose)),r.includes(ye.QR_CODE)&&s.push(new Sa),r.includes(ye.DATA_MATRIX)&&s.push(new Jn),r.includes(ye.AZTEC)&&s.push(new zi),r.includes(ye.PDF_417)&&s.push(new gn),l&&a&&s.push(new La(t,this.verbose))}s.length===0&&(a||s.push(new La(t,this.verbose)),s.push(new Sa),s.push(new Jn),s.push(new zi),s.push(new gn),a&&s.push(new La(t,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new mi("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(t,this.hints)}catch(r){if(r instanceof mi)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class pc extends ve{constructor(t=null,a=500){const r=new Zl;r.setHints(t),super(r,a)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class yc extends ve{constructor(t=500){super(new gn,t)}}class bc extends ve{constructor(t=500){super(new Sa,t)}}var pi;(function(v){v[v.ERROR_CORRECTION=0]="ERROR_CORRECTION",v[v.CHARACTER_SET=1]="CHARACTER_SET",v[v.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",v[v.MIN_SIZE=3]="MIN_SIZE",v[v.MAX_SIZE=4]="MAX_SIZE",v[v.MARGIN=5]="MARGIN",v[v.PDF417_COMPACT=6]="PDF417_COMPACT",v[v.PDF417_COMPACTION=7]="PDF417_COMPACTION",v[v.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",v[v.AZTEC_LAYERS=9]="AZTEC_LAYERS",v[v.QR_VERSION=10]="QR_VERSION"})(pi||(pi={}));var tn=pi;class Us{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new cn(t,Int32Array.from([1])))}buildGenerator(t){const a=this.cachedGenerators;if(t>=a.length){let r=a[a.length-1];const s=this.field;for(let l=a.length;l<=t;l++){const c=r.multiply(new cn(s,Int32Array.from([1,s.exp(l-1+s.getGeneratorBase())])));a.push(c),r=c}}return a[t]}encode(t,a){if(a===0)throw new L("No error correction bytes");const r=t.length-a;if(r<=0)throw new L("No data bytes provided");const s=this.buildGenerator(a),l=new Int32Array(r);Q.arraycopy(t,0,l,0,r);let c=new cn(this.field,l);c=c.multiplyByMonomial(a,1);const x=c.divide(s)[1].getCoefficients(),b=a-x.length;for(let C=0;C<b;C++)t[r+C]=0;Q.arraycopy(x,0,t,r+b,x.length)}}class Ft{constructor(){}static applyMaskPenaltyRule1(t){return Ft.applyMaskPenaltyRule1Internal(t,!0)+Ft.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let a=0;const r=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let c=0;c<l-1;c++){const u=r[c];for(let x=0;x<s-1;x++){const b=u[x];b===u[x+1]&&b===r[c+1][x]&&b===r[c+1][x+1]&&a++}}return Ft.N2*a}static applyMaskPenaltyRule3(t){let a=0;const r=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let c=0;c<l;c++)for(let u=0;u<s;u++){const x=r[c];u+6<s&&x[u]===1&&x[u+1]===0&&x[u+2]===1&&x[u+3]===1&&x[u+4]===1&&x[u+5]===0&&x[u+6]===1&&(Ft.isWhiteHorizontal(x,u-4,u)||Ft.isWhiteHorizontal(x,u+7,u+11))&&a++,c+6<l&&r[c][u]===1&&r[c+1][u]===0&&r[c+2][u]===1&&r[c+3][u]===1&&r[c+4][u]===1&&r[c+5][u]===0&&r[c+6][u]===1&&(Ft.isWhiteVertical(r,u,c-4,c)||Ft.isWhiteVertical(r,u,c+7,c+11))&&a++}return a*Ft.N3}static isWhiteHorizontal(t,a,r){a=Math.max(a,0),r=Math.min(r,t.length);for(let s=a;s<r;s++)if(t[s]===1)return!1;return!0}static isWhiteVertical(t,a,r,s){r=Math.max(r,0),s=Math.min(s,t.length);for(let l=r;l<s;l++)if(t[l][a]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let a=0;const r=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let x=0;x<l;x++){const b=r[x];for(let C=0;C<s;C++)b[C]===1&&a++}const c=t.getHeight()*t.getWidth();return Math.floor(Math.abs(a*2-c)*10/c)*Ft.N4}static getDataMaskBit(t,a,r){let s,l;switch(t){case 0:s=r+a&1;break;case 1:s=r&1;break;case 2:s=a%3;break;case 3:s=(r+a)%3;break;case 4:s=Math.floor(r/2)+Math.floor(a/3)&1;break;case 5:l=r*a,s=(l&1)+l%3;break;case 6:l=r*a,s=(l&1)+l%3&1;break;case 7:l=r*a,s=l%3+(r+a&1)&1;break;default:throw new L("Invalid mask pattern: "+t)}return s===0}static applyMaskPenaltyRule1Internal(t,a){let r=0;const s=a?t.getHeight():t.getWidth(),l=a?t.getWidth():t.getHeight(),c=t.getArray();for(let u=0;u<s;u++){let x=0,b=-1;for(let C=0;C<l;C++){const N=a?c[u][C]:c[C][u];N===b?x++:(x>=5&&(r+=Ft.N1+(x-5)),x=1,b=N)}x>=5&&(r+=Ft.N1+(x-5))}return r}}Ft.N1=3,Ft.N2=3,Ft.N3=40,Ft.N4=10;class yi{constructor(t,a){this.width=t,this.height=a;const r=new Array(a);for(let s=0;s!==a;s++)r[s]=new Uint8Array(t);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(t,a){return this.bytes[a][t]}getArray(){return this.bytes}setNumber(t,a,r){this.bytes[a][t]=r}setBoolean(t,a,r){this.bytes[a][t]=r?1:0}clear(t){for(const a of this.bytes)se.fill(a,t)}equals(t){if(!(t instanceof yi))return!1;const a=t;if(this.width!==a.width||this.height!==a.height)return!1;for(let r=0,s=this.height;r<s;++r){const l=this.bytes[r],c=a.bytes[r];for(let u=0,x=this.width;u<x;++u)if(l[u]!==c[u])return!1}return!0}toString(){const t=new Te;for(let a=0,r=this.height;a<r;++a){const s=this.bytes[a];for(let l=0,c=this.width;l<c;++l)switch(s[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class rr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Te;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<rr.NUM_MASK_PATTERNS}}rr.NUM_MASK_PATTERNS=8;class At extends E{}At.kind="WriterException";class Fe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,a,r,s,l){Fe.clearMatrix(l),Fe.embedBasicPatterns(r,l),Fe.embedTypeInfo(a,s,l),Fe.maybeEmbedVersionInfo(r,l),Fe.embedDataBits(t,s,l)}static embedBasicPatterns(t,a){Fe.embedPositionDetectionPatternsAndSeparators(a),Fe.embedDarkDotAtLeftBottomCorner(a),Fe.maybeEmbedPositionAdjustmentPatterns(t,a),Fe.embedTimingPatterns(a)}static embedTypeInfo(t,a,r){const s=new Se;Fe.makeTypeInfoBits(t,a,s);for(let l=0,c=s.getSize();l<c;++l){const u=s.get(s.getSize()-1-l),x=Fe.TYPE_INFO_COORDINATES[l],b=x[0],C=x[1];if(r.setBoolean(b,C,u),l<8){const N=r.getWidth()-l-1;r.setBoolean(N,8,u)}else{const T=r.getHeight()-7+(l-8);r.setBoolean(8,T,u)}}}static maybeEmbedVersionInfo(t,a){if(t.getVersionNumber()<7)return;const r=new Se;Fe.makeVersionInfoBits(t,r);let s=6*3-1;for(let l=0;l<6;++l)for(let c=0;c<3;++c){const u=r.get(s);s--,a.setBoolean(l,a.getHeight()-11+c,u),a.setBoolean(a.getHeight()-11+c,l,u)}}static embedDataBits(t,a,r){let s=0,l=-1,c=r.getWidth()-1,u=r.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);u>=0&&u<r.getHeight();){for(let x=0;x<2;++x){const b=c-x;if(!Fe.isEmpty(r.get(b,u)))continue;let C;s<t.getSize()?(C=t.get(s),++s):C=!1,a!==255&&Ft.getDataMaskBit(a,b,u)&&(C=!C),r.setBoolean(b,u,C)}u+=l}l=-l,u+=l,c-=2}if(s!==t.getSize())throw new At("Not all bits consumed: "+s+"/"+t.getSize())}static findMSBSet(t){return 32-le.numberOfLeadingZeros(t)}static calculateBCHCode(t,a){if(a===0)throw new L("0 polynomial");const r=Fe.findMSBSet(a);for(t<<=r-1;Fe.findMSBSet(t)>=r;)t^=a<<Fe.findMSBSet(t)-r;return t}static makeTypeInfoBits(t,a,r){if(!rr.isValidMaskPattern(a))throw new At("Invalid mask pattern");const s=t.getBits()<<3|a;r.appendBits(s,5);const l=Fe.calculateBCHCode(s,Fe.TYPE_INFO_POLY);r.appendBits(l,10);const c=new Se;if(c.appendBits(Fe.TYPE_INFO_MASK_PATTERN,15),r.xor(c),r.getSize()!==15)throw new At("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(t,a){a.appendBits(t.getVersionNumber(),6);const r=Fe.calculateBCHCode(t.getVersionNumber(),Fe.VERSION_INFO_POLY);if(a.appendBits(r,12),a.getSize()!==18)throw new At("should not happen but we got: "+a.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let a=8;a<t.getWidth()-8;++a){const r=(a+1)%2;Fe.isEmpty(t.get(a,6))&&t.setNumber(a,6,r),Fe.isEmpty(t.get(6,a))&&t.setNumber(6,a,r)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new At;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,a,r){for(let s=0;s<8;++s){if(!Fe.isEmpty(r.get(t+s,a)))throw new At;r.setNumber(t+s,a,0)}}static embedVerticalSeparationPattern(t,a,r){for(let s=0;s<7;++s){if(!Fe.isEmpty(r.get(t,a+s)))throw new At;r.setNumber(t,a+s,0)}}static embedPositionAdjustmentPattern(t,a,r){for(let s=0;s<5;++s){const l=Fe.POSITION_ADJUSTMENT_PATTERN[s];for(let c=0;c<5;++c)r.setNumber(t+c,a+s,l[c])}}static embedPositionDetectionPattern(t,a,r){for(let s=0;s<7;++s){const l=Fe.POSITION_DETECTION_PATTERN[s];for(let c=0;c<7;++c)r.setNumber(t+c,a+s,l[c])}}static embedPositionDetectionPatternsAndSeparators(t){const a=Fe.POSITION_DETECTION_PATTERN[0].length;Fe.embedPositionDetectionPattern(0,0,t),Fe.embedPositionDetectionPattern(t.getWidth()-a,0,t),Fe.embedPositionDetectionPattern(0,t.getWidth()-a,t);const r=8;Fe.embedHorizontalSeparationPattern(0,r-1,t),Fe.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),Fe.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);const s=7;Fe.embedVerticalSeparationPattern(s,0,t),Fe.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),Fe.embedVerticalSeparationPattern(s,t.getHeight()-s,t)}static maybeEmbedPositionAdjustmentPatterns(t,a){if(t.getVersionNumber()<2)return;const r=t.getVersionNumber()-1,s=Fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let l=0,c=s.length;l!==c;l++){const u=s[l];if(u>=0)for(let x=0;x!==c;x++){const b=s[x];b>=0&&Fe.isEmpty(a.get(b,u))&&Fe.embedPositionAdjustmentPattern(b-2,u-2,a)}}}}Fe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Fe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Fe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Fe.VERSION_INFO_POLY=7973,Fe.TYPE_INFO_POLY=1335,Fe.TYPE_INFO_MASK_PATTERN=21522;class wc{constructor(t,a){this.dataBytes=t,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Rt{constructor(){}static calculateMaskPenalty(t){return Ft.applyMaskPenaltyRule1(t)+Ft.applyMaskPenaltyRule2(t)+Ft.applyMaskPenaltyRule3(t)+Ft.applyMaskPenaltyRule4(t)}static encode(t,a,r=null){let s=Rt.DEFAULT_BYTE_MODE_ENCODING;const l=r!==null&&r.get(tn.CHARACTER_SET)!==void 0;l&&(s=r.get(tn.CHARACTER_SET).toString());const c=this.chooseMode(t,s),u=new Se;if(c===Ue.BYTE&&(l||Rt.DEFAULT_BYTE_MODE_ENCODING!==s)){const we=oe.getCharacterSetECIByName(s);we!==void 0&&this.appendECI(we,u)}this.appendModeInfo(c,u);const x=new Se;this.appendBytes(t,c,x,s);let b;if(r!==null&&r.get(tn.QR_VERSION)!==void 0){const we=Number.parseInt(r.get(tn.QR_VERSION).toString(),10);b=ke.getVersionForNumber(we);const me=this.calculateBitsNeeded(c,u,x,b);if(!this.willFit(me,b,a))throw new At("Data too big for requested version")}else b=this.recommendVersion(a,c,u,x);const C=new Se;C.appendBitArray(u);const N=c===Ue.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(N,b,c,C),C.appendBitArray(x);const T=b.getECBlocksForLevel(a),B=b.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(B,C);const U=this.interleaveWithECBytes(C,b.getTotalCodewords(),B,T.getNumBlocks()),z=new rr;z.setECLevel(a),z.setMode(c),z.setVersion(b);const G=b.getDimensionForVersion(),$=new yi(G,G),pe=this.chooseMaskPattern(U,a,b,$);return z.setMaskPattern(pe),Fe.buildMatrix(U,a,b,pe,$),z.setMatrix($),z}static recommendVersion(t,a,r,s){const l=this.calculateBitsNeeded(a,r,s,ke.getVersionForNumber(1)),c=this.chooseVersion(l,t),u=this.calculateBitsNeeded(a,r,s,c);return this.chooseVersion(u,t)}static calculateBitsNeeded(t,a,r,s){return a.getSize()+t.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(t){return t<Rt.ALPHANUMERIC_TABLE.length?Rt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,a=null){if(oe.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(t))return Ue.KANJI;let r=!1,s=!1;for(let l=0,c=t.length;l<c;++l){const u=t.charAt(l);if(Rt.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)s=!0;else return Ue.BYTE}return s?Ue.ALPHANUMERIC:r?Ue.NUMERIC:Ue.BYTE}static isOnlyDoubleByteKanji(t){let a;try{a=Oe.encode(t,oe.SJIS)}catch{return!1}const r=a.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const l=a[s]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,a,r,s){let l=Number.MAX_SAFE_INTEGER,c=-1;for(let u=0;u<rr.NUM_MASK_PATTERNS;u++){Fe.buildMatrix(t,a,r,u,s);let x=this.calculateMaskPenalty(s);x<l&&(l=x,c=u)}return c}static chooseVersion(t,a){for(let r=1;r<=40;r++){const s=ke.getVersionForNumber(r);if(Rt.willFit(t,s,a))return s}throw new At("Data too big")}static willFit(t,a,r){const s=a.getTotalCodewords(),c=a.getECBlocksForLevel(r).getTotalECCodewords(),u=s-c,x=(t+7)/8;return u>=x}static terminateBits(t,a){const r=t*8;if(a.getSize()>r)throw new At("data bits cannot fit in the QR Code"+a.getSize()+" > "+r);for(let c=0;c<4&&a.getSize()<r;++c)a.appendBit(!1);const s=a.getSize()&7;if(s>0)for(let c=s;c<8;c++)a.appendBit(!1);const l=t-a.getSizeInBytes();for(let c=0;c<l;++c)a.appendBits((c&1)===0?236:17,8);if(a.getSize()!==r)throw new At("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,a,r,s,l,c){if(s>=r)throw new At("Block ID too large");const u=t%r,x=r-u,b=Math.floor(t/r),C=b+1,N=Math.floor(a/r),T=N+1,B=b-N,U=C-T;if(B!==U)throw new At("EC bytes mismatch");if(r!==x+u)throw new At("RS blocks mismatch");if(t!==(N+B)*x+(T+U)*u)throw new At("Total bytes mismatch");s<x?(l[0]=N,c[0]=B):(l[0]=T,c[0]=U)}static interleaveWithECBytes(t,a,r,s){if(t.getSizeInBytes()!==r)throw new At("Number of bits and data bytes does not match");let l=0,c=0,u=0;const x=new Array;for(let C=0;C<s;++C){const N=new Int32Array(1),T=new Int32Array(1);Rt.getNumDataBytesAndNumECBytesForBlockID(a,r,s,C,N,T);const B=N[0],U=new Uint8Array(B);t.toBytes(8*l,U,0,B);const z=Rt.generateECBytes(U,T[0]);x.push(new wc(U,z)),c=Math.max(c,B),u=Math.max(u,z.length),l+=N[0]}if(r!==l)throw new At("Data bytes does not match offset");const b=new Se;for(let C=0;C<c;++C)for(const N of x){const T=N.getDataBytes();C<T.length&&b.appendBits(T[C],8)}for(let C=0;C<u;++C)for(const N of x){const T=N.getErrorCorrectionBytes();C<T.length&&b.appendBits(T[C],8)}if(a!==b.getSizeInBytes())throw new At("Interleaving error: "+a+" and "+b.getSizeInBytes()+" differ.");return b}static generateECBytes(t,a){const r=t.length,s=new Int32Array(r+a);for(let c=0;c<r;c++)s[c]=t[c]&255;new Us(ct.QR_CODE_FIELD_256).encode(s,a);const l=new Uint8Array(a);for(let c=0;c<a;c++)l[c]=s[r+c];return l}static appendModeInfo(t,a){a.appendBits(t.getBits(),4)}static appendLengthInfo(t,a,r,s){const l=r.getCharacterCountBits(a);if(t>=1<<l)throw new At(t+" is bigger than "+((1<<l)-1));s.appendBits(t,l)}static appendBytes(t,a,r,s){switch(a){case Ue.NUMERIC:Rt.appendNumericBytes(t,r);break;case Ue.ALPHANUMERIC:Rt.appendAlphanumericBytes(t,r);break;case Ue.BYTE:Rt.append8BitBytes(t,r,s);break;case Ue.KANJI:Rt.appendKanjiBytes(t,r);break;default:throw new At("Invalid mode: "+a)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const a=Rt.getDigit(t);return a>=0&&a<=9}static appendNumericBytes(t,a){const r=t.length;let s=0;for(;s<r;){const l=Rt.getDigit(t.charAt(s));if(s+2<r){const c=Rt.getDigit(t.charAt(s+1)),u=Rt.getDigit(t.charAt(s+2));a.appendBits(l*100+c*10+u,10),s+=3}else if(s+1<r){const c=Rt.getDigit(t.charAt(s+1));a.appendBits(l*10+c,7),s+=2}else a.appendBits(l,4),s++}}static appendAlphanumericBytes(t,a){const r=t.length;let s=0;for(;s<r;){const l=Rt.getAlphanumericCode(t.charCodeAt(s));if(l===-1)throw new At;if(s+1<r){const c=Rt.getAlphanumericCode(t.charCodeAt(s+1));if(c===-1)throw new At;a.appendBits(l*45+c,11),s+=2}else a.appendBits(l,6),s++}}static append8BitBytes(t,a,r){let s;try{s=Oe.encode(t,r)}catch(l){throw new At(l)}for(let l=0,c=s.length;l!==c;l++){const u=s[l];a.appendBits(u,8)}}static appendKanjiBytes(t,a){let r;try{r=Oe.encode(t,oe.SJIS)}catch(l){throw new At(l)}const s=r.length;for(let l=0;l<s;l+=2){const c=r[l]&255,u=r[l+1]&255,x=c<<8&4294967295|u;let b=-1;if(x>=33088&&x<=40956?b=x-33088:x>=57408&&x<=60351&&(b=x-49472),b===-1)throw new At("Invalid byte sequence");const C=(b>>8)*192+(b&255);a.appendBits(C,13)}}static appendECI(t,a){a.appendBits(Ue.ECI.getBits(),4),a.appendBits(t.getValue(),8)}}Rt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Rt.DEFAULT_BYTE_MODE_ENCODING=oe.UTF8.getName();class ir{write(t,a,r,s=null){if(t.length===0)throw new L("Found empty contents");if(a<0||r<0)throw new L("Requested dimensions are too small: "+a+"x"+r);let l=pt.L,c=ir.QUIET_ZONE_SIZE;s!==null&&(s.get(tn.ERROR_CORRECTION)!==void 0&&(l=pt.fromString(s.get(tn.ERROR_CORRECTION).toString())),s.get(tn.MARGIN)!==void 0&&(c=Number.parseInt(s.get(tn.MARGIN).toString(),10)));const u=Rt.encode(t,l,s);return this.renderResult(u,a,r,c)}writeToDom(t,a,r,s,l=null){typeof t=="string"&&(t=document.querySelector(t));const c=this.write(a,r,s,l);t&&t.appendChild(c)}renderResult(t,a,r,s){const l=t.getMatrix();if(l===null)throw new ca;const c=l.getWidth(),u=l.getHeight(),x=c+s*2,b=u+s*2,C=Math.max(a,x),N=Math.max(r,b),T=Math.min(Math.floor(C/x),Math.floor(N/b)),B=Math.floor((C-c*T)/2),U=Math.floor((N-u*T)/2),z=this.createSVGElement(C,N);for(let G=0,$=U;G<u;G++,$+=T)for(let pe=0,we=B;pe<c;pe++,we+=T)if(l.get(pe,G)===1){const me=this.createSvgRectElement(we,$,T,T);z.appendChild(me)}return z}createSVGElement(t,a){const r=document.createElementNS(ir.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",a.toString()),r}createSvgRectElement(t,a,r,s){const l=document.createElementNS(ir.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",a.toString()),l.setAttributeNS(null,"height",r.toString()),l.setAttributeNS(null,"width",s.toString()),l.setAttributeNS(null,"fill","#000000"),l}}ir.QUIET_ZONE_SIZE=4,ir.SVG_NS="http://www.w3.org/2000/svg";class Dr{encode(t,a,r,s,l){if(t.length===0)throw new L("Found empty contents");if(a!==ye.QR_CODE)throw new L("Can only encode QR_CODE, but got "+a);if(r<0||s<0)throw new L(`Requested dimensions are too small: ${r}x${s}`);let c=pt.L,u=Dr.QUIET_ZONE_SIZE;l!==null&&(l.get(tn.ERROR_CORRECTION)!==void 0&&(c=pt.fromString(l.get(tn.ERROR_CORRECTION).toString())),l.get(tn.MARGIN)!==void 0&&(u=Number.parseInt(l.get(tn.MARGIN).toString(),10)));const x=Rt.encode(t,c,l);return Dr.renderResult(x,r,s,u)}static renderResult(t,a,r,s){const l=t.getMatrix();if(l===null)throw new ca;const c=l.getWidth(),u=l.getHeight(),x=c+s*2,b=u+s*2,C=Math.max(a,x),N=Math.max(r,b),T=Math.min(Math.floor(C/x),Math.floor(N/b)),B=Math.floor((C-c*T)/2),U=Math.floor((N-u*T)/2),z=new tt(C,N);for(let G=0,$=U;G<u;G++,$+=T)for(let pe=0,we=B;pe<c;pe++,we+=T)l.get(pe,G)===1&&z.setRegion(we,$,T,T);return z}}Dr.QUIET_ZONE_SIZE=4;class Ac{encode(t,a,r,s,l){let c;switch(a){case ye.QR_CODE:c=new Dr;break;default:throw new L("No encoder available for format "+a)}return c.encode(t,a,r,s,l)}}class fa extends je{constructor(t,a,r,s,l,c,u,x){if(super(c,u),this.yuvData=t,this.dataWidth=a,this.dataHeight=r,this.left=s,this.top=l,s+c>a||l+u>r)throw new L("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(c,u)}getRow(t,a){if(t<0||t>=this.getHeight())throw new L("Requested row is outside the image: "+t);const r=this.getWidth();(a==null||a.length<r)&&(a=new Uint8ClampedArray(r));const s=(t+this.top)*this.dataWidth+this.left;return Q.arraycopy(this.yuvData,s,a,0,r),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.yuvData;const r=t*a,s=new Uint8ClampedArray(r);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Q.arraycopy(this.yuvData,l,s,0,r),s;for(let c=0;c<a;c++){const u=c*t;Q.arraycopy(this.yuvData,l,s,u,t),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,a,r,s){return new fa(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+a,r,s,!1)}renderThumbnail(){const t=this.getWidth()/fa.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/fa.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*a),s=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let c=0;c<a;c++){const u=c*t;for(let x=0;x<t;x++){const b=s[l+x*fa.THUMBNAIL_SCALE_FACTOR]&255;r[u+x]=4278190080|b*65793}l+=this.dataWidth*fa.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/fa.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/fa.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,a){const r=this.yuvData;for(let s=0,l=this.top*this.dataWidth+this.left;s<a;s++,l+=this.dataWidth){const c=l+t/2;for(let u=l,x=l+t-1;u<c;u++,x--){const b=r[u];r[u]=r[x],r[x]=b}}}invert(){return new He(this)}}fa.THUMBNAIL_SCALE_FACTOR=2;class bi extends je{constructor(t,a,r,s,l,c,u){if(super(a,r),this.dataWidth=s,this.dataHeight=l,this.left=c,this.top=u,t.BYTES_PER_ELEMENT===4){const x=a*r,b=new Uint8ClampedArray(x);for(let C=0;C<x;C++){const N=t[C],T=N>>16&255,B=N>>7&510,U=N&255;b[C]=(T+B+U)/4&255}this.luminances=b}else this.luminances=t;if(s===void 0&&(this.dataWidth=a),l===void 0&&(this.dataHeight=r),c===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+r>this.dataHeight)throw new L("Crop rectangle does not fit within image data.")}getRow(t,a){if(t<0||t>=this.getHeight())throw new L("Requested row is outside the image: "+t);const r=this.getWidth();(a==null||a.length<r)&&(a=new Uint8ClampedArray(r));const s=(t+this.top)*this.dataWidth+this.left;return Q.arraycopy(this.luminances,s,a,0,r),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.luminances;const r=t*a,s=new Uint8ClampedArray(r);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Q.arraycopy(this.luminances,l,s,0,r),s;for(let c=0;c<a;c++){const u=c*t;Q.arraycopy(this.luminances,l,s,u,t),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,a,r,s){return new bi(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+t,this.top+a)}invert(){return new He(this)}}class Rr extends oe{static forName(t){return this.getCharacterSetECIByName(t)}}class zs{}zs.ISO_8859_1=oe.ISO8859_1;class Ps{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Fs{static singletonList(t){return[t]}static min(t,a){return t.sort(a)[0]}}class Ql{constructor(t){this.previous=t}getPrevious(){return this.previous}}class sr extends Ql{constructor(t,a,r){super(t),this.value=a,this.bitCount=r}appendTo(t,a){t.appendBits(this.value,this.bitCount)}add(t,a){return new sr(this,t,a)}addBinaryShift(t,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new sr(this,t,a)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+le.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Ki extends sr{constructor(t,a,r){super(t,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=r}appendTo(t,a){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):r===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(a[this.binaryShiftStart+r],8)}addBinaryShift(t,a){return new Ki(this,t,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Br(v,t,a){return new Ki(v,t,a)}function wi(v,t,a){return new sr(v,t,a)}const Ec=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Va=0,Ai=1,Pn=2,Lr=3,Bn=4,Cc=new sr(null,0,0),jr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Wl(v){for(let t of v)se.fill(t,-1);return v[Va][Bn]=0,v[Ai][Bn]=0,v[Ai][Va]=28,v[Lr][Bn]=0,v[Pn][Bn]=0,v[Pn][Va]=15,v}const Hs=Wl(se.createInt32Array(6,6));class Yn{constructor(t,a,r,s){this.token=t,this.mode=a,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,a){let r=this.bitCount,s=this.token;if(t!==this.mode){let c=jr[this.mode][t];s=wi(s,c&65535,c>>16),r+=c>>16}let l=t===Pn?4:5;return s=wi(s,a,l),new Yn(s,t,0,r+l)}shiftAndAppend(t,a){let r=this.token,s=this.mode===Pn?4:5;return r=wi(r,Hs[this.mode][t],s),r=wi(r,a,5),new Yn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(t){let a=this.token,r=this.mode,s=this.bitCount;if(this.mode===Bn||this.mode===Pn){let u=jr[r][Va];a=wi(a,u&65535,u>>16),s+=u>>16,r=Va}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Yn(a,r,this.binaryShiftByteCount+1,s+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Br(a,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Yn(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let a=this.bitCount+(jr[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?a+=Yn.calculateBinaryShiftCost(t)-Yn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(a+=10),a<=t.bitCount}toBitArray(t){let a=[];for(let s=this.endBinaryShift(t.length).token;s!==null;s=s.getPrevious())a.unshift(s);let r=new Se;for(const s of a)s.appendTo(r,t);return r}toString(){return Ae.format("%s bits=%d bytes=%d",Ec[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Yn.INITIAL_STATE=new Yn(Cc,Va,0,0);function Gs(v){const t=Ae.getCharCode(" "),a=Ae.getCharCode("."),r=Ae.getCharCode(",");v[Va][t]=1;const s=Ae.getCharCode("Z"),l=Ae.getCharCode("A");for(let T=l;T<=s;T++)v[Va][T]=T-l+2;v[Ai][t]=1;const c=Ae.getCharCode("z"),u=Ae.getCharCode("a");for(let T=u;T<=c;T++)v[Ai][T]=T-u+2;v[Pn][t]=1;const x=Ae.getCharCode("9"),b=Ae.getCharCode("0");for(let T=b;T<=x;T++)v[Pn][T]=T-b+2;v[Pn][r]=12,v[Pn][a]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<C.length;T++)v[Lr][Ae.getCharCode(C[T])]=T;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<N.length;T++)Ae.getCharCode(N[T])>0&&(v[Bn][Ae.getCharCode(N[T])]=T);return v}const Ji=Gs(se.createInt32Array(5,256));class kr{constructor(t){this.text=t}encode(){const t=Ae.getCharCode(" "),a=Ae.getCharCode(`
`);let r=Fs.singletonList(Yn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let c,u=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case Ae.getCharCode("\r"):c=u===a?2:0;break;case Ae.getCharCode("."):c=u===t?3:0;break;case Ae.getCharCode(","):c=u===t?4:0;break;case Ae.getCharCode(":"):c=u===t?5:0;break;default:c=0}c>0?(r=kr.updateStateListForPair(r,l,c),l++):r=this.updateStateListForChar(r,l)}return Fs.min(r,(l,c)=>l.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,a){const r=[];for(let s of t)this.updateStateForChar(s,a,r);return kr.simplifyStates(r)}updateStateForChar(t,a,r){let s=this.text[a]&255,l=Ji[t.getMode()][s]>0,c=null;for(let u=0;u<=Bn;u++){let x=Ji[u][s];if(x>0){if(c==null&&(c=t.endBinaryShift(a)),!l||u===t.getMode()||u===Pn){const b=c.latchAndAppend(u,x);r.push(b)}if(!l&&Hs[t.getMode()][u]>=0){const b=c.shiftAndAppend(u,x);r.push(b)}}}if(t.getBinaryShiftByteCount()>0||Ji[t.getMode()][s]===0){let u=t.addBinaryShiftChar(a);r.push(u)}}static updateStateListForPair(t,a,r){const s=[];for(let l of t)this.updateStateForPair(l,a,r,s);return this.simplifyStates(s)}static updateStateForPair(t,a,r,s){let l=t.endBinaryShift(a);if(s.push(l.latchAndAppend(Bn,r)),t.getMode()!==Bn&&s.push(l.shiftAndAppend(Bn,r)),r===3||r===4){let c=l.latchAndAppend(Pn,16-r).latchAndAppend(Pn,1);s.push(c)}if(t.getBinaryShiftByteCount()>0){let c=t.addBinaryShiftChar(a).addBinaryShiftChar(a+1);s.push(c)}}static simplifyStates(t){let a=[];for(const r of t){let s=!0;for(const l of a){if(l.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(l)&&(a=a.filter(c=>c!==l))}s&&a.push(r)}return a}}class ot{constructor(){}static encodeBytes(t){return ot.encode(t,ot.DEFAULT_EC_PERCENT,ot.DEFAULT_AZTEC_LAYERS)}static encode(t,a,r){let s=new kr(t).encode(),l=le.truncDivision(s.getSize()*a,100)+11,c=s.getSize()+l,u,x,b,C,N;if(r!==ot.DEFAULT_AZTEC_LAYERS){if(u=r<0,x=Math.abs(r),x>(u?ot.MAX_NB_BITS_COMPACT:ot.MAX_NB_BITS))throw new L(Ae.format("Illegal value %s for layers",r));b=ot.totalBitsInLayer(x,u),C=ot.WORD_SIZE[x];let me=b-b%C;if(N=ot.stuffBits(s,C),N.getSize()+l>me)throw new L("Data to large for user specified layer");if(u&&N.getSize()>C*64)throw new L("Data to large for user specified layer")}else{C=0,N=null;for(let me=0;;me++){if(me>ot.MAX_NB_BITS)throw new L("Data too large for an Aztec code");if(u=me<=3,x=u?me+1:me,b=ot.totalBitsInLayer(x,u),c>b)continue;(N==null||C!==ot.WORD_SIZE[x])&&(C=ot.WORD_SIZE[x],N=ot.stuffBits(s,C));let Ze=b-b%C;if(!(u&&N.getSize()>C*64)&&N.getSize()+l<=Ze)break}}let T=ot.generateCheckWords(N,b,C),B=N.getSize()/C,U=ot.generateModeMessage(u,x,B),z=(u?11:14)+x*4,G=new Int32Array(z),$;if(u){$=z;for(let me=0;me<G.length;me++)G[me]=me}else{$=z+1+2*le.truncDivision(le.truncDivision(z,2)-1,15);let me=le.truncDivision(z,2),Ze=le.truncDivision($,2);for(let Xe=0;Xe<me;Xe++){let Tn=Xe+le.truncDivision(Xe,15);G[me-Xe-1]=Ze-Tn-1,G[me+Xe]=Ze+Tn+1}}let pe=new tt($);for(let me=0,Ze=0;me<x;me++){let Xe=(x-me)*4+(u?9:12);for(let Tn=0;Tn<Xe;Tn++){let Xn=Tn*2;for(let Ln=0;Ln<2;Ln++)T.get(Ze+Xn+Ln)&&pe.set(G[me*2+Ln],G[me*2+Tn]),T.get(Ze+Xe*2+Xn+Ln)&&pe.set(G[me*2+Tn],G[z-1-me*2-Ln]),T.get(Ze+Xe*4+Xn+Ln)&&pe.set(G[z-1-me*2-Ln],G[z-1-me*2-Tn]),T.get(Ze+Xe*6+Xn+Ln)&&pe.set(G[z-1-me*2-Tn],G[me*2+Ln])}Ze+=Xe*8}if(ot.drawModeMessage(pe,u,$,U),u)ot.drawBullsEye(pe,le.truncDivision($,2),5);else{ot.drawBullsEye(pe,le.truncDivision($,2),7);for(let me=0,Ze=0;me<le.truncDivision(z,2)-1;me+=15,Ze+=16)for(let Xe=le.truncDivision($,2)&1;Xe<$;Xe+=2)pe.set(le.truncDivision($,2)-Ze,Xe),pe.set(le.truncDivision($,2)+Ze,Xe),pe.set(Xe,le.truncDivision($,2)-Ze),pe.set(Xe,le.truncDivision($,2)+Ze)}let we=new Ps;return we.setCompact(u),we.setSize($),we.setLayers(x),we.setCodeWords(B),we.setMatrix(pe),we}static drawBullsEye(t,a,r){for(let s=0;s<r;s+=2)for(let l=a-s;l<=a+s;l++)t.set(l,a-s),t.set(l,a+s),t.set(a-s,l),t.set(a+s,l);t.set(a-r,a-r),t.set(a-r+1,a-r),t.set(a-r,a-r+1),t.set(a+r,a-r),t.set(a+r,a-r+1),t.set(a+r,a+r-1)}static generateModeMessage(t,a,r){let s=new Se;return t?(s.appendBits(a-1,2),s.appendBits(r-1,6),s=ot.generateCheckWords(s,28,4)):(s.appendBits(a-1,5),s.appendBits(r-1,11),s=ot.generateCheckWords(s,40,4)),s}static drawModeMessage(t,a,r,s){let l=le.truncDivision(r,2);if(a)for(let c=0;c<7;c++){let u=l-3+c;s.get(c)&&t.set(u,l-5),s.get(c+7)&&t.set(l+5,u),s.get(20-c)&&t.set(u,l+5),s.get(27-c)&&t.set(l-5,u)}else for(let c=0;c<10;c++){let u=l-5+c+le.truncDivision(c,5);s.get(c)&&t.set(u,l-7),s.get(c+10)&&t.set(l+7,u),s.get(29-c)&&t.set(u,l+7),s.get(39-c)&&t.set(l-7,u)}}static generateCheckWords(t,a,r){let s=t.getSize()/r,l=new Us(ot.getGF(r)),c=le.truncDivision(a,r),u=ot.bitsToWords(t,r,c);l.encode(u,c-s);let x=a%r,b=new Se;b.appendBits(0,x);for(const C of Array.from(u))b.appendBits(C,r);return b}static bitsToWords(t,a,r){let s=new Int32Array(r),l,c;for(l=0,c=t.getSize()/a;l<c;l++){let u=0;for(let x=0;x<a;x++)u|=t.get(l*a+x)?1<<a-x-1:0;s[l]=u}return s}static getGF(t){switch(t){case 4:return ct.AZTEC_PARAM;case 6:return ct.AZTEC_DATA_6;case 8:return ct.AZTEC_DATA_8;case 10:return ct.AZTEC_DATA_10;case 12:return ct.AZTEC_DATA_12;default:throw new L("Unsupported word size "+t)}}static stuffBits(t,a){let r=new Se,s=t.getSize(),l=(1<<a)-2;for(let c=0;c<s;c+=a){let u=0;for(let x=0;x<a;x++)(c+x>=s||t.get(c+x))&&(u|=1<<a-1-x);(u&l)===l?(r.appendBits(u&l,a),c--):(u&l)===0?(r.appendBits(u|1,a),c--):r.appendBits(u,a)}return r}static totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}ot.DEFAULT_EC_PERCENT=33,ot.DEFAULT_AZTEC_LAYERS=0,ot.MAX_NB_BITS=32,ot.MAX_NB_BITS_COMPACT=4,ot.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class $i{encode(t,a,r,s){return this.encodeWithHints(t,a,r,s,null)}encodeWithHints(t,a,r,s,l){let c=zs.ISO_8859_1,u=ot.DEFAULT_EC_PERCENT,x=ot.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(tn.CHARACTER_SET)&&(c=Rr.forName(l.get(tn.CHARACTER_SET).toString())),l.has(tn.ERROR_CORRECTION)&&(u=le.parseInt(l.get(tn.ERROR_CORRECTION).toString())),l.has(tn.AZTEC_LAYERS)&&(x=le.parseInt(l.get(tn.AZTEC_LAYERS).toString()))),$i.encodeLayers(t,a,r,s,c,u,x)}static encodeLayers(t,a,r,s,l,c,u){if(a!==ye.AZTEC)throw new L("Can only encode AZTEC, but got "+a);let x=ot.encode(Ae.getBytes(t,l),c,u);return $i.renderResult(x,r,s)}static renderResult(t,a,r){let s=t.getMatrix();if(s==null)throw new ca;let l=s.getWidth(),c=s.getHeight(),u=Math.max(a,l),x=Math.max(r,c),b=Math.min(u/l,x/c),C=(u-l*b)/2,N=(x-c*b)/2,T=new tt(u,x);for(let B=0,U=N;B<c;B++,U+=b)for(let z=0,G=C;z<l;z++,G+=b)s.get(z,B)&&T.setRegion(G,U,b,b);return T}}h.AbstractExpandedDecoder=di,h.ArgumentException=R,h.ArithmeticException=Nr,h.AztecCode=Ps,h.AztecCodeReader=zi,h.AztecCodeWriter=$i,h.AztecDecoder=Tt,h.AztecDetector=Pl,h.AztecDetectorResult=Os,h.AztecEncoder=ot,h.AztecHighLevelEncoder=kr,h.AztecPoint=bt,h.BarcodeFormat=ye,h.Binarizer=ae,h.BinaryBitmap=H,h.BitArray=Se,h.BitMatrix=tt,h.BitSource=Dn,h.BrowserAztecCodeReader=dc,h.BrowserBarcodeReader=Vl,h.BrowserCodeReader=ve,h.BrowserDatamatrixCodeReader=hc,h.BrowserMultiFormatReader=pc,h.BrowserPDF417Reader=yc,h.BrowserQRCodeReader=bc,h.BrowserQRCodeSvgWriter=ir,h.CharacterSetECI=oe,h.ChecksumException=ie,h.Code128Reader=Ce,h.Code39Reader=Dt,h.DataMatrixDecodedBitStreamParser=ja,h.DataMatrixReader=Jn,h.DecodeHintType=ne,h.DecoderResult=Hn,h.DefaultGridSampler=On,h.DetectorResult=Ui,h.EAN13Reader=Wn,h.EncodeHintType=tn,h.Exception=E,h.FormatException=re,h.GenericGF=ct,h.GenericGFPoly=cn,h.GlobalHistogramBinarizer=J,h.GridSampler=Ds,h.GridSamplerInstance=Nn,h.HTMLCanvasElementLuminanceSource=k,h.HybridBinarizer=de,h.ITFReader=ht,h.IllegalArgumentException=L,h.IllegalStateException=ca,h.InvertedLuminanceSource=He,h.LuminanceSource=je,h.MathUtils=lt,h.MultiFormatOneDReader=La,h.MultiFormatReader=Zl,h.MultiFormatWriter=Ac,h.NotFoundException=X,h.OneDReader=kt,h.PDF417DecodedBitStreamParser=te,h.PDF417DecoderErrorCorrection=xi,h.PDF417Reader=gn,h.PDF417ResultMetadata=Zi,h.PerspectiveTransform=vn,h.PlanarYUVLuminanceSource=fa,h.QRCodeByteMatrix=yi,h.QRCodeDataMask=hn,h.QRCodeDecodedBitStreamParser=Ut,h.QRCodeDecoderErrorCorrectionLevel=pt,h.QRCodeDecoderFormatInformation=dn,h.QRCodeEncoder=Rt,h.QRCodeEncoderQRCode=rr,h.QRCodeMaskUtil=Ft,h.QRCodeMatrixUtil=Fe,h.QRCodeMode=Ue,h.QRCodeReader=Sa,h.QRCodeVersion=ke,h.QRCodeWriter=Dr,h.RGBLuminanceSource=bi,h.RSS14Reader=gt,h.RSSExpandedReader=xe,h.ReaderException=mi,h.ReedSolomonDecoder=oi,h.ReedSolomonEncoder=Us,h.ReedSolomonException=Da,h.Result=De,h.ResultMetadataType=Qe,h.ResultPoint=Re,h.StringUtils=Ae,h.UnsupportedOperationException=Ne,h.VideoInputDevice=he,h.WhiteRectangleDetector=Aa,h.WriterException=At,h.ZXingArrays=se,h.ZXingCharset=Rr,h.ZXingInteger=le,h.ZXingStandardCharsets=zs,h.ZXingStringBuilder=Te,h.ZXingStringEncoding=Oe,h.ZXingSystem=Q,h.createAbstractExpandedDecoder=Ls,Object.defineProperty(h,"__esModule",{value:!0})})}(Ol,Ol.exports)),Ol.exports}var zt=yp();const bp=ux(zt),wp=cx({__proto__:null,default:bp},[zt]);var nh=function(){function f(g,h,y){if(this.formatMap=new Map([[_e.QR_CODE,zt.BarcodeFormat.QR_CODE],[_e.AZTEC,zt.BarcodeFormat.AZTEC],[_e.CODABAR,zt.BarcodeFormat.CODABAR],[_e.CODE_39,zt.BarcodeFormat.CODE_39],[_e.CODE_93,zt.BarcodeFormat.CODE_93],[_e.CODE_128,zt.BarcodeFormat.CODE_128],[_e.DATA_MATRIX,zt.BarcodeFormat.DATA_MATRIX],[_e.MAXICODE,zt.BarcodeFormat.MAXICODE],[_e.ITF,zt.BarcodeFormat.ITF],[_e.EAN_13,zt.BarcodeFormat.EAN_13],[_e.EAN_8,zt.BarcodeFormat.EAN_8],[_e.PDF_417,zt.BarcodeFormat.PDF_417],[_e.RSS_14,zt.BarcodeFormat.RSS_14],[_e.RSS_EXPANDED,zt.BarcodeFormat.RSS_EXPANDED],[_e.UPC_A,zt.BarcodeFormat.UPC_A],[_e.UPC_E,zt.BarcodeFormat.UPC_E],[_e.UPC_EAN_EXTENSION,zt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!wp)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=h,this.logger=y;var A=this.createZXingFormats(g),w=new Map;w.set(zt.DecodeHintType.POSSIBLE_FORMATS,A),w.set(zt.DecodeHintType.TRY_HARDER,!1),this.hints=w}return f.prototype.decodeAsync=function(g){var h=this;return new Promise(function(y,A){try{y(h.decode(g))}catch(w){A(w)}})},f.prototype.decode=function(g){var h=new zt.MultiFormatReader(this.verbose,this.hints),y=new zt.HTMLCanvasElementLuminanceSource(g),A=new zt.BinaryBitmap(new zt.HybridBinarizer(y)),w=h.decode(A);return{text:w.text,format:Fh.create(this.toHtml5QrcodeSupportedFormats(w.format)),debugData:this.createDebugData()}},f.prototype.createReverseFormatMap=function(){var g=new Map;return this.formatMap.forEach(function(h,y,A){g.set(h,y)}),g},f.prototype.toHtml5QrcodeSupportedFormats=function(g){if(!this.reverseFormatMap.has(g))throw"reverseFormatMap doesn't have ".concat(g);return this.reverseFormatMap.get(g)},f.prototype.createZXingFormats=function(g){for(var h=[],y=0,A=g;y<A.length;y++){var w=A[y];this.formatMap.has(w)?h.push(this.formatMap.get(w)):this.logger.logError("".concat(w," is not supported by")+"ZXingHtml5QrcodeShim")}return h},f.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},f}(),Ap=function(f,g,h,y){function A(w){return w instanceof h?w:new h(function(_){_(w)})}return new(h||(h=Promise))(function(w,_){function O(R){try{E(y.next(R))}catch(L){_(L)}}function M(R){try{E(y.throw(R))}catch(L){_(L)}}function E(R){R.done?w(R.value):A(R.value).then(O,M)}E((y=y.apply(f,g||[])).next())})},Ep=function(f,g){var h={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,A,w,_;return _={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function O(E){return function(R){return M([E,R])}}function M(E){if(y)throw new TypeError("Generator is already executing.");for(;_&&(_=0,E[0]&&(h=0)),h;)try{if(y=1,A&&(w=E[0]&2?A.return:E[0]?A.throw||((w=A.return)&&w.call(A),0):A.next)&&!(w=w.call(A,E[1])).done)return w;switch(A=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,A=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(w=h.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){h.label=E[1];break}if(E[0]===6&&h.label<w[1]){h.label=w[1],w=E;break}if(w&&h.label<w[2]){h.label=w[2],h.ops.push(E);break}w[2]&&h.ops.pop(),h.trys.pop();continue}E=g.call(f,h)}catch(R){E=[6,R],A=0}finally{y=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},ah=function(){function f(g,h,y){if(this.formatMap=new Map([[_e.QR_CODE,"qr_code"],[_e.AZTEC,"aztec"],[_e.CODABAR,"codabar"],[_e.CODE_39,"code_39"],[_e.CODE_93,"code_93"],[_e.CODE_128,"code_128"],[_e.DATA_MATRIX,"data_matrix"],[_e.ITF,"itf"],[_e.EAN_13,"ean_13"],[_e.EAN_8,"ean_8"],[_e.PDF_417,"pdf417"],[_e.UPC_A,"upc_a"],[_e.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!f.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=h,this.logger=y;var A=this.createBarcodeDetectorFormats(g);if(this.detector=new BarcodeDetector(A),!this.detector)throw"BarcodeDetector detector not supported"}return f.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var g=new BarcodeDetector({formats:["qr_code"]});return typeof g<"u"},f.prototype.decodeAsync=function(g){return Ap(this,void 0,void 0,function(){var h,y;return Ep(this,function(A){switch(A.label){case 0:return[4,this.detector.detect(g)];case 1:if(h=A.sent(),!h||h.length===0)throw"No barcode or QR code detected.";return y=this.selectLargestBarcode(h),[2,{text:y.rawValue,format:Fh.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}]}})})},f.prototype.selectLargestBarcode=function(g){for(var h=null,y=0,A=0,w=g;A<w.length;A++){var _=w[A],O=_.boundingBox.width*_.boundingBox.height;O>y&&(y=O,h=_)}if(!h)throw"No largest barcode found";return h},f.prototype.createBarcodeDetectorFormats=function(g){for(var h=[],y=0,A=g;y<A.length;y++){var w=A[y];this.formatMap.has(w)?h.push(this.formatMap.get(w)):this.logger.warn("".concat(w," is not supported by")+"BarcodeDetectorDelegate")}return{formats:h}},f.prototype.toHtml5QrcodeSupportedFormats=function(g){if(!this.reverseFormatMap.has(g))throw"reverseFormatMap doesn't have ".concat(g);return this.reverseFormatMap.get(g)},f.prototype.createReverseFormatMap=function(){var g=new Map;return this.formatMap.forEach(function(h,y,A){g.set(h,y)}),g},f.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},f}(),rh=function(f,g,h,y){function A(w){return w instanceof h?w:new h(function(_){_(w)})}return new(h||(h=Promise))(function(w,_){function O(R){try{E(y.next(R))}catch(L){_(L)}}function M(R){try{E(y.throw(R))}catch(L){_(L)}}function E(R){R.done?w(R.value):A(R.value).then(O,M)}E((y=y.apply(f,g||[])).next())})},ih=function(f,g){var h={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,A,w,_;return _={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function O(E){return function(R){return M([E,R])}}function M(E){if(y)throw new TypeError("Generator is already executing.");for(;_&&(_=0,E[0]&&(h=0)),h;)try{if(y=1,A&&(w=E[0]&2?A.return:E[0]?A.throw||((w=A.return)&&w.call(A),0):A.next)&&!(w=w.call(A,E[1])).done)return w;switch(A=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,A=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(w=h.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){h.label=E[1];break}if(E[0]===6&&h.label<w[1]){h.label=w[1],w=E;break}if(w&&h.label<w[2]){h.label=w[2],h.ops.push(E);break}w[2]&&h.ops.pop(),h.trys.pop();continue}E=g.call(f,h)}catch(R){E=[6,R],A=0}finally{y=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Cp=function(){function f(g,h,y,A){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=y,h&&ah.isSupported()?(this.primaryDecoder=new ah(g,y,A),this.secondaryDecoder=new nh(g,y,A)):this.primaryDecoder=new nh(g,y,A)}return f.prototype.decodeAsync=function(g){return rh(this,void 0,void 0,function(){var h;return ih(this,function(y){switch(y.label){case 0:h=performance.now(),y.label=1;case 1:return y.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(g)];case 2:return[2,y.sent()];case 3:return this.possiblyLogPerformance(h),[7];case 4:return[2]}})})},f.prototype.decodeRobustlyAsync=function(g){return rh(this,void 0,void 0,function(){var h,y;return ih(this,function(A){switch(A.label){case 0:h=performance.now(),A.label=1;case 1:return A.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(g)];case 2:return[2,A.sent()];case 3:if(y=A.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(g)];throw y;case 4:return this.possiblyLogPerformance(h),[7];case 5:return[2]}})})},f.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},f.prototype.possiblyLogPerformance=function(g){if(this.verbose){var h=performance.now()-g;this.executionResults.push(h),this.executions++,this.possiblyFlushPerformanceReport()}},f.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var g=0,h=0,y=this.executionResults;h<y.length;h++){var A=y[h];g+=A}var w=g/this.executionResults.length;console.log("".concat(w," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},f}(),B0=function(){var f=function(g,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,A){y.__proto__=A}||function(y,A){for(var w in A)Object.prototype.hasOwnProperty.call(A,w)&&(y[w]=A[w])},f(g,h)};return function(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");f(g,h);function y(){this.constructor=g}g.prototype=h===null?Object.create(h):(y.prototype=h.prototype,new y)}}(),sc=function(f,g,h,y){function A(w){return w instanceof h?w:new h(function(_){_(w)})}return new(h||(h=Promise))(function(w,_){function O(R){try{E(y.next(R))}catch(L){_(L)}}function M(R){try{E(y.throw(R))}catch(L){_(L)}}function E(R){R.done?w(R.value):A(R.value).then(O,M)}E((y=y.apply(f,g||[])).next())})},lc=function(f,g){var h={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,A,w,_;return _={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function O(E){return function(R){return M([E,R])}}function M(E){if(y)throw new TypeError("Generator is already executing.");for(;_&&(_=0,E[0]&&(h=0)),h;)try{if(y=1,A&&(w=E[0]&2?A.return:E[0]?A.throw||((w=A.return)&&w.call(A),0):A.next)&&!(w=w.call(A,E[1])).done)return w;switch(A=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,A=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(w=h.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){h.label=E[1];break}if(E[0]===6&&h.label<w[1]){h.label=w[1],w=E;break}if(w&&h.label<w[2]){h.label=w[2],h.ops.push(E);break}w[2]&&h.ops.pop(),h.trys.pop();continue}E=g.call(f,h)}catch(R){E=[6,R],A=0}finally{y=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Yh=function(){function f(g,h){this.name=g,this.track=h}return f.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},f.prototype.apply=function(g){var h={};h[this.name]=g;var y={advanced:[h]};return this.track.applyConstraints(y)},f.prototype.value=function(){var g=this.track.getSettings();if(this.name in g){var h=g[this.name];return h}return null},f}(),Sp=function(f){B0(g,f);function g(h,y){return f.call(this,h,y)||this}return g.prototype.min=function(){return this.getCapabilities().min},g.prototype.max=function(){return this.getCapabilities().max},g.prototype.step=function(){return this.getCapabilities().step},g.prototype.apply=function(h){var y={};y[this.name]=h;var A={advanced:[y]};return this.track.applyConstraints(A)},g.prototype.getCapabilities=function(){this.failIfNotSupported();var h=this.track.getCapabilities(),y=h[this.name];return{min:y.min,max:y.max,step:y.step}},g.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},g}(Yh),vp=function(f){B0(g,f);function g(h){return f.call(this,"zoom",h)||this}return g}(Sp),Np=function(f){B0(g,f);function g(h){return f.call(this,"torch",h)||this}return g}(Yh),Tp=function(){function f(g){this.track=g}return f.prototype.zoomFeature=function(){return new vp(this.track)},f.prototype.torchFeature=function(){return new Np(this.track)},f}(),_p=function(){function f(g,h,y){this.isClosed=!1,this.parentElement=g,this.mediaStream=h,this.callbacks=y,this.surface=this.createVideoElement(this.parentElement.clientWidth),g.append(this.surface)}return f.prototype.createVideoElement=function(g){var h=document.createElement("video");return h.style.width="".concat(g,"px"),h.style.display="block",h.muted=!0,h.setAttribute("muted","true"),h.playsInline=!0,h},f.prototype.setupSurface=function(){var g=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var h=function(){var y=g.surface.clientWidth,A=g.surface.clientHeight;g.callbacks.onRenderSurfaceReady(y,A),g.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.srcObject=this.mediaStream,this.surface.play()},f.create=function(g,h,y,A){return sc(this,void 0,void 0,function(){var w,_;return lc(this,function(O){switch(O.label){case 0:return w=new f(g,h,A),y.aspectRatio?(_={aspectRatio:y.aspectRatio},[4,w.getFirstTrackOrFail().applyConstraints(_)]):[3,2];case 1:O.sent(),O.label=2;case 2:return w.setupSurface(),[2,w]}})})},f.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},f.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},f.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},f.prototype.resume=function(g){this.failIfClosed();var h=this,y=function(){setTimeout(g,200),h.surface.removeEventListener("playing",y)};this.surface.addEventListener("playing",y),this.surface.play()},f.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},f.prototype.getSurface=function(){return this.failIfClosed(),this.surface},f.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},f.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},f.prototype.applyVideoConstraints=function(g){return sc(this,void 0,void 0,function(){return lc(this,function(h){if("aspectRatio"in g)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(g)]})})},f.prototype.close=function(){if(this.isClosed)return Promise.resolve();var g=this;return new Promise(function(h,y){var A=g.mediaStream.getVideoTracks(),w=A.length,_=0;g.mediaStream.getVideoTracks().forEach(function(O){g.mediaStream.removeTrack(O),O.stop(),++_,_>=w&&(g.isClosed=!0,g.parentElement.removeChild(g.surface),h())})})},f.prototype.getCapabilities=function(){return new Tp(this.getFirstTrackOrFail())},f}(),Ip=function(){function f(g){this.mediaStream=g}return f.prototype.render=function(g,h,y){return sc(this,void 0,void 0,function(){return lc(this,function(A){return[2,_p.create(g,this.mediaStream,h,y)]})})},f.create=function(g){return sc(this,void 0,void 0,function(){var h,y;return lc(this,function(A){switch(A.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return h={audio:!1,video:g},[4,navigator.mediaDevices.getUserMedia(h)];case 1:return y=A.sent(),[2,new f(y)]}})})},f}(),sh=function(f,g,h,y){function A(w){return w instanceof h?w:new h(function(_){_(w)})}return new(h||(h=Promise))(function(w,_){function O(R){try{E(y.next(R))}catch(L){_(L)}}function M(R){try{E(y.throw(R))}catch(L){_(L)}}function E(R){R.done?w(R.value):A(R.value).then(O,M)}E((y=y.apply(f,g||[])).next())})},lh=function(f,g){var h={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,A,w,_;return _={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function O(E){return function(R){return M([E,R])}}function M(E){if(y)throw new TypeError("Generator is already executing.");for(;_&&(_=0,E[0]&&(h=0)),h;)try{if(y=1,A&&(w=E[0]&2?A.return:E[0]?A.throw||((w=A.return)&&w.call(A),0):A.next)&&!(w=w.call(A,E[1])).done)return w;switch(A=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,A=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(w=h.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){h.label=E[1];break}if(E[0]===6&&h.label<w[1]){h.label=w[1],w=E;break}if(w&&h.label<w[2]){h.label=w[2],h.ops.push(E);break}w[2]&&h.ops.pop(),h.trys.pop();continue}E=g.call(f,h)}catch(R){E=[6,R],A=0}finally{y=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Mp=function(){function f(){}return f.failIfNotSupported=function(){return sh(this,void 0,void 0,function(){return lh(this,function(g){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new f]})})},f.prototype.create=function(g){return sh(this,void 0,void 0,function(){return lh(this,function(h){return[2,Ip.create(g)]})})},f}(),Op=function(f,g,h,y){function A(w){return w instanceof h?w:new h(function(_){_(w)})}return new(h||(h=Promise))(function(w,_){function O(R){try{E(y.next(R))}catch(L){_(L)}}function M(R){try{E(y.throw(R))}catch(L){_(L)}}function E(R){R.done?w(R.value):A(R.value).then(O,M)}E((y=y.apply(f,g||[])).next())})},Dp=function(f,g){var h={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,A,w,_;return _={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function O(E){return function(R){return M([E,R])}}function M(E){if(y)throw new TypeError("Generator is already executing.");for(;_&&(_=0,E[0]&&(h=0)),h;)try{if(y=1,A&&(w=E[0]&2?A.return:E[0]?A.throw||((w=A.return)&&w.call(A),0):A.next)&&!(w=w.call(A,E[1])).done)return w;switch(A=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,A=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(w=h.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){h.label=E[1];break}if(E[0]===6&&h.label<w[1]){h.label=w[1],w=E;break}if(w&&h.label<w[2]){h.label=w[2],h.ops.push(E);break}w[2]&&h.ops.pop(),h.trys.pop();continue}E=g.call(f,h)}catch(R){E=[6,R],A=0}finally{y=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Rp=function(){function f(){}return f.retrieve=function(){if(navigator.mediaDevices)return f.getCamerasFromMediaDevices();var g=MediaStreamTrack;return MediaStreamTrack&&g.getSources?f.getCamerasFromMediaStreamTrack():f.rejectWithError()},f.rejectWithError=function(){var g=Ts.unableToQuerySupportedDevices();return f.isHttpsOrLocalhost()||(g=Ts.insecureContextCameraQueryError()),Promise.reject(g)},f.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var g=location.host.split(":")[0];return g==="127.0.0.1"||g==="localhost"},f.getCamerasFromMediaDevices=function(){return Op(this,void 0,void 0,function(){var g,h,y,A,w,_,O;return Dp(this,function(M){switch(M.label){case 0:return g=function(E){for(var R=E.getVideoTracks(),L=0,H=R;L<H.length;L++){var ie=H[L];ie.enabled=!1,ie.stop(),E.removeTrack(ie)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return h=M.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(y=M.sent(),A=[],w=0,_=y;w<_.length;w++)O=_[w],O.kind==="videoinput"&&A.push({id:O.deviceId,label:O.label});return g(h),[2,A]}})})},f.getCamerasFromMediaStreamTrack=function(){return new Promise(function(g,h){var y=function(w){for(var _=[],O=0,M=w;O<M.length;O++){var E=M[O];E.kind==="video"&&_.push({id:E.id,label:E.label})}g(_)},A=MediaStreamTrack;A.getSources(y)})},f}(),Kt;(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.NOT_STARTED=1]="NOT_STARTED",f[f.SCANNING=2]="SCANNING",f[f.PAUSED=3]="PAUSED"})(Kt||(Kt={}));var Bp=function(){function f(){this.state=Kt.NOT_STARTED,this.onGoingTransactionNewState=Kt.UNKNOWN}return f.prototype.directTransition=function(g){this.failIfTransitionOngoing(),this.validateTransition(g),this.state=g},f.prototype.startTransition=function(g){return this.failIfTransitionOngoing(),this.validateTransition(g),this.onGoingTransactionNewState=g,this},f.prototype.execute=function(){if(this.onGoingTransactionNewState===Kt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var g=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Kt.UNKNOWN,this.directTransition(g)},f.prototype.cancel=function(){if(this.onGoingTransactionNewState===Kt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Kt.UNKNOWN},f.prototype.getState=function(){return this.state},f.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Kt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},f.prototype.validateTransition=function(g){switch(this.state){case Kt.UNKNOWN:throw"Transition from unknown is not allowed";case Kt.NOT_STARTED:this.failIfNewStateIs(g,[Kt.PAUSED]);break;case Kt.SCANNING:break;case Kt.PAUSED:break}},f.prototype.failIfNewStateIs=function(g,h){for(var y=0,A=h;y<A.length;y++){var w=A[y];if(g===w)throw"Cannot transition from ".concat(this.state," to ").concat(g)}},f}(),Lp=function(){function f(g){this.stateManager=g}return f.prototype.startTransition=function(g){return this.stateManager.startTransition(g)},f.prototype.directTransition=function(g){this.stateManager.directTransition(g)},f.prototype.getState=function(){return this.stateManager.getState()},f.prototype.canScanFile=function(){return this.stateManager.getState()===Kt.NOT_STARTED},f.prototype.isScanning=function(){return this.stateManager.getState()!==Kt.NOT_STARTED},f.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Kt.SCANNING},f.prototype.isPaused=function(){return this.stateManager.getState()===Kt.PAUSED},f}(),jp=function(){function f(){}return f.create=function(){return new Lp(new Bp)},f}(),kp=function(){var f=function(g,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,A){y.__proto__=A}||function(y,A){for(var w in A)Object.prototype.hasOwnProperty.call(A,w)&&(y[w]=A[w])},f(g,h)};return function(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");f(g,h);function y(){this.constructor=g}g.prototype=h===null?Object.create(h):(y.prototype=h.prototype,new y)}}(),sa=function(f){kp(g,f);function g(){return f!==null&&f.apply(this,arguments)||this}return g.DEFAULT_WIDTH=300,g.DEFAULT_WIDTH_OFFSET=2,g.FILE_SCAN_MIN_HEIGHT=300,g.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,g.MIN_QR_BOX_SIZE=50,g.SHADED_LEFT=1,g.SHADED_RIGHT=2,g.SHADED_TOP=3,g.SHADED_BOTTOM=4,g.SHADED_REGION_ELEMENT_ID="qr-shaded-region",g.VERBOSE=!1,g.BORDER_SHADER_DEFAULT_COLOR="#ffffff",g.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",g}(Ia),Up=function(){function f(g,h){this.logger=h,this.fps=sa.SCAN_DEFAULT_FPS,g?(g.fps&&(this.fps=g.fps),this.disableFlip=g.disableFlip===!0,this.qrbox=g.qrbox,this.aspectRatio=g.aspectRatio,this.videoConstraints=g.videoConstraints):this.disableFlip=sa.DEFAULT_DISABLE_FLIP}return f.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Vh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},f.prototype.isShadedBoxEnabled=function(){return!Ka(this.qrbox)},f.create=function(g,h){return new f(g,h)},f}(),oh=function(){function f(g,h){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(g))throw"HTML Element with id=".concat(g," not found");this.elementId=g,this.verbose=!1;var y;typeof h=="boolean"?this.verbose=h===!0:h&&(y=h,this.verbose=y.verbose===!0,y.experimentalFeatures),this.logger=new Gh(this.verbose),this.qrcode=new Cp(this.getSupportedFormats(h),this.getUseBarCodeDetectorIfSupported(y),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=jp.create()}return f.prototype.start=function(g,h,y,A){var w=this;if(!g)throw"cameraIdOrConfig is required";if(!y||typeof y!="function")throw"qrCodeSuccessCallback is required and should be a function.";var _;A?_=A:_=this.verbose?this.logger.log:function(){};var O=Up.create(h,this.logger);this.clearElement();var M=!1;O.videoConstraints&&(O.isMediaStreamConstraintsValid()?M=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=M,R=document.getElementById(this.elementId);R.clientWidth?R.clientWidth:sa.DEFAULT_WIDTH,R.style.position="relative",this.shouldScan=!0,this.element=R;var L=this,H=this.stateManagerProxy.startTransition(Kt.SCANNING);return new Promise(function(ie,ae){var Q=E?O.videoConstraints:L.createVideoConstraints(g);if(!Q){H.cancel(),ae("videoConstraints should be defined");return}var ce={};(!E||O.aspectRatio)&&(ce.aspectRatio=O.aspectRatio);var W={onRenderSurfaceReady:function(se,le){L.setupUi(se,le,O),L.isScanning=!0,L.foreverScan(O,y,_)}};Mp.failIfNotSupported().then(function(se){se.create(Q).then(function(le){return le.render(w.element,ce,W).then(function(Se){L.renderedCamera=Se,H.execute(),ie(null)}).catch(function(Se){H.cancel(),ae(Se)})}).catch(function(le){H.cancel(),ae(Ts.errorGettingUserMedia(le))})}).catch(function(se){H.cancel(),ae(Ts.cameraStreamingNotSupported())})})},f.prototype.pause=function(g){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Kt.PAUSED),this.showPausedState(),(Ka(g)||g!==!0)&&(g=!1),g&&this.renderedCamera&&this.renderedCamera.pause()},f.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var g=this,h=function(){g.stateManagerProxy.directTransition(Kt.SCANNING),g.hidePausedState()};if(!this.renderedCamera.isPaused()){h();return}this.renderedCamera.resume(function(){h()})},f.prototype.getState=function(){return this.stateManagerProxy.getState()},f.prototype.stop=function(){var g=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var h=this.stateManagerProxy.startTransition(Kt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var y=function(){if(g.element){var w=document.getElementById(sa.SHADED_REGION_ELEMENT_ID);w&&g.element.removeChild(w)}},A=this;return this.renderedCamera.close().then(function(){return A.renderedCamera=null,A.element&&(A.element.removeChild(A.canvasElement),A.canvasElement=null),y(),A.qrRegion&&(A.qrRegion=null),A.context&&(A.context=null),h.execute(),A.hidePausedState(),A.isScanning=!1,Promise.resolve()})},f.prototype.scanFile=function(g,h){return this.scanFileV2(g,h).then(function(y){return y.decodedText})},f.prototype.scanFileV2=function(g,h){var y=this;if(!g||!(g instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ka(h)&&(h=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(A,w){y.possiblyCloseLastScanImageFile(),y.clearElement(),y.lastScanImageFile=URL.createObjectURL(g);var _=new Image;_.onload=function(){var O=_.width,M=_.height,E=document.getElementById(y.elementId),R=E.clientWidth?E.clientWidth:sa.DEFAULT_WIDTH,L=Math.max(E.clientHeight?E.clientHeight:M,sa.FILE_SCAN_MIN_HEIGHT),H=y.computeCanvasDrawConfig(O,M,R,L);if(h){var ie=y.createCanvasElement(R,L,"qr-canvas-visible");ie.style.display="inline-block",E.appendChild(ie);var ae=ie.getContext("2d");if(!ae)throw"Unable to get 2d context from canvas";ae.canvas.width=R,ae.canvas.height=L,ae.drawImage(_,0,0,O,M,H.x,H.y,H.width,H.height)}var Q=sa.FILE_SCAN_HIDDEN_CANVAS_PADDING,ce=Math.max(_.width,H.width),W=Math.max(_.height,H.height),se=ce+2*Q,le=W+2*Q,Se=y.createCanvasElement(se,le);E.appendChild(Se);var Ie=Se.getContext("2d");if(!Ie)throw"Unable to get 2d context from canvas";Ie.canvas.width=se,Ie.canvas.height=le,Ie.drawImage(_,0,0,O,M,Q,Q,ce,W);try{y.qrcode.decodeRobustlyAsync(Se).then(function(ne){A($d.createFromQrcodeResult(ne))}).catch(w)}catch(ne){w("QR code parse error, error = ".concat(ne))}},_.onerror=w,_.onabort=w,_.onstalled=w,_.onsuspend=w,_.src=URL.createObjectURL(g)})},f.prototype.clear=function(){this.clearElement()},f.getCameras=function(){return Rp.retrieve()},f.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},f.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},f.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},f.prototype.applyVideoConstraints=function(g){if(g){if(!Vh.isMediaStreamConstraintsValid(g,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(g)},f.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},f.prototype.getSupportedFormats=function(g){var h=[_e.QR_CODE,_e.AZTEC,_e.CODABAR,_e.CODE_39,_e.CODE_93,_e.CODE_128,_e.DATA_MATRIX,_e.MAXICODE,_e.ITF,_e.EAN_13,_e.EAN_8,_e.PDF_417,_e.RSS_14,_e.RSS_EXPANDED,_e.UPC_A,_e.UPC_E,_e.UPC_EAN_EXTENSION];if(!g||typeof g=="boolean"||!g.formatsToSupport)return h;if(!Array.isArray(g.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(g.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var y=[],A=0,w=g.formatsToSupport;A<w.length;A++){var _=w[A];xp(_)?y.push(_):this.logger.warn("Invalid format: ".concat(_," passed in config, ignoring."))}if(y.length===0)throw"None of formatsToSupport match supported values.";return y},f.prototype.getUseBarCodeDetectorIfSupported=function(g){if(Ka(g))return!0;if(!Ka(g.useBarCodeDetectorIfSupported))return g.useBarCodeDetectorIfSupported!==!1;if(Ka(g.experimentalFeatures))return!0;var h=g.experimentalFeatures;return Ka(h.useBarCodeDetectorIfSupported)?!0:h.useBarCodeDetectorIfSupported!==!1},f.prototype.validateQrboxSize=function(g,h,y){var A=this,w=y.qrbox;this.validateQrboxConfig(w);var _=this.toQrdimensions(g,h,w),O=function(E){if(E<sa.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(sa.MIN_QR_BOX_SIZE,"px.")},M=function(E){return E>g&&(A.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=g),E};O(_.width),O(_.height),_.width=M(_.width)},f.prototype.validateQrboxConfig=function(g){if(typeof g!="number"&&typeof g!="function"&&(g.width===void 0||g.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},f.prototype.toQrdimensions=function(g,h,y){if(typeof y=="number")return{width:y,height:y};if(typeof y=="function")try{return y(g,h)}catch(A){throw new Error("qrbox config was passed as a function but it failed with unknown error"+A)}return y},f.prototype.setupUi=function(g,h,y){y.isShadedBoxEnabled()&&this.validateQrboxSize(g,h,y);var A=Ka(y.qrbox)?{width:g,height:h}:y.qrbox;this.validateQrboxConfig(A);var w=this.toQrdimensions(g,h,A);w.height>h&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var _=y.isShadedBoxEnabled()&&w.height<=h,O={x:0,y:0,width:g,height:h},M=_?this.getShadedRegionBounds(g,h,w):O,E=this.createCanvasElement(M.width,M.height),R={willReadFrequently:!0},L=E.getContext("2d",R);L.canvas.width=M.width,L.canvas.height=M.height,this.element.append(E),_&&this.possiblyInsertShadingElement(this.element,g,h,w),this.createScannerPausedUiElement(this.element),this.qrRegion=M,this.context=L,this.canvasElement=E},f.prototype.createScannerPausedUiElement=function(g){var h=document.createElement("div");h.innerText=Ts.scannerPaused(),h.style.display="none",h.style.position="absolute",h.style.top="0px",h.style.zIndex="1",h.style.background="rgba(9, 9, 9, 0.46)",h.style.color="#FFECEC",h.style.textAlign="center",h.style.width="100%",g.appendChild(h),this.scannerPausedUiElement=h},f.prototype.scanContext=function(g,h){var y=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(A){return g(A.text,$d.createFromQrcodeResult(A)),y.possiblyUpdateShaders(!0),!0}).catch(function(A){y.possiblyUpdateShaders(!1);var w=Ts.codeParseError(A);return h(w,Hh.createFrom(w)),!1})},f.prototype.foreverScan=function(g,h,y){var A=this;if(this.shouldScan&&this.renderedCamera){var w=this.renderedCamera.getSurface(),_=w.videoWidth/w.clientWidth,O=w.videoHeight/w.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var M=this.qrRegion.width*_,E=this.qrRegion.height*O,R=this.qrRegion.x*_,L=this.qrRegion.y*O;this.context.drawImage(w,R,L,M,E,0,0,this.qrRegion.width,this.qrRegion.height);var H=function(){A.foreverScanTimeout=setTimeout(function(){A.foreverScan(g,h,y)},A.getTimeoutFps(g.fps))};this.scanContext(h,y).then(function(ie){!ie&&g.disableFlip!==!0?(A.context.translate(A.context.canvas.width,0),A.context.scale(-1,1),A.scanContext(h,y).finally(function(){H()})):H()}).catch(function(ie){A.logger.logError("Error happend while scanning context",ie),H()})}},f.prototype.createVideoConstraints=function(g){if(typeof g=="string")return{deviceId:{exact:g}};if(typeof g=="object"){var h="facingMode",y="deviceId",A={user:!0,environment:!0},w="exact",_=function(ae){if(ae in A)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ae,"'")},O=Object.keys(g);if(O.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(O.length," keys");var M=Object.keys(g)[0];if(M!==h&&M!==y)throw"Only '".concat(h,"' and '").concat(y,"' ")+" are supported for 'cameraIdOrConfig'";if(M===h){var E=g.facingMode;if(typeof E=="string"){if(_(E))return{facingMode:E}}else if(typeof E=="object")if(w in E){if(_(E["".concat(w)]))return{facingMode:{exact:E["".concat(w)]}}}else throw"'facingMode' should be string or object with"+" ".concat(w," as key.");else{var R=typeof E;throw"Invalid type of 'facingMode' = ".concat(R)}}else{var L=g.deviceId;if(typeof L=="string")return{deviceId:L};if(typeof L=="object"){if(w in L)return{deviceId:{exact:L["".concat(w)]}};throw"'deviceId' should be string or object with"+" ".concat(w," as key.")}else{var H=typeof L;throw"Invalid type of 'deviceId' = ".concat(H)}}}var ie=typeof g;throw"Invalid type of 'cameraIdOrConfig' = ".concat(ie)},f.prototype.computeCanvasDrawConfig=function(g,h,y,A){if(g<=y&&h<=A){var w=(y-g)/2,_=(A-h)/2;return{x:w,y:_,width:g,height:h}}else{var O=g,M=h;return g>y&&(h=y/g*h,g=y),h>A&&(g=A/h*g,h=A),this.logger.log("Image downsampled from "+"".concat(O,"X").concat(M)+" to ".concat(g,"X").concat(h,".")),this.computeCanvasDrawConfig(g,h,y,A)}},f.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var g=document.getElementById(this.elementId);g&&(g.innerHTML="")},f.prototype.possiblyUpdateShaders=function(g){this.qrMatch!==g&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(h){h.style.backgroundColor=g?sa.BORDER_SHADER_MATCH_COLOR:sa.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=g)},f.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},f.prototype.createCanvasElement=function(g,h,y){var A=g,w=h,_=document.createElement("canvas");return _.style.width="".concat(A,"px"),_.style.height="".concat(w,"px"),_.style.display="none",_.id=Ka(y)?"qr-canvas":y,_},f.prototype.getShadedRegionBounds=function(g,h,y){if(y.width>g||y.height>h)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(g-y.width)/2,y:(h-y.height)/2,width:y.width,height:y.height}},f.prototype.possiblyInsertShadingElement=function(g,h,y,A){if(!(h-A.width<1||y-A.height<1)){var w=document.createElement("div");w.style.position="absolute";var _=(h-A.width)/2,O=(y-A.height)/2;if(w.style.borderLeft="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderRight="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderTop="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderBottom="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),w.style.boxSizing="border-box",w.style.top="0px",w.style.bottom="0px",w.style.left="0px",w.style.right="0px",w.id="".concat(sa.SHADED_REGION_ELEMENT_ID),h-A.width<11||y-A.height<11)this.hasBorderShaders=!1;else{var M=5,E=40;this.insertShaderBorders(w,E,M,-M,null,0,!0),this.insertShaderBorders(w,E,M,-M,null,0,!1),this.insertShaderBorders(w,E,M,null,-M,0,!0),this.insertShaderBorders(w,E,M,null,-M,0,!1),this.insertShaderBorders(w,M,E+M,-M,null,-M,!0),this.insertShaderBorders(w,M,E+M,null,-M,-M,!0),this.insertShaderBorders(w,M,E+M,-M,null,-M,!1),this.insertShaderBorders(w,M,E+M,null,-M,-M,!1),this.hasBorderShaders=!0}g.append(w)}},f.prototype.insertShaderBorders=function(g,h,y,A,w,_,O){var M=document.createElement("div");M.style.position="absolute",M.style.backgroundColor=sa.BORDER_SHADER_DEFAULT_COLOR,M.style.width="".concat(h,"px"),M.style.height="".concat(y,"px"),A!==null&&(M.style.top="".concat(A,"px")),w!==null&&(M.style.bottom="".concat(w,"px")),O?M.style.left="".concat(_,"px"):M.style.right="".concat(_,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(M),g.appendChild(M)},f.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},f.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},f.prototype.getTimeoutFps=function(g){return 1e3/g},f}(),L0="data:image/svg+xml;base64,",zp=L0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Pp=L0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",ch=L0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Fp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",uh=function(){function f(){}return f.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},f}(),Hp=function(){function f(){this.data=uh.createDefault();var g=localStorage.getItem(f.LOCAL_STORAGE_KEY);g?this.data=JSON.parse(g):this.reset()}return f.prototype.hasCameraPermissions=function(){return this.data.hasPermission},f.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},f.prototype.setHasPermission=function(g){this.data.hasPermission=g,this.flush()},f.prototype.setLastUsedCameraId=function(g){this.data.lastUsedCameraId=g,this.flush()},f.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},f.prototype.reset=function(){this.data=uh.createDefault(),this.flush()},f.prototype.flush=function(){localStorage.setItem(f.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},f.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",f}(),Gp=function(){function f(){this.infoDiv=document.createElement("div")}return f.prototype.renderInto=function(g){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=eh.poweredBy();var h=document.createElement("a");h.innerText="ScanApp",h.href="https://scanapp.org",h.target="new",h.style.color="white",this.infoDiv.appendChild(h);var y=document.createElement("br"),A=document.createElement("br");this.infoDiv.appendChild(y),this.infoDiv.appendChild(A);var w=document.createElement("a");w.innerText=eh.reportIssues(),w.href="https://github.com/mebjas/html5-qrcode/issues",w.target="new",w.style.color="white",this.infoDiv.appendChild(w),g.appendChild(this.infoDiv)},f.prototype.show=function(){this.infoDiv.style.display="block"},f.prototype.hide=function(){this.infoDiv.style.display="none"},f}(),Vp=function(){function f(g,h){this.isShowingInfoIcon=!0,this.onTapIn=g,this.onTapOut=h,this.infoIcon=document.createElement("img")}return f.prototype.renderInto=function(g){var h=this;this.infoIcon.alt="Info icon",this.infoIcon.src=ch,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(y){return h.onHoverIn()},this.infoIcon.onmouseout=function(y){return h.onHoverOut()},this.infoIcon.onclick=function(y){return h.onClick()},g.appendChild(this.infoIcon)},f.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},f.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},f.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Fp,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=ch,this.infoIcon.style.opacity="0.6")},f}(),Yp=function(){function f(){var g=this;this.infoDiv=new Gp,this.infoIcon=new Vp(function(){g.infoDiv.show()},function(){g.infoDiv.hide()})}return f.prototype.renderInto=function(g){this.infoDiv.renderInto(g),this.infoIcon.renderInto(g)},f}(),Xp=function(f,g,h,y){function A(w){return w instanceof h?w:new h(function(_){_(w)})}return new(h||(h=Promise))(function(w,_){function O(R){try{E(y.next(R))}catch(L){_(L)}}function M(R){try{E(y.throw(R))}catch(L){_(L)}}function E(R){R.done?w(R.value):A(R.value).then(O,M)}E((y=y.apply(f,g||[])).next())})},qp=function(f,g){var h={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,A,w,_;return _={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function O(E){return function(R){return M([E,R])}}function M(E){if(y)throw new TypeError("Generator is already executing.");for(;_&&(_=0,E[0]&&(h=0)),h;)try{if(y=1,A&&(w=E[0]&2?A.return:E[0]?A.throw||((w=A.return)&&w.call(A),0):A.next)&&!(w=w.call(A,E[1])).done)return w;switch(A=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,A=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(w=h.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){h.label=E[1];break}if(E[0]===6&&h.label<w[1]){h.label=w[1],w=E;break}if(w&&h.label<w[2]){h.label=w[2],h.ops.push(E);break}w[2]&&h.ops.pop(),h.trys.pop();continue}E=g.call(f,h)}catch(R){E=[6,R],A=0}finally{y=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},fh=function(){function f(){}return f.hasPermissions=function(){return Xp(this,void 0,void 0,function(){var g,h,y,A;return qp(this,function(w){switch(w.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(g=w.sent(),h=0,y=g;h<y.length;h++)if(A=y[h],A.kind==="videoinput"&&A.label)return[2,!0];return[2,!1]}})})},f}(),si=function(){function f(g){this.supportedScanTypes=this.validateAndReturnScanTypes(g)}return f.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},f.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},f.prototype.isCameraScanRequired=function(){for(var g=0,h=this.supportedScanTypes;g<h.length;g++){var y=h[g];if(f.isCameraScanType(y))return!0}return!1},f.isCameraScanType=function(g){return g===Sr.SCAN_TYPE_CAMERA},f.isFileScanType=function(g){return g===Sr.SCAN_TYPE_FILE},f.prototype.validateAndReturnScanTypes=function(g){if(!g||g.length===0)return Ia.DEFAULT_SUPPORTED_SCAN_TYPE;var h=Ia.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(g.length>h)throw"Max ".concat(h," values expected for ")+"supportedScanTypes";for(var y=0,A=g;y<A.length;y++){var w=A[y];if(!Ia.DEFAULT_SUPPORTED_SCAN_TYPE.includes(w))throw"Unsupported scan type ".concat(w)}return g},f}(),oa=function(){function f(){}return f.ALL_ELEMENT_CLASS="html5-qrcode-element",f.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",f.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",f.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",f.TORCH_BUTTON_ID="html5-qrcode-button-torch",f.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",f.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",f.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",f.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",f.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",f.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",f}(),Ar=function(){function f(){}return f.createElement=function(g,h){var y=document.createElement(g);return y.id=h,y.classList.add(oa.ALL_ELEMENT_CLASS),g==="button"&&y.setAttribute("type","button"),y},f}(),Xh=function(f,g,h,y){function A(w){return w instanceof h?w:new h(function(_){_(w)})}return new(h||(h=Promise))(function(w,_){function O(R){try{E(y.next(R))}catch(L){_(L)}}function M(R){try{E(y.throw(R))}catch(L){_(L)}}function E(R){R.done?w(R.value):A(R.value).then(O,M)}E((y=y.apply(f,g||[])).next())})},qh=function(f,g){var h={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,A,w,_;return _={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function O(E){return function(R){return M([E,R])}}function M(E){if(y)throw new TypeError("Generator is already executing.");for(;_&&(_=0,E[0]&&(h=0)),h;)try{if(y=1,A&&(w=E[0]&2?A.return:E[0]?A.throw||((w=A.return)&&w.call(A),0):A.next)&&!(w=w.call(A,E[1])).done)return w;switch(A=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,A=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(w=h.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){h.label=E[1];break}if(E[0]===6&&h.label<w[1]){h.label=w[1],w=E;break}if(w&&h.label<w[2]){h.label=w[2],h.ops.push(E);break}w[2]&&h.ops.pop(),h.trys.pop();continue}E=g.call(f,h)}catch(R){E=[6,R],A=0}finally{y=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},dh=function(){function f(g,h,y){this.isTorchOn=!1,this.torchCapability=g,this.buttonController=h,this.onTorchActionFailureCallback=y}return f.prototype.isTorchEnabled=function(){return this.isTorchOn},f.prototype.flipState=function(){return Xh(this,void 0,void 0,function(){var g,h;return qh(this,function(y){switch(y.label){case 0:this.buttonController.disable(),g=!this.isTorchOn,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this.torchCapability.apply(g)];case 2:return y.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),g),[3,4];case 3:return h=y.sent(),this.propagateFailure(g,h),this.buttonController.enable(),[3,4];case 4:return[2]}})})},f.prototype.updateUiBasedOnLatestSettings=function(g,h){g===h?(this.buttonController.setText(h?vt.torchOffButton():vt.torchOnButton()),this.isTorchOn=h):this.propagateFailure(h),this.buttonController.enable()},f.prototype.propagateFailure=function(g,h){var y=g?vt.torchOnFailedMessage():vt.torchOffFailedMessage();h&&(y+="; Error = "+h),this.onTorchActionFailureCallback(y)},f.prototype.reset=function(){this.isTorchOn=!1},f}(),Zp=function(){function f(g,h){this.onTorchActionFailureCallback=h,this.torchButton=Ar.createElement("button",oa.TORCH_BUTTON_ID),this.torchController=new dh(g,this,h)}return f.prototype.render=function(g,h){var y=this;this.torchButton.innerText=vt.torchOnButton(),this.torchButton.style.display=h.display,this.torchButton.style.marginLeft=h.marginLeft;var A=this;this.torchButton.addEventListener("click",function(w){return Xh(y,void 0,void 0,function(){return qh(this,function(_){switch(_.label){case 0:return[4,A.torchController.flipState()];case 1:return _.sent(),A.torchController.isTorchEnabled()?(A.torchButton.classList.remove(oa.TORCH_BUTTON_CLASS_TORCH_OFF),A.torchButton.classList.add(oa.TORCH_BUTTON_CLASS_TORCH_ON)):(A.torchButton.classList.remove(oa.TORCH_BUTTON_CLASS_TORCH_ON),A.torchButton.classList.add(oa.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),g.appendChild(this.torchButton)},f.prototype.updateTorchCapability=function(g){this.torchController=new dh(g,this,this.onTorchActionFailureCallback)},f.prototype.getTorchButton=function(){return this.torchButton},f.prototype.hide=function(){this.torchButton.style.display="none"},f.prototype.show=function(){this.torchButton.style.display="inline-block"},f.prototype.disable=function(){this.torchButton.disabled=!0},f.prototype.enable=function(){this.torchButton.disabled=!1},f.prototype.setText=function(g){this.torchButton.innerText=g},f.prototype.reset=function(){this.torchButton.innerText=vt.torchOnButton(),this.torchController.reset()},f.create=function(g,h,y,A){var w=new f(h,A);return w.render(g,y),w},f}(),Qp=function(){function f(g,h,y){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=h?"block":"none",g.appendChild(this.fileBasedScanRegion);var A=document.createElement("label");A.setAttribute("for",this.getFileScanInputId()),A.style.display="inline-block",this.fileBasedScanRegion.appendChild(A),this.fileSelectionButton=Ar.createElement("button",oa.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(O){A.click()}),A.append(this.fileSelectionButton),this.fileScanInput=Ar.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",A.appendChild(this.fileScanInput);var w=this;this.fileScanInput.addEventListener("change",function(O){if(!(O==null||O.target==null)){var M=O.target;if(!(M.files&&M.files.length===0)){var E=M.files,R=E[0],L=R.name;w.setImageNameToButton(L),y(R)}}});var _=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(_),this.fileBasedScanRegion.addEventListener("dragenter",function(O){w.fileBasedScanRegion.style.border=w.fileBasedScanRegionActiveBorder(),O.stopPropagation(),O.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(O){w.fileBasedScanRegion.style.border=w.fileBasedScanRegionDefaultBorder(),O.stopPropagation(),O.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(O){w.fileBasedScanRegion.style.border=w.fileBasedScanRegionActiveBorder(),O.stopPropagation(),O.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(O){O.stopPropagation(),O.preventDefault(),w.fileBasedScanRegion.style.border=w.fileBasedScanRegionDefaultBorder();var M=O.dataTransfer;if(M){var E=M.files;if(!E||E.length===0)return;for(var R=!1,L=0;L<E.length;++L){var H=E.item(L);if(H){var ie=/image.*/;if(H.type.match(ie)){R=!0;var ae=H.name;w.setImageNameToButton(ae),y(H),_.innerText=vt.dragAndDropMessage();break}}}R||(_.innerText=vt.dragAndDropMessageOnlyImages())}})}return f.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},f.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},f.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},f.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},f.prototype.createFileBasedScanRegion=function(){var g=document.createElement("div");return g.style.textAlign="center",g.style.margin="auto",g.style.width="80%",g.style.maxWidth="600px",g.style.border=this.fileBasedScanRegionDefaultBorder(),g.style.padding="10px",g.style.marginBottom="10px",g},f.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},f.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},f.prototype.createDragAndDropMessage=function(){var g=document.createElement("div");return g.innerText=vt.dragAndDropMessage(),g.style.fontWeight="400",g},f.prototype.setImageNameToButton=function(g){var h=20;if(g.length>h){var y=g.substring(0,8),A=g.length,w=g.substring(A-8,A);g="".concat(y,"....").concat(w)}var _=vt.fileSelectionChooseAnother()+" - "+g;this.fileSelectionButton.innerText=_},f.prototype.setInitialValueToButton=function(){var g=vt.fileSelectionChooseImage()+" - "+vt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=g},f.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},f.create=function(g,h,y){var A=new f(g,h,y);return A},f}(),Wp=function(){function f(g){this.selectElement=Ar.createElement("select",oa.CAMERA_SELECTION_SELECT_ID),this.cameras=g,this.options=[]}return f.prototype.render=function(g){var h=document.createElement("span");h.style.marginRight="10px";var y=this.cameras.length;if(y===0)throw new Error("No cameras found");if(y===1)h.style.display="none";else{var A=vt.selectCamera();h.innerText="".concat(A," (").concat(this.cameras.length,")  ")}for(var w=1,_=0,O=this.cameras;_<O.length;_++){var M=O[_],E=M.id,R=M.label==null?E:M.label;(!R||R==="")&&(R=[vt.anonymousCameraPrefix(),w++].join(" "));var L=document.createElement("option");L.value=E,L.innerText=R,this.options.push(L),this.selectElement.appendChild(L)}h.appendChild(this.selectElement),g.appendChild(h)},f.prototype.disable=function(){this.selectElement.disabled=!0},f.prototype.isDisabled=function(){return this.selectElement.disabled===!0},f.prototype.enable=function(){this.selectElement.disabled=!1},f.prototype.getValue=function(){return this.selectElement.value},f.prototype.hasValue=function(g){for(var h=0,y=this.options;h<y.length;h++){var A=y[h];if(A.value===g)return!0}return!1},f.prototype.setValue=function(g){if(!this.hasValue(g))throw new Error("".concat(g," is not present in the camera list."));this.selectElement.value=g},f.prototype.hasSingleItem=function(){return this.cameras.length===1},f.prototype.numCameras=function(){return this.cameras.length},f.create=function(g,h){var y=new f(h);return y.render(g),y},f}(),Kp=function(){function f(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ar.createElement("input",oa.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return f.prototype.render=function(g,h){this.zoomElementContainer.style.display=h?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",g.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var y=vt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(y),this.rangeText.style.marginRight="10px";var A=this;this.rangeInput.addEventListener("input",function(){return A.onValueChange()}),this.rangeInput.addEventListener("change",function(){return A.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},f.prototype.onValueChange=function(){var g=vt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(g),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},f.prototype.setValues=function(g,h,y,A){this.rangeInput.min=g.toString(),this.rangeInput.max=h.toString(),this.rangeInput.step=A.toString(),this.rangeInput.value=y.toString(),this.onValueChange()},f.prototype.show=function(){this.zoomElementContainer.style.display="block"},f.prototype.hide=function(){this.zoomElementContainer.style.display="none"},f.prototype.setOnCameraZoomValueChangeCallback=function(g){this.onChangeCallback=g},f.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},f.create=function(g,h){var y=new f;return y.render(g,h),y},f}(),la;(function(f){f[f.STATUS_DEFAULT=0]="STATUS_DEFAULT",f[f.STATUS_SUCCESS=1]="STATUS_SUCCESS",f[f.STATUS_WARNING=2]="STATUS_WARNING",f[f.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(la||(la={}));function Jp(f){return{fps:f.fps,qrbox:f.qrbox,aspectRatio:f.aspectRatio,disableFlip:f.disableFlip,videoConstraints:f.videoConstraints}}function $p(f,g){return{formatsToSupport:f.formatsToSupport,useBarCodeDetectorIfSupported:f.useBarCodeDetectorIfSupported,experimentalFeatures:f.experimentalFeatures,verbose:g}}var ey=function(){function f(g,h,y){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=g,this.config=this.createConfig(h),this.verbose=y===!0,!document.getElementById(g))throw"HTML Element with id=".concat(g," not found");this.scanTypeSelector=new si(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Gh(this.verbose),this.persistedDataManager=new Hp,h.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return f.prototype.render=function(g,h){var y=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(w,_){if(g)g(w,_);else{if(y.lastMatchFound===w)return;y.lastMatchFound=w,y.setHeaderMessage(vt.lastMatch(w),la.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(w,_){h&&h(w,_)};var A=document.getElementById(this.elementId);if(!A)throw"HTML Element with id=".concat(this.elementId," not found");A.innerHTML="",this.createBasicLayout(A),this.html5Qrcode=new oh(this.getScanRegionId(),$p(this.config,this.verbose))},f.prototype.pause=function(g){(Ka(g)||g!==!0)&&(g=!1),this.getHtml5QrcodeOrFail().pause(g)},f.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},f.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},f.prototype.clear=function(){var g=this,h=function(){var y=document.getElementById(g.elementId);y&&(y.innerHTML="",g.resetBasicLayout(y))};return this.html5Qrcode?new Promise(function(y,A){if(!g.html5Qrcode){y();return}g.html5Qrcode.isScanning?g.html5Qrcode.stop().then(function(w){if(!g.html5Qrcode){y();return}g.html5Qrcode.clear(),h(),y()}).catch(function(w){g.verbose&&g.logger.logError("Unable to stop qrcode scanner",w),A(w)}):(g.html5Qrcode.clear(),h(),y())}):Promise.resolve()},f.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},f.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},f.prototype.applyVideoConstraints=function(g){return this.getHtml5QrcodeOrFail().applyVideoConstraints(g)},f.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},f.prototype.createConfig=function(g){return g?(g.fps||(g.fps=Ia.SCAN_DEFAULT_FPS),g.rememberLastUsedCamera!==!Ia.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(g.rememberLastUsedCamera=Ia.DEFAULT_REMEMBER_LAST_CAMERA_USED),g.supportedScanTypes||(g.supportedScanTypes=Ia.DEFAULT_SUPPORTED_SCAN_TYPE),g):{fps:Ia.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ia.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ia.DEFAULT_SUPPORTED_SCAN_TYPE}},f.prototype.createBasicLayout=function(g){g.style.position="relative",g.style.padding="0px",g.style.border="1px solid silver",this.createHeader(g);var h=document.createElement("div"),y=this.getScanRegionId();h.id=y,h.style.width="100%",h.style.minHeight="100px",h.style.textAlign="center",g.appendChild(h),si.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var A=document.createElement("div"),w=this.getDashboardId();A.id=w,A.style.width="100%",g.appendChild(A),this.setupInitialDashboard(A)},f.prototype.resetBasicLayout=function(g){g.style.border="none"},f.prototype.setupInitialDashboard=function(g){this.createSection(g),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},f.prototype.createHeader=function(g){var h=document.createElement("div");h.style.textAlign="left",h.style.margin="0px",g.appendChild(h);var y=new Yp;y.renderInto(h);var A=document.createElement("div");A.id=this.getHeaderMessageContainerId(),A.style.display="none",A.style.textAlign="center",A.style.fontSize="14px",A.style.padding="2px 10px",A.style.margin="4px",A.style.borderTop="1px solid #f6f6f6",h.appendChild(A)},f.prototype.createSection=function(g){var h=document.createElement("div");h.id=this.getDashboardSectionId(),h.style.width="100%",h.style.padding="10px 0px 10px 0px",h.style.textAlign="left",g.appendChild(h)},f.prototype.createCameraListUi=function(g,h,y){var A=this;A.showHideScanTypeSwapLink(!1),A.setHeaderMessage(vt.cameraPermissionRequesting());var w=function(){y||A.createPermissionButton(g,h)};oh.getCameras().then(function(_){A.persistedDataManager.setHasPermission(!0),A.showHideScanTypeSwapLink(!0),A.resetHeaderMessage(),_&&_.length>0?(g.removeChild(h),A.renderCameraSelection(_)):(A.setHeaderMessage(vt.noCameraFound(),la.STATUS_WARNING),w())}).catch(function(_){A.persistedDataManager.setHasPermission(!1),y?y.disabled=!1:w(),A.setHeaderMessage(_,la.STATUS_WARNING),A.showHideScanTypeSwapLink(!0)})},f.prototype.createPermissionButton=function(g,h){var y=this,A=Ar.createElement("button",this.getCameraPermissionButtonId());A.innerText=vt.cameraPermissionTitle(),A.addEventListener("click",function(){A.disabled=!0,y.createCameraListUi(g,h,A)}),h.appendChild(A)},f.prototype.createPermissionsUi=function(g,h){var y=this;if(si.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){fh.hasPermissions().then(function(A){A?y.createCameraListUi(g,h):(y.persistedDataManager.setHasPermission(!1),y.createPermissionButton(g,h))}).catch(function(A){y.persistedDataManager.setHasPermission(!1),y.createPermissionButton(g,h)});return}this.createPermissionButton(g,h)},f.prototype.createSectionControlPanel=function(){var g=document.getElementById(this.getDashboardSectionId()),h=document.createElement("div");g.appendChild(h);var y=document.createElement("div");y.id=this.getDashboardSectionCameraScanRegionId(),y.style.display=si.isCameraScanType(this.currentScanType)?"block":"none",h.appendChild(y);var A=document.createElement("div");A.style.textAlign="center",y.appendChild(A),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(y,A),this.renderFileScanUi(h)},f.prototype.renderFileScanUi=function(g){var h=si.isFileScanType(this.currentScanType),y=this,A=function(w){if(!y.html5Qrcode)throw"html5Qrcode not defined";si.isFileScanType(y.currentScanType)&&(y.setHeaderMessage(vt.loadingImage()),y.html5Qrcode.scanFileV2(w,!0).then(function(_){y.resetHeaderMessage(),y.qrCodeSuccessCallback(_.decodedText,_)}).catch(function(_){y.setHeaderMessage(_,la.STATUS_WARNING),y.qrCodeErrorCallback(_,Hh.createFrom(_))}))};this.fileSelectionUi=Qp.create(g,h,A)},f.prototype.renderCameraSelection=function(g){var h=this,y=this,A=document.getElementById(this.getDashboardSectionCameraScanRegionId());A.style.textAlign="center";var w=Kp.create(A,!1),_=function(Q){var ce=Q.zoomFeature();if(ce.isSupported()){w.setOnCameraZoomValueChangeCallback(function(se){ce.apply(se)});var W=1;h.config.defaultZoomValueIfSupported&&(W=h.config.defaultZoomValueIfSupported),W=mp(W,ce.min(),ce.max()),w.setValues(ce.min(),ce.max(),W,ce.step()),w.show()}},O=Wp.create(A,g),M=document.createElement("span"),E=Ar.createElement("button",oa.CAMERA_START_BUTTON_ID);E.innerText=vt.scanButtonStartScanningText(),M.appendChild(E);var R=Ar.createElement("button",oa.CAMERA_STOP_BUTTON_ID);R.innerText=vt.scanButtonStopScanningText(),R.style.display="none",R.disabled=!0,M.appendChild(R);var L,H=function(Q){if(!Q.torchFeature().isSupported()){L&&L.hide();return}L?L.updateTorchCapability(Q.torchFeature()):L=Zp.create(M,Q.torchFeature(),{display:"none",marginLeft:"5px"},function(ce){y.setHeaderMessage(ce,la.STATUS_WARNING)}),L.show()};A.appendChild(M);var ie=function(Q){Q||(E.style.display="none"),E.innerText=vt.scanButtonStartScanningText(),E.style.opacity="1",E.disabled=!1,Q&&(E.style.display="inline-block")};if(E.addEventListener("click",function(Q){E.innerText=vt.scanButtonScanningStarting(),O.disable(),E.disabled=!0,E.style.opacity="0.5",h.scanTypeSelector.hasMoreThanOneScanType()&&y.showHideScanTypeSwapLink(!1),y.resetHeaderMessage();var ce=O.getValue();y.persistedDataManager.setLastUsedCameraId(ce),y.html5Qrcode.start(ce,Jp(y.config),y.qrCodeSuccessCallback,y.qrCodeErrorCallback).then(function(W){R.disabled=!1,R.style.display="inline-block",ie(!1);var se=y.html5Qrcode.getRunningTrackCameraCapabilities();h.config.showTorchButtonIfSupported===!0&&H(se),h.config.showZoomSliderIfSupported===!0&&_(se)}).catch(function(W){y.showHideScanTypeSwapLink(!0),O.enable(),ie(!0),y.setHeaderMessage(W,la.STATUS_WARNING)})}),O.hasSingleItem()&&E.click(),R.addEventListener("click",function(Q){if(!y.html5Qrcode)throw"html5Qrcode not defined";R.disabled=!0,y.html5Qrcode.stop().then(function(ce){h.scanTypeSelector.hasMoreThanOneScanType()&&y.showHideScanTypeSwapLink(!0),O.enable(),E.disabled=!1,R.style.display="none",E.style.display="inline-block",L&&(L.reset(),L.hide()),w.removeOnCameraZoomValueChangeCallback(),w.hide(),y.insertCameraScanImageToScanRegion()}).catch(function(ce){R.disabled=!1,y.setHeaderMessage(ce,la.STATUS_WARNING)})}),y.persistedDataManager.getLastUsedCameraId()){var ae=y.persistedDataManager.getLastUsedCameraId();O.hasValue(ae)?(O.setValue(ae),E.click()):y.persistedDataManager.resetLastUsedCameraId()}},f.prototype.createSectionSwap=function(){var g=this,h=vt.textIfCameraScanSelected(),y=vt.textIfFileScanSelected(),A=document.getElementById(this.getDashboardSectionId()),w=document.createElement("div");w.style.textAlign="center";var _=Ar.createElement("span",this.getDashboardSectionSwapLinkId());_.style.textDecoration="underline",_.style.cursor="pointer",_.innerText=si.isCameraScanType(this.currentScanType)?h:y,_.addEventListener("click",function(){if(!g.sectionSwapAllowed){g.verbose&&g.logger.logError("Section swap called when not allowed");return}g.resetHeaderMessage(),g.fileSelectionUi.resetValue(),g.sectionSwapAllowed=!1,si.isCameraScanType(g.currentScanType)?(g.clearScanRegion(),g.getCameraScanRegion().style.display="none",g.fileSelectionUi.show(),_.innerText=y,g.currentScanType=Sr.SCAN_TYPE_FILE,g.insertFileScanImageToScanRegion()):(g.clearScanRegion(),g.getCameraScanRegion().style.display="block",g.fileSelectionUi.hide(),_.innerText=h,g.currentScanType=Sr.SCAN_TYPE_CAMERA,g.insertCameraScanImageToScanRegion(),g.startCameraScanIfPermissionExistsOnSwap()),g.sectionSwapAllowed=!0}),w.appendChild(_),A.appendChild(w)},f.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var g=this,h=this;if(this.persistedDataManager.hasCameraPermissions()){fh.hasPermissions().then(function(y){if(y){var A=document.getElementById(h.getCameraPermissionButtonId());if(!A)throw g.logger.logError("Permission button not found, fail;"),"Permission button not found";A.click()}else h.persistedDataManager.setHasPermission(!1)}).catch(function(y){h.persistedDataManager.setHasPermission(!1)});return}},f.prototype.resetHeaderMessage=function(){var g=document.getElementById(this.getHeaderMessageContainerId());g.style.display="none"},f.prototype.setHeaderMessage=function(g,h){h||(h=la.STATUS_DEFAULT);var y=this.getHeaderMessageDiv();switch(y.innerText=g,y.style.display="block",h){case la.STATUS_SUCCESS:y.style.background="rgba(106, 175, 80, 0.26)",y.style.color="#477735";break;case la.STATUS_WARNING:y.style.background="rgba(203, 36, 49, 0.14)",y.style.color="#cb2431";break;case la.STATUS_DEFAULT:default:y.style.background="rgba(0, 0, 0, 0)",y.style.color="rgb(17, 17, 17)";break}},f.prototype.showHideScanTypeSwapLink=function(g){this.scanTypeSelector.hasMoreThanOneScanType()&&(g!==!0&&(g=!1),this.sectionSwapAllowed=g,this.getDashboardSectionSwapLink().style.display=g?"inline-block":"none")},f.prototype.insertCameraScanImageToScanRegion=function(){var g=this,h=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){h.innerHTML="<br>",h.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(y){h.innerHTML="<br>",h.appendChild(g.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=zp,this.cameraScanImage.alt=vt.cameraScanAltText()},f.prototype.insertFileScanImageToScanRegion=function(){var g=this,h=document.getElementById(this.getScanRegionId());if(this.fileScanImage){h.innerHTML="<br>",h.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(y){h.innerHTML="<br>",h.appendChild(g.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Pp,this.fileScanImage.alt=vt.fileScanAltText()},f.prototype.clearScanRegion=function(){var g=document.getElementById(this.getScanRegionId());g.innerHTML=""},f.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},f.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},f.prototype.getDashboardSectionSwapLinkId=function(){return oa.SCAN_TYPE_CHANGE_ANCHOR_ID},f.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},f.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},f.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},f.prototype.getCameraPermissionButtonId=function(){return oa.CAMERA_PERMISSION_BUTTON_ID},f.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},f.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},f.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},f}();const ty=()=>{const f=wa(),g=vr(),{canScan:h,incrementDailyScans:y,subscriptionType:A}=Ul(),{healthProfile:w}=M0(),{addProductToHistory:_}=O0();q.useRef(null);const[O,M]=q.useState(!1),[E,R]=q.useState(""),[L,H]=q.useState(null),[ie,ae]=q.useState(!1),[Q,ce]=q.useState("");q.useEffect(()=>{var Ne,Oe;(Ne=g.state)!=null&&Ne.fromHistory&&((Oe=g.state)!=null&&Oe.productInfo)&&(H(g.state.productInfo),R(g.state.productInfo.barcode||""))},[g.state]),q.useEffect(()=>()=>{O&&se()},[O]);const W=async()=>{if(!h()){Le.error("Has alcanzado el límite de escaneos diarios");return}try{if(M(!0),ce(""),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Tu navegador no soporta acceso a la cámara");const Ne=document.getElementById("qr-reader");Ne&&(Ne.innerHTML="");const Oe={fps:10,qrbox:{width:250,height:150},aspectRatio:1.777778,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!1,defaultZoomValueIfSupported:1,rememberLastUsedCamera:!1,supportedScanTypes:[Sr.SCAN_TYPE_CAMERA],videoConstraints:{facingMode:"environment",width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080}},formatsToSupport:[_e.QR_CODE,_e.EAN_13,_e.EAN_8,_e.CODE_128,_e.CODE_39],experimentalFeatures:{useBarCodeDetectorIfSupported:!0},disableFlip:!1,verbose:!1},Ae=new ey("qr-reader",Oe,!1),Te=X=>{R(X),le(X),Ae.clear(),M(!1),Le.success("¡Código escaneado exitosamente!")},tt=X=>{console.log("Escaneando...",X)};Ae.render(Te,tt),setTimeout(()=>{try{const X=document.querySelector("#qr-reader select");if(X){X.style.display="none";const k=X.options;for(let he=0;he<k.length;he++){const Ee=k[he].text.toLowerCase();if(Ee.includes("back")||Ee.includes("rear")||Ee.includes("environment")){X.selectedIndex=he,X.dispatchEvent(new Event("change"));break}}}const J=document.querySelector("#qr-reader__camera_selection");J&&(J.style.display="none"),document.querySelectorAll('#qr-reader button[title*="camera"], #qr-reader button[title*="Switch"]').forEach(k=>{k.style.display="none"}),document.querySelectorAll("#qr-reader select").forEach(k=>{k.style.display="none"}),document.querySelectorAll("#qr-reader span, #qr-reader label").forEach(k=>{(k.textContent.toLowerCase().includes("camera")||k.textContent.toLowerCase().includes("cámara")||k.textContent.toLowerCase().includes("select"))&&(k.style.display="none")})}catch(X){console.log("Error configurando cámara automática:",X)}},1e3),Le.success("Escáner activado. Apunta al código de barras")}catch(Ne){console.error("Error al inicializar escáner:",Ne),ce(Ne.message||"No se pudo acceder a la cámara. Verifica los permisos."),M(!1),Le.error(Ne.message||"Error al acceder a la cámara")}},se=()=>{M(!1),ce("");try{const Ne=document.getElementById("qr-reader");Ne&&(Ne.innerHTML="")}catch(Ne){console.log("Error limpiando escáner:",Ne)}},le=async Ne=>{var Oe,Ae,Te,tt,X,J,de;ae(!0),ce(""),H(null);try{const He=await(await fetch(`https://world.openfoodfacts.org/api/v0/product/${Ne}.json`)).json();if(He.status===1&&He.product){const k={name:He.product.product_name||"Producto sin nombre",brand:He.product.brands||"Marca no disponible",barcode:Ne,image:He.product.image_url,nutriscore:He.product.nutriscore_grade,nutrition:{energy:((Oe=He.product.nutriments)==null?void 0:Oe.energy_100g)||0,fat:((Ae=He.product.nutriments)==null?void 0:Ae.fat_100g)||0,carbohydrates:((Te=He.product.nutriments)==null?void 0:Te.carbohydrates_100g)||0,sugars:((tt=He.product.nutriments)==null?void 0:tt.sugars_100g)||0,proteins:((X=He.product.nutriments)==null?void 0:X.proteins_100g)||0,salt:((J=He.product.nutriments)==null?void 0:J.salt_100g)||0,fiber:((de=He.product.nutriments)==null?void 0:de.fiber_100g)||0}},he=(w==null?void 0:w.conditions)||[],Ee=Se(k,he,A),ve={...k,analysis:Ee};H(ve),_(k,Ee),y(),Le.success("Producto encontrado y analizado")}else ce("Producto no encontrado en la base de datos"),Le.error("Producto no encontrado")}catch(je){console.error("Error buscando producto:",je),ce("Error al buscar el producto"),Le.error("Error al buscar el producto")}finally{ae(!1)}},Se=(Ne,Oe,Ae)=>{const Te={recommendation:"",reasons:[],alternatives:[],aiInsights:"",detailedAnalysis:"",specificAnalysis:""},tt=Ne.nutrition.sugars>15,X=Ne.nutrition.salt>1.5,J=Ne.nutrition.fat>20;switch(Ae){case"free":tt||X||J?(Te.recommendation="❌ No recomendado",Te.reasons=["Alto contenido de ingredientes no saludables para tu perfil"]):(Te.recommendation="✅ Aceptable",Te.reasons=["Contenido nutricional dentro de rangos normales"]),Te.alternatives=["🔒 Desbloquea alternativas personalizadas con Premium","🔒 Análisis detallado disponible en Premium"];break;case"premium":Te.recommendation=tt||X||J?"⚠️ Consumir con moderación":"✅ Recomendado",Oe.includes("diabetes")&&tt&&Te.reasons.push("Alto en azúcares (puede afectar glucosa en sangre)"),Oe.includes("hipertension")&&X&&Te.reasons.push("Alto en sodio (puede elevar presión arterial)"),Oe.includes("colesterol_alto")&&J&&Te.reasons.push("Alto en grasas saturadas (puede afectar colesterol)"),Te.reasons.length===0&&Te.reasons.push("Perfil nutricional adecuado para tus condiciones de salud"),Te.alternatives=Ie(Oe);break;case"pro":Te.recommendation=tt||X||J?"❌ No recomendado":"✅ Altamente recomendado",Oe.includes("diabetes")&&tt&&Te.reasons.push("Alto en azúcares (puede afectar glucosa en sangre)"),Oe.includes("hipertension")&&X&&Te.reasons.push("Alto en sodio (puede elevar presión arterial)"),Oe.includes("colesterol_alto")&&J&&Te.reasons.push("Alto en grasas saturadas (puede afectar colesterol)"),Te.reasons.length===0&&Te.reasons.push("Perfil nutricional excelente para tus condiciones de salud"),Te.specificAnalysis=be(Ne,Oe),Te.aiInsights=ne(Ne,Oe),Te.detailedAnalysis=re(Ne),Te.alternatives=Ie(Oe);break}return Te},Ie=Ne=>{const Oe=[];return Ne.includes("diabetes")&&Oe.push("Galletas integrales sin azúcar añadido","Frutos secos naturales (almendras, nueces)","Frutas frescas con fibra (manzana, pera)","Yogur griego natural sin azúcar"),Ne.includes("colesterol_alto")&&Oe.push("Galletas de avena con omega-3","Frutos secos (nueces, almendras)","Frutas deshidratadas sin azúcar","Barras de cereales integrales"),Ne.includes("hipertension")&&Oe.push("Galletas sin sal añadida","Frutas frescas variadas","Vegetales crujientes (zanahoria, apio)","Frutos secos sin sal"),Oe.length===0&&Oe.push("Galletas integrales sin azúcar añadido","Frutos secos naturales","Frutas deshidratadas sin azúcar","Barras de cereales integrales"),[...new Set(Oe)].slice(0,6)},ne=(Ne,Oe)=>{const Ae=Math.round((Ne.nutrition.energy||0)*.239);let Te="🧠 **Tu Asistente Nutricional Inteligente**: ";return Te+=`Este producto tiene ${Ae} calorías por 100g. `,Oe.includes("diabetes")&&(Te+=`Como tienes diabetes, ten cuidado con los ${Ne.nutrition.carbohydrates}g de carbohidratos. `),Oe.includes("colesterol_alto")&&(Te+=`Las grasas saturadas (${Ne.nutrition.fat}g) pueden afectar tu colesterol. `),Te+="💡 Consejo: Busca alternativas con menos azúcar y más fibra.",Te},re=(Ne,Oe)=>{const Ae=Math.round((Ne.nutrition.energy||0)*.239);return`📊 **Análisis Nutricional Detallado**: 
    
• **Energía**: ${Ae} calorías por 100g
• **Carbohidratos**: ${Ne.nutrition.carbohydrates}g (energía rápida)
• **Proteínas**: ${Ne.nutrition.proteins}g (construcción muscular)
• **Grasas**: ${Ne.nutrition.fat}g (energía de reserva)
• **Azúcares**: ${Ne.nutrition.sugars}g (impacto glucémico)
• **Sal**: ${Ne.nutrition.salt}g (presión arterial)

💡 **Recomendación**: Este producto es ${Ae>400?"alto":Ae>200?"moderado":"bajo"} en calorías.`},be=(Ne,Oe)=>{let Ae="";return Oe.includes("diabetes")&&(Ae+=`🩸 **Para tu Diabetes**: Los ${Ne.nutrition.carbohydrates}g de carbohidratos pueden elevar tu glucosa. Recomiendo máximo 1 porción y acompañar con proteína.

`),Oe.includes("hipertension")&&(Ae+=`💓 **Para tu Hipertensión**: Este producto contiene ${Ne.nutrition.salt}g de sal. Tu límite diario recomendado es 5g total.

`),Oe.includes("colesterol_alto")&&(Ae+=`🫀 **Para tu Colesterol**: Las ${Ne.nutrition.fat}g de grasas pueden afectar tus niveles. Prefiere opciones con menos grasas saturadas.

`),Ae||"Análisis específico basado en tu perfil de salud."},oe=()=>{const Ne=prompt("Ingresa el código de barras manualmente:");Ne&&Ne.trim()&&(R(Ne.trim()),le(Ne.trim()))};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 pb-20",children:[m.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-4 py-3",children:m.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[m.jsxs("button",{onClick:()=>f("/home"),className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[m.jsx(ki,{className:"w-5 h-5 mr-2"}),m.jsx("span",{className:"font-medium",children:"Volver"})]}),m.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Escáner de Productos"}),m.jsx("div",{className:"w-16"})]})}),m.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-gray-100",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:m.jsx(x0,{className:"w-8 h-8 text-white"})}),m.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Escanear Código de Barras"}),m.jsx("p",{className:"text-gray-600",children:"Apunta tu cámara al código de barras del producto"})]}),m.jsx("div",{className:"scanner-section mb-6",children:m.jsx("div",{id:"qr-reader",className:"w-full max-w-md mx-auto"})}),Q&&m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-4",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(fm,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0"}),m.jsx("p",{className:"text-red-700 text-sm",children:Q})]})}),m.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:O?m.jsx("button",{onClick:se,className:"flex items-center justify-center px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors font-medium",children:"Detener Escáner"}):m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:W,className:"flex items-center justify-center px-6 py-3 bg-gradient-to-r from-blue-600 to-green-600 text-white rounded-xl hover:from-blue-700 hover:to-green-700 transition-all duration-200 font-medium shadow-lg",children:[m.jsx(x0,{className:"w-5 h-5 mr-2"}),"Iniciar Escáner"]}),m.jsxs("button",{onClick:oe,className:"flex items-center justify-center px-6 py-3 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-colors font-medium",children:[m.jsx(Nm,{className:"w-5 h-5 mr-2"}),"Ingresar Código"]})]})})]}),ie&&m.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-gray-100",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Analizando producto..."})]})}),L&&m.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-gray-100",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[m.jsx("div",{className:"md:w-1/3",children:L.image?m.jsx("img",{src:L.image,alt:L.name,className:"w-full h-48 md:h-64 object-cover rounded-2xl shadow-md"}):m.jsx("div",{className:"w-full h-48 md:h-64 bg-gray-100 rounded-2xl flex items-center justify-center",children:m.jsx(x0,{className:"w-12 h-12 text-gray-400"})})}),m.jsxs("div",{className:"md:w-2/3 space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:L.name}),m.jsx("p",{className:"text-gray-600",children:L.brand}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Código: ",L.barcode]})]}),L.nutriscore&&m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-sm font-medium text-gray-700 mr-2",children:"Nutri-Score:"}),m.jsx("span",{className:`px-3 py-1 rounded-full text-white font-bold text-sm ${L.nutriscore==="a"?"bg-green-500":L.nutriscore==="b"?"bg-lime-500":L.nutriscore==="c"?"bg-yellow-500":L.nutriscore==="d"?"bg-orange-500":"bg-red-500"}`,children:L.nutriscore.toUpperCase()})]}),m.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-4 border border-purple-100",children:[m.jsxs("div",{className:"flex items-center mb-3",children:[m.jsx(rm,{className:"w-5 h-5 text-purple-600 mr-2"}),m.jsx("h4",{className:"font-bold text-purple-900",children:"Análisis Personalizado"})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-sm font-medium text-gray-700 mr-2",children:"Recomendación:"}),m.jsx("span",{className:"font-bold",children:L.analysis.recommendation})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Razones:"}),m.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:L.analysis.reasons.map((Ne,Oe)=>m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"text-purple-600 mr-2",children:"•"}),Ne]},Oe))})]}),L.analysis.specificAnalysis&&m.jsxs("div",{className:"bg-white rounded-xl p-3 border border-purple-200",children:[m.jsxs("h5",{className:"font-bold text-purple-900 mb-2 flex items-center",children:[m.jsx(D0,{className:"w-4 h-4 mr-1"}),"Análisis Específico para tu Salud"]}),m.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:L.analysis.specificAnalysis})]}),L.analysis.aiInsights&&m.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-3 border border-blue-200",children:m.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:L.analysis.aiInsights})}),L.analysis.detailedAnalysis&&m.jsx("div",{className:"bg-gray-50 rounded-xl p-3 border border-gray-200",children:m.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:L.analysis.detailedAnalysis})}),m.jsxs("div",{children:[m.jsx("span",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Alternativas recomendadas:"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:L.analysis.alternatives.map((Ne,Oe)=>m.jsx("div",{className:"bg-white rounded-lg p-2 border border-purple-200 text-sm text-gray-700",children:Ne},Oe))})]})]})]}),m.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[m.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center",children:[m.jsx(Jm,{className:"w-5 h-5 mr-2"}),"Información Nutricional (por 100g)"]}),m.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 text-sm",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-600",children:"Energía:"}),m.jsxs("span",{className:"font-medium ml-1",children:[Math.round((L.nutrition.energy||0)*.239)," kcal"]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-600",children:"Grasas:"}),m.jsxs("span",{className:"font-medium ml-1",children:[L.nutrition.fat,"g"]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-600",children:"Carbohidratos:"}),m.jsxs("span",{className:"font-medium ml-1",children:[L.nutrition.carbohydrates,"g"]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-600",children:"Azúcares:"}),m.jsxs("span",{className:"font-medium ml-1",children:[L.nutrition.sugars,"g"]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-600",children:"Proteínas:"}),m.jsxs("span",{className:"font-medium ml-1",children:[L.nutrition.proteins,"g"]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-600",children:"Sal:"}),m.jsxs("span",{className:"font-medium ml-1",children:[L.nutrition.salt,"g"]})]})]})]})]})]})})]})]})},ny=()=>{const f=wa(),{user:g,localProfile:h,signOut:y}=ji(),{healthProfile:A,updateHealthProfile:w,loading:_}=M0(),[O,M]=q.useState([]),[E,R]=q.useState([]),[L,H]=q.useState(!1);q.useEffect(()=>{A&&!_&&(M(A.conditions||[]),R(A.goals||[]))},[A,_]);const ie=[{id:"diabetes",label:"Diabetes",emoji:"🩸",color:"bg-red-100 border-red-300"},{id:"hipertension",label:"Hipertensión",emoji:"💓",color:"bg-orange-100 border-orange-300"},{id:"sin_vesicula",label:"Sin vesícula",emoji:"🫀",color:"bg-purple-100 border-purple-300"},{id:"intolerancia_lactosa",label:"Intolerancia a lactosa",emoji:"🥛",color:"bg-blue-100 border-blue-300"},{id:"celiaquia",label:"Celiaquía",emoji:"🌾",color:"bg-yellow-100 border-yellow-300"},{id:"colesterol_alto",label:"Colesterol alto",emoji:"🧈",color:"bg-pink-100 border-pink-300"}],ae=[{id:"gastritis",label:"Gastritis",emoji:"🔥",color:"bg-red-100 border-red-300"},{id:"reflujo",label:"Reflujo gastroesofágico",emoji:"🌋",color:"bg-orange-100 border-orange-300"},{id:"colon_irritable",label:"Síndrome de colon irritable",emoji:"🌪️",color:"bg-purple-100 border-purple-300"},{id:"hipotiroidismo",label:"Hipotiroidismo",emoji:"🦋",color:"bg-blue-100 border-blue-300"},{id:"hipertiroidismo",label:"Hipertiroidismo",emoji:"⚡",color:"bg-yellow-100 border-yellow-300"},{id:"anemia",label:"Anemia",emoji:"🩸",color:"bg-red-100 border-red-300"},{id:"osteoporosis",label:"Osteoporosis",emoji:"🦴",color:"bg-gray-100 border-gray-300"},{id:"artritis",label:"Artritis",emoji:"🦴",color:"bg-orange-100 border-orange-300"},{id:"higado_graso",label:"Hígado graso",emoji:"🫘",color:"bg-yellow-100 border-yellow-300"},{id:"insuficiencia_renal",label:"Insuficiencia renal",emoji:"🫘",color:"bg-blue-100 border-blue-300"},{id:"gota",label:"Gota",emoji:"💎",color:"bg-purple-100 border-purple-300"},{id:"fibromialgia",label:"Fibromialgia",emoji:"💫",color:"bg-pink-100 border-pink-300"},{id:"migranas",label:"Migrañas",emoji:"🧠",color:"bg-indigo-100 border-indigo-300"},{id:"depresion",label:"Depresión",emoji:"🌧️",color:"bg-gray-100 border-gray-300"},{id:"ansiedad",label:"Ansiedad",emoji:"😰",color:"bg-yellow-100 border-yellow-300"},{id:"insomnio",label:"Insomnio",emoji:"🌙",color:"bg-indigo-100 border-indigo-300"},{id:"acne",label:"Acné",emoji:"🔴",color:"bg-red-100 border-red-300"},{id:"psoriasis",label:"Psoriasis",emoji:"🌿",color:"bg-green-100 border-green-300"},{id:"eczema",label:"Eczema",emoji:"🌸",color:"bg-pink-100 border-pink-300"},{id:"menopausia",label:"Menopausia",emoji:"🌺",color:"bg-purple-100 border-purple-300"}],[Q,ce]=q.useState(!1),W=[{id:"perder_peso",label:"Perder peso",emoji:"⚖️",color:"bg-green-100 border-green-300"},{id:"ganar_masa_muscular",label:"Ganar masa muscular",emoji:"💪",color:"bg-blue-100 border-blue-300"},{id:"alimentacion_balanceada",label:"Alimentación balanceada",emoji:"🥗",color:"bg-emerald-100 border-emerald-300"},{id:"reducir_azucar",label:"Reducir azúcar",emoji:"🍯",color:"bg-amber-100 border-amber-300"},{id:"reducir_sodio",label:"Reducir sodio",emoji:"🧂",color:"bg-gray-100 border-gray-300"},{id:"aumentar_fibra",label:"Aumentar fibra",emoji:"🥕",color:"bg-orange-100 border-orange-300"}],se=ne=>{M(re=>re.includes(ne)?re.filter(be=>be!==ne):[...re,ne])},le=ne=>{R(re=>re.includes(ne)?re.filter(be=>be!==ne):[...re,ne])},Se=async()=>{H(!0);try{const{error:ne}=await w({conditions:O,goals:E});if(ne){Le.error("Error al guardar perfil: "+ne.message);return}Le.success("Perfil guardado correctamente"),f("/home")}catch(ne){console.error("Error al guardar perfil:",ne),Le.error("Error al guardar perfil")}finally{H(!1)}},Ie=async()=>{try{await y(),Le.success("Sesión cerrada correctamente"),f("/")}catch(ne){console.error("Error al cerrar sesión:",ne),Le.error("Error al cerrar sesión")}};return _?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Cargando perfil..."})]})}):m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4",children:m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-green-600 rounded-3xl p-6 mb-6 text-white shadow-xl",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mr-4 backdrop-blur-sm",children:m.jsx(li,{className:"w-8 h-8 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Mi Perfil de Salud"}),m.jsx("p",{className:"text-blue-100",children:g?g.email:h?"Usuario Local":"Configura tu perfil"})]})]}),g&&m.jsx("button",{onClick:Ie,className:"p-2 bg-white/20 rounded-xl hover:bg-white/30 transition-colors backdrop-blur-sm",children:m.jsx(Lh,{className:"w-5 h-5"})})]})}),m.jsxs("div",{className:"bg-white rounded-3xl p-6 mb-6 shadow-xl border border-gray-100",children:[m.jsxs("div",{className:"flex items-center mb-6",children:[m.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-2xl flex items-center justify-center mr-4",children:m.jsx(D0,{className:"w-6 h-6 text-red-600"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Condiciones de Salud"}),m.jsx("p",{className:"text-gray-600",children:"Selecciona las que apliquen a tu caso"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[ie.map(ne=>m.jsx("button",{onClick:()=>se(ne.id),className:`p-4 rounded-2xl border-2 transition-all duration-300 text-left ${O.includes(ne.id)?`${ne.color} border-opacity-100 shadow-md transform scale-105`:"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-2xl mr-3",children:ne.emoji}),m.jsx("span",{className:"font-medium text-gray-900",children:ne.label})]})},ne.id)),m.jsx("button",{onClick:()=>ce(!Q),className:"p-4 rounded-2xl border-2 border-dashed border-gray-300 hover:border-gray-400 transition-all duration-300 text-left bg-gray-50 hover:bg-gray-100",children:m.jsxs("div",{className:"flex items-center justify-center",children:[m.jsx("span",{className:"text-2xl mr-3",children:"➕"}),m.jsx("span",{className:"font-medium text-gray-700",children:Q?"Ocultar otras":"Otras condiciones"})]})})]}),Q&&m.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Condiciones adicionales"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ae.map(ne=>m.jsx("button",{onClick:()=>se(ne.id),className:`p-4 rounded-2xl border-2 transition-all duration-300 text-left ${O.includes(ne.id)?`${ne.color} border-opacity-100 shadow-md transform scale-105`:"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-2xl mr-3",children:ne.emoji}),m.jsx("span",{className:"font-medium text-gray-900",children:ne.label})]})},ne.id))})]})]}),m.jsxs("div",{className:"bg-white rounded-3xl p-6 mb-6 shadow-xl border border-gray-100",children:[m.jsxs("div",{className:"flex items-center mb-6",children:[m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-2xl flex items-center justify-center mr-4",children:m.jsx(Wm,{className:"w-6 h-6 text-green-600"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Objetivos Nutricionales"}),m.jsx("p",{className:"text-gray-600",children:"¿Qué quieres lograr con tu alimentación?"})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:W.map(ne=>m.jsx("button",{onClick:()=>le(ne.id),className:`p-4 rounded-2xl border-2 transition-all duration-300 text-left ${E.includes(ne.id)?`${ne.color} border-opacity-100 shadow-md transform scale-105`:"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-2xl mr-3",children:ne.emoji}),m.jsx("span",{className:"font-medium text-gray-900",children:ne.label})]})},ne.id))})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("button",{onClick:Se,disabled:L,className:"bg-gradient-to-r from-blue-600 to-green-600 text-white font-bold py-4 px-8 rounded-2xl hover:from-blue-700 hover:to-green-700 transition-all duration-300 transform hover:scale-105 shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none min-w-[200px]",children:L?m.jsxs("div",{className:"flex items-center justify-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Guardando..."]}):m.jsxs("div",{className:"flex items-center justify-center",children:[m.jsx(Pm,{className:"w-5 h-5 mr-2"}),"Guardar Perfil"]})}),m.jsx("p",{className:"text-gray-600 mt-4 text-sm",children:"Tu perfil se guardará y podrás comenzar a escanear productos"})]})]})})},ay=()=>{var Ie;const f=wa(),{user:g,localProfile:h,signOut:y}=ji(),{subscriptionType:A,getSubscriptionFeatures:w,cancelSubscription:_}=Ul(),[O,M]=q.useState(!0),[E,R]=q.useState(!1),[L,H]=q.useState("es"),ie=ne=>{M(ne),localStorage.setItem("notifications",ne.toString()),ne?"Notification"in window?Notification.requestPermission().then(re=>{re==="granted"?(Le.success("Notificaciones activadas"),new Notification("NutriScan AI",{body:"¡Notificaciones activadas correctamente!",icon:"/icon-192x192.png"})):(Le.warning("Permisos de notificación denegados"),M(!1),localStorage.setItem("notifications","false"))}):(Le.error("Tu navegador no soporta notificaciones"),M(!1),localStorage.setItem("notifications","false")):Le.success("Notificaciones desactivadas")},ae=ne=>{R(ne),ne?(document.documentElement.classList.add("dark"),document.body.classList.add("dark"),localStorage.setItem("darkMode","true"),Le.success("Modo oscuro activado")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark"),localStorage.setItem("darkMode","false"),Le.success("Modo oscuro desactivado"))};q.useEffect(()=>{const ne=localStorage.getItem("darkMode")==="true",re=localStorage.getItem("notifications")!=="false",be=localStorage.getItem("language")||"Español";R(ne),M(re),H(be),ne?(document.documentElement.classList.add("dark"),document.body.classList.add("dark")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark"))},[]);const Q=g||h,ce=w(),W=async()=>{try{await y(),Le.success("Sesión cerrada correctamente"),f("/")}catch(ne){console.error("Error al cerrar sesión:",ne),Le.error("Error al cerrar sesión")}},se=async()=>{if(A==="free"){Le.info("Ya tienes el plan gratuito");return}if(window.confirm("¿Estás seguro de que quieres cancelar tu suscripción?"))try{const{success:re,error:be}=await _();re?Le.success("Suscripción cancelada correctamente"):Le.error("Error al cancelar suscripción: "+(be==null?void 0:be.message))}catch(re){console.error("Error canceling subscription:",re),Le.error("Error inesperado al cancelar suscripción")}},le=()=>{const ne={free:{text:"Gratuito",color:"bg-gray-100 text-gray-800"},premium:{text:"Premium",color:"bg-blue-100 text-blue-800"},pro:{text:"Pro",color:"bg-purple-100 text-purple-800"}};return ne[A]||ne.free},Se=[{title:"Cuenta",items:[{icon:m.jsx(li,{className:"w-5 h-5"}),label:"Perfil de Usuario",value:(Q==null?void 0:Q.email)||"Usuario Local",action:()=>f("/profile")},{icon:m.jsx(Li,{className:"w-5 h-5"}),label:"Suscripción",value:le().text,action:()=>f("/subscription"),badge:le().color}]},{title:"Preferencias",items:[{icon:m.jsx(nm,{className:"w-5 h-5"}),label:"Notificaciones",value:O?"Activadas":"Desactivadas",toggle:!0,checked:O,onChange:ie},{icon:m.jsx(Lm,{className:"w-5 h-5"}),label:"Modo Oscuro",value:E?"Activado":"Desactivado",toggle:!0,checked:E,onChange:ae},{icon:m.jsx(Em,{className:"w-5 h-5"}),label:"Idioma",value:L,action:()=>{const ne=["Español","English","Português","Français"],be=(ne.indexOf(L)+1)%ne.length,oe=ne[be];H(oe),localStorage.setItem("language",oe),Le.success(`Idioma cambiado a ${oe}`)}}]},{title:"Soporte",items:[{icon:m.jsx(hm,{className:"w-5 h-5"}),label:"Centro de Ayuda",action:()=>f("/support")},{icon:m.jsx(nc,{className:"w-5 h-5"}),label:"Política de Privacidad",action:()=>f("/privacy")}]}];return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50",children:[m.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 p-4",children:m.jsxs("div",{className:"max-w-4xl mx-auto flex items-center",children:[m.jsx("button",{onClick:()=>f("/home"),className:"mr-4 p-2 hover:bg-gray-100 rounded-xl transition-colors",children:m.jsx(ki,{className:"w-6 h-6 text-gray-600"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Configuración"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Personaliza tu experiencia"})]})]})}),m.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[m.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-green-600 rounded-3xl p-6 text-white shadow-xl",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mr-4 backdrop-blur-sm",children:m.jsx(li,{className:"w-8 h-8 text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold",children:((Ie=Q==null?void 0:Q.email)==null?void 0:Ie.split("@")[0])||"Usuario Local"}),m.jsx("p",{className:"text-blue-100",children:(Q==null?void 0:Q.email)||"Cuenta local"})]})]}),m.jsx("div",{className:`px-4 py-2 rounded-xl font-medium ${le().color}`,children:le().text})]})}),m.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-gray-100",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Estado de Suscripción"}),m.jsx(Li,{className:"w-6 h-6 text-purple-600"})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Características Actuales:"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center text-sm",children:[m.jsx(Ns,{className:"w-4 h-4 text-green-500 mr-2"}),m.jsxs("span",{children:["Escaneos: ",ce.scans]})]}),m.jsxs("div",{className:"flex items-center text-sm",children:[m.jsx(Ns,{className:"w-4 h-4 text-green-500 mr-2"}),m.jsxs("span",{children:["Análisis: ",ce.analysis]})]}),m.jsxs("div",{className:"flex items-center text-sm",children:[m.jsx(Ns,{className:"w-4 h-4 text-green-500 mr-2"}),m.jsxs("span",{children:["Historial: ",ce.history]})]}),m.jsxs("div",{className:"flex items-center text-sm",children:[m.jsx(Ns,{className:"w-4 h-4 text-green-500 mr-2"}),m.jsxs("span",{children:["Anuncios: ",ce.ads]})]})]})]}),m.jsx("div",{className:"space-y-3",children:A==="free"?m.jsx("button",{onClick:()=>f("/subscription"),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-3 px-6 rounded-2xl hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105",children:"Actualizar a Premium"}):m.jsxs("div",{className:"space-y-2",children:[m.jsx("button",{onClick:()=>f("/subscription"),className:"w-full bg-blue-600 text-white font-medium py-3 px-6 rounded-xl hover:bg-blue-700 transition-colors",children:"Gestionar Suscripción"}),m.jsx("button",{onClick:se,className:"w-full bg-gray-100 text-gray-700 font-medium py-2 px-6 rounded-xl hover:bg-gray-200 transition-colors text-sm",children:"Cancelar Suscripción"})]})})]})]}),Se.map((ne,re)=>m.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-gray-100",children:m.jsx("h3",{className:"text-lg font-bold text-gray-900",children:ne.title})}),m.jsx("div",{className:"divide-y divide-gray-100",children:ne.items.map((be,oe)=>m.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center mr-4",children:be.icon}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900",children:be.label}),be.value&&m.jsx("p",{className:"text-sm text-gray-600",children:be.value})]})]}),m.jsxs("div",{className:"flex items-center",children:[be.badge&&m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium mr-3 ${be.badge}`,children:be.value}),be.toggle?m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:be.checked,onChange:Ne=>be.onChange(Ne.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]}):be.action?m.jsx("button",{onClick:be.action,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:m.jsx(cm,{className:"w-5 h-5 text-gray-400"})}):null]})]})},oe))})]},re)),m.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-gray-100",children:m.jsxs("button",{onClick:W,className:"w-full flex items-center justify-center py-4 px-6 bg-red-50 text-red-600 font-medium rounded-2xl hover:bg-red-100 transition-colors",children:[m.jsx(Lh,{className:"w-5 h-5 mr-2"}),"Cerrar Sesión"]})}),m.jsxs("div",{className:"text-center py-6",children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"NutriScan AI v1.0.0"}),m.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"© 2025 NutriScan AI. Todos los derechos reservados."})]})]})]})},ry=()=>{const f=wa(),g=[{icon:m.jsx(Rl,{className:"w-8 h-8 text-green-600"}),title:"Rápido",description:"Escanea códigos de barras al instante"},{icon:m.jsx(D0,{className:"w-8 h-8 text-blue-600"}),title:"Personal",description:"Recomendaciones según tu salud"},{icon:m.jsx(ic,{className:"w-8 h-8 text-purple-600"}),title:"Saludable",description:"Toma mejores decisiones alimentarias"}];return m.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-blue-50 via-white to-green-50",children:m.jsxs("div",{className:"max-w-md w-full text-center bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:m.jsx(Rl,{className:"w-10 h-10 text-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"NutriScan AI"}),m.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Tu asistente nutricional personal"})]}),m.jsx("div",{className:"mb-8",children:m.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"Escanea productos y recibe recomendaciones personalizadas según tus condiciones de salud."})}),m.jsx("div",{className:"grid grid-cols-3 gap-4 mb-8",children:g.map((h,y)=>m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center mx-auto mb-2 border border-gray-100",children:h.icon}),m.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:h.title}),m.jsx("p",{className:"text-xs text-gray-600 leading-tight",children:h.description})]},y))}),m.jsx("button",{onClick:()=>f("/auth"),className:"w-full bg-gradient-to-r from-blue-600 to-green-600 text-white font-semibold py-4 px-6 rounded-2xl hover:from-blue-700 hover:to-green-700 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:"Empezar ahora"}),m.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Gratis • Sin compromisos • Fácil de usar"})]})})},iy=()=>{const f=wa(),{signIn:g,signUp:h,continueWithoutAccount:y,signInWithGoogle:A}=ji(),[w,_]=q.useState(!0),[O,M]=q.useState(!1),[E,R]=q.useState(!1),[L,H]=q.useState({email:"",password:""}),ie=ce=>{H({...L,[ce.target.name]:ce.target.value})},ae=async ce=>{ce.preventDefault(),R(!0);try{const{user:W,error:se}=w?await g(L.email,L.password):await h(L.email,L.password);if(se){Le.error(se.message||"Error en la autenticación");return}W&&(Le.success(w?"Sesión iniciada correctamente":"Cuenta creada correctamente"),f("/profile"))}catch{Le.error("Error inesperado")}finally{R(!1)}},Q=()=>{try{const{user:ce,error:W}=y();if(W){Le.error("Error al continuar sin cuenta");return}ce&&(Le.success("Continuando sin cuenta"),f("/profile"))}catch{Le.error("Error inesperado")}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-blue-50 via-white to-green-50",children:m.jsxs("div",{className:"max-w-md w-full",children:[m.jsxs("button",{onClick:()=>f("/"),className:"flex items-center text-gray-600 hover:text-gray-800 mb-6 transition-colors",children:[m.jsx(ki,{className:"w-5 h-5 mr-2"}),"Volver"]}),m.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:w?"Bienvenido de nuevo":"Crear cuenta"}),m.jsx("p",{className:"text-gray-600",children:w?"Ingresa tus credenciales para continuar":"Únete a NutriScan AI hoy"})]}),m.jsxs("form",{onSubmit:ae,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrónico"}),m.jsxs("div",{className:"relative",children:[m.jsx(rc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),m.jsx("input",{type:"email",name:"email",value:L.email,onChange:ie,placeholder:"tu@email.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),m.jsxs("div",{className:"relative",children:[m.jsx(b0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),m.jsx("input",{type:O?"text":"password",name:"password",value:L.password,onChange:ie,placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0}),m.jsx("button",{type:"button",onClick:()=>M(!O),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:O?m.jsx(bm,{className:"w-5 h-5"}):m.jsx(Bh,{className:"w-5 h-5"})})]})]}),m.jsx("button",{type:"submit",disabled:E,className:"w-full bg-gradient-to-r from-blue-600 to-green-600 text-white font-semibold py-3 px-6 rounded-xl hover:from-blue-700 hover:to-green-700 transition-all duration-300 transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:E?m.jsxs("div",{className:"flex items-center justify-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Procesando..."]}):w?"Iniciar Sesión":"Crear Cuenta"})]}),m.jsx("div",{className:"text-center mt-6",children:m.jsx("button",{onClick:()=>_(!w),className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:w?"¿No tienes cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})}),m.jsxs("div",{className:"relative my-6",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("div",{className:"w-full border-t border-gray-300"})}),m.jsx("div",{className:"relative flex justify-center text-sm",children:m.jsx("span",{className:"px-2 bg-white text-gray-500",children:"o"})})]}),m.jsxs("button",{onClick:async()=>{try{const{user:ce,error:W}=await A();if(W){Le.error("Error al iniciar sesión con Google");return}ce&&(Le.success("Sesión iniciada con Google"),f("/profile"))}catch{Le.error("Error inesperado")}},className:"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-xl font-medium hover:bg-gray-50 transition-colors flex items-center justify-center gap-3 mb-4",children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar con Google"]}),m.jsxs("button",{onClick:Q,className:"w-full flex items-center justify-center py-3 px-6 border border-gray-300 rounded-xl text-gray-700 bg-white hover:bg-gray-50 transition-all duration-300 font-medium",children:[m.jsx(li,{className:"w-5 h-5 mr-2"}),"Continuar sin cuenta"]}),m.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Al continuar sin cuenta, tus datos se guardarán localmente en tu dispositivo"})]})]})})},sy=()=>{const f=wa(),{subscriptionType:g,upgradeSubscription:h}=Ul(),y=[{id:"free",name:"Gratuito",price:0,period:"Siempre",color:"from-gray-500 to-gray-600",features:["5 escaneos diarios","Información nutricional básica","Perfil de salud simple","Anuncios discretos","Soporte de comunidad"],limitations:["Límite de escaneos","Funciones básicas","Con anuncios"]},{id:"premium",name:"Premium",price:3.99,period:"mes",yearlyPrice:33.99,color:"from-blue-600 to-purple-600",popular:!0,features:["Escaneos ilimitados","Análisis nutricional avanzado","Seguimiento de objetivos","Historial completo","Sin anuncios","Comparación de productos","Soporte por email"],benefits:["Ahorra 50% anual","Análisis detallado","Sin interrupciones"]},{id:"pro",name:"Pro",price:7.99,period:"mes",yearlyPrice:67.99,color:"from-purple-600 to-pink-600",features:["Todo lo de Premium","Análisis con IA avanzada","Recomendaciones personalizadas","Exportación de datos","Soporte prioritario","Funciones experimentales","Consultas nutricionales","API de terceros"],benefits:["IA más potente","Soporte VIP","Acceso anticipado"]}],A=async(w,_="monthly")=>{if(w==="free"){Le.info("Ya tienes el plan gratuito");return}try{const{success:O,error:M}=await h(w,_);O?(Le.success(`¡Bienvenido a ${w==="premium"?"Premium":"Pro"}!`),f("/home")):Le.error("Error al procesar la suscripción: "+(M==null?void 0:M.message))}catch(O){console.error("Error upgrading subscription:",O),Le.error("Error inesperado al procesar la suscripción")}};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[m.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 p-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex items-center",children:[m.jsx("button",{onClick:()=>f("/home"),className:"mr-4 p-2 hover:bg-gray-100 rounded-xl transition-colors",children:m.jsx(ki,{className:"w-6 h-6 text-gray-600"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Planes y Suscripciones"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Elige el plan que mejor se adapte a tus necesidades"})]})]})}),m.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:m.jsx(Li,{className:"w-10 h-10 text-white"})}),m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Desbloquea Todo el Potencial de NutriScan AI"}),m.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Obtén análisis nutricionales avanzados, escaneos ilimitados y recomendaciones personalizadas"})]}),m.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:y.map(w=>m.jsxs("div",{className:`relative bg-white rounded-3xl p-8 shadow-xl border-2 transition-all duration-300 hover:scale-105 ${w.popular?"border-purple-500 shadow-purple-200":"border-gray-200"} ${g===w.id?"ring-4 ring-green-500 ring-opacity-50":""}`,children:[w.popular&&m.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:m.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-full text-sm font-bold flex items-center",children:[m.jsx(m0,{className:"w-4 h-4 mr-1"}),"Más Popular"]})}),g===w.id&&m.jsx("div",{className:"absolute -top-4 right-4",children:m.jsxs("div",{className:"bg-green-500 text-white px-4 py-2 rounded-full text-sm font-bold flex items-center",children:[m.jsx(Ns,{className:"w-4 h-4 mr-1"}),"Actual"]})}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsxs("div",{className:`w-16 h-16 bg-gradient-to-r ${w.color} rounded-2xl flex items-center justify-center mx-auto mb-4`,children:[w.id==="free"&&m.jsx(ic,{className:"w-8 h-8 text-white"}),w.id==="premium"&&m.jsx(Li,{className:"w-8 h-8 text-white"}),w.id==="pro"&&m.jsx(m0,{className:"w-8 h-8 text-white"})]}),m.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:w.name}),m.jsx("div",{className:"mb-4",children:w.price===0?m.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"Gratis"}):m.jsxs("div",{children:[m.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["$",w.price,m.jsxs("span",{className:"text-lg text-gray-600",children:["/",w.period]})]}),w.yearlyPrice&&m.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["o $",w.yearlyPrice,"/año (ahorra 30%)"]})]})})]}),m.jsx("div",{className:"space-y-4 mb-8",children:w.features.map((_,O)=>m.jsxs("div",{className:"flex items-center",children:[m.jsx(Ns,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),m.jsx("span",{className:"text-gray-700",children:_})]},O))}),m.jsx("div",{className:"space-y-3",children:g===w.id?m.jsx("div",{className:"w-full bg-green-100 text-green-800 font-bold py-3 px-6 rounded-2xl text-center",children:"Plan Actual"}):m.jsxs(m.Fragment,{children:[w.price>0&&m.jsx("button",{onClick:()=>A(w.id,"monthly"),className:`w-full bg-gradient-to-r ${w.color} text-white font-bold py-3 px-6 rounded-2xl hover:shadow-lg transition-all transform hover:scale-105`,children:"Suscribirse Mensual"}),w.yearlyPrice&&m.jsx("button",{onClick:()=>A(w.id,"yearly"),className:"w-full bg-gray-100 text-gray-700 font-medium py-3 px-6 rounded-2xl hover:bg-gray-200 transition-colors",children:"Suscribirse Anual (30% OFF)"}),w.price===0&&g!=="free"&&m.jsx("button",{onClick:()=>A("free"),className:"w-full bg-gray-100 text-gray-700 font-medium py-3 px-6 rounded-2xl hover:bg-gray-200 transition-colors",children:"Cambiar a Gratuito"})]})})]},w.id))}),m.jsx("div",{className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100 mb-8",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"¿Por qué elegir NutriScan AI Premium?"}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mt-8",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:m.jsx(ic,{className:"w-8 h-8 text-blue-600"})}),m.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Análisis Instantáneo"}),m.jsx("p",{className:"text-gray-600",children:"Obtén información nutricional detallada al instante con nuestro motor de IA"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:m.jsx(Li,{className:"w-8 h-8 text-green-600"})}),m.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Recomendaciones Personalizadas"}),m.jsx("p",{className:"text-gray-600",children:"Recibe sugerencias adaptadas a tus condiciones de salud y objetivos"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:m.jsx(m0,{className:"w-8 h-8 text-purple-600"})}),m.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Soporte Premium"}),m.jsx("p",{className:"text-gray-600",children:"Acceso prioritario a nuestro equipo de expertos en nutrición"})]})]})]})}),m.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-3xl p-8 text-white text-center",children:[m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Garantía de 30 Días"}),m.jsx("p",{className:"text-green-100 text-lg",children:"Si no estás completamente satisfecho, te devolvemos tu dinero sin preguntas"})]})]})]})},ly=()=>{const f=wa(),[g,h]=q.useState({name:"",email:"",phone:"",subject:"",message:"",priority:"normal"}),[y,A]=q.useState(!1),w=M=>{const{name:E,value:R}=M.target;h(L=>({...L,[E]:R}))},_=async M=>{if(M.preventDefault(),!g.name||!g.email||!g.message){Le.error("Por favor completa todos los campos obligatorios");return}A(!0);try{const E=`
NUEVO TICKET DE SOPORTE - NUTRISCAN AI

👤 INFORMACIÓN DEL USUARIO:
Nombre: ${g.name}
Email: ${g.email}
Teléfono: ${g.phone||"No proporcionado"}

📋 DETALLES DEL TICKET:
Asunto: ${g.subject}
Prioridad: ${g.priority.toUpperCase()}

💬 MENSAJE:
${g.message}

---
Enviado desde: NutriScan AI PWA
Fecha: ${new Date().toLocaleString("es-ES")}
      `;console.log("Email a enviar:",E),await new Promise(R=>setTimeout(R,2e3)),Le.success("¡Ticket enviado correctamente! Te responderemos pronto."),h({name:"",email:"",phone:"",subject:"",message:"",priority:"normal"}),setTimeout(()=>{f("/settings")},2e3)}catch(E){console.error("Error al enviar ticket:",E),Le.error("Error al enviar el ticket. Intenta nuevamente.")}finally{A(!1)}},O=[{value:"low",label:"Baja",color:"text-green-600"},{value:"normal",label:"Normal",color:"text-blue-600"},{value:"high",label:"Alta",color:"text-orange-600"},{value:"urgent",label:"Urgente",color:"text-red-600"}];return m.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[m.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>f("/settings"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors",children:m.jsx(ki,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Centro de Soporte"}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Envíanos tu consulta o reporte"})]})]})}),m.jsx("div",{className:"p-4 max-w-2xl mx-auto",children:m.jsxs("form",{onSubmit:_,className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Información de Contacto"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.jsx(li,{className:"w-4 h-4 inline mr-2"}),"Nombre completo *"]}),m.jsx("input",{type:"text",name:"name",value:g.name,onChange:w,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Tu nombre completo",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.jsx(rc,{className:"w-4 h-4 inline mr-2"}),"Email *"]}),m.jsx("input",{type:"email",name:"email",value:g.email,onChange:w,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"tu@email.com",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.jsx(jh,{className:"w-4 h-4 inline mr-2"}),"Teléfono (opcional)"]}),m.jsx("input",{type:"tel",name:"phone",value:g.phone,onChange:w,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"+57 300 123 4567"})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Detalles del Ticket"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Asunto"}),m.jsx("input",{type:"text",name:"subject",value:g.subject,onChange:w,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Ej: Error al escanear productos, Problema con suscripción..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prioridad"}),m.jsx("select",{name:"priority",value:g.priority,onChange:w,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:O.map(M=>m.jsx("option",{value:M.value,children:M.label},M.value))})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.jsx(Rm,{className:"w-4 h-4 inline mr-2"}),"Mensaje *"]}),m.jsx("textarea",{name:"message",value:g.message,onChange:w,rows:6,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white resize-none",placeholder:"Describe detalladamente tu consulta o problema...",required:!0})]})]})]}),m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-2xl p-4 border border-blue-200 dark:border-blue-800",children:[m.jsx("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"📞 Otros Canales de Contacto"}),m.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[m.jsx("p",{children:"📧 Email: soporte@nutriscan-ai.com"}),m.jsx("p",{children:"📱 WhatsApp: +57 300 123 4567"}),m.jsx("p",{children:"🌐 Web: nutriscan-ai.com/ayuda"}),m.jsx("p",{children:"⏰ Horario: Lun-Vie 9:00-18:00 COT"})]})]}),m.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enviando..."]}):m.jsxs(m.Fragment,{children:[m.jsx(Vm,{className:"w-5 h-5"}),"Enviar Ticket de Soporte"]})})]})})]})},oy=()=>{const f=wa();return m.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[m.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-4 sticky top-0 z-10",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>f("/settings"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors",children:m.jsx(ki,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-xl flex items-center justify-center",children:m.jsx(nc,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Política de Privacidad"}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"NutriScan AI"})]})]})]})}),m.jsxs("div",{className:"p-4 max-w-4xl mx-auto space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:m.jsx(Bh,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Información General"})]}),m.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-gray-300",children:[m.jsxs("p",{className:"leading-relaxed",children:[m.jsx("strong",{children:"NutriScan AI"})," es una aplicación de análisis nutricional que respeta y protege la privacidad de sus usuarios. Esta política describe cómo recopilamos, usamos y protegemos su información personal."]}),m.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(qd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Última actualización: Junio 2025"}),m.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mt-1",children:"Versión 2.0 - Cumplimiento GDPR y LGPD"})]})]})})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center",children:m.jsx(Zd,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Datos que Recopilamos"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"📋 Información de Perfil de Salud (Opcional)"}),m.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),m.jsx("span",{children:"Condiciones médicas seleccionadas (diabetes, hipertensión, etc.)"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),m.jsx("span",{children:"Objetivos nutricionales (pérdida de peso, ganancia muscular, etc.)"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),m.jsx("span",{children:"Alergias e intolerancias alimentarias"})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"🛒 Historial de Productos Escaneados"}),m.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),m.jsx("span",{children:"Códigos de barras de productos consultados"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),m.jsx("span",{children:"Fechas y horas de escaneo"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),m.jsx("span",{children:"Análisis nutricionales generados"})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"⚙️ Preferencias de la Aplicación"}),m.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),m.jsx("span",{children:"Configuración de idioma y tema"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),m.jsx("span",{children:"Preferencias de notificaciones"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),m.jsx("span",{children:"Tipo de suscripción activa"})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"🔐 Datos de Autenticación (Si usa Google)"}),m.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"}),m.jsx("span",{children:"Nombre y email de Google (solo para identificación)"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"}),m.jsx("span",{children:"ID único de usuario (para sincronización)"})]})]})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center",children:m.jsx(b0,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cómo Protegemos sus Datos"})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800",children:[m.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:"🔒 Almacenamiento Local Seguro"}),m.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Sus datos se almacenan localmente en su dispositivo usando tecnología de cifrado avanzado."})]}),m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:[m.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"🚫 Sin Venta de Datos"}),m.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Nunca vendemos, alquilamos o compartimos sus datos personales con terceros."})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4 border border-purple-200 dark:border-purple-800",children:[m.jsx("h3",{className:"font-semibold text-purple-900 dark:text-purple-100 mb-2",children:"🔐 Cifrado de Información Sensible"}),m.jsx("p",{className:"text-sm text-purple-800 dark:text-purple-200",children:"Toda información médica y personal está cifrada con estándares AES-256."})]}),m.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:[m.jsx("h3",{className:"font-semibold text-orange-900 dark:text-orange-100 mb-2",children:"🌐 Transmisión Segura"}),m.jsx("p",{className:"text-sm text-orange-800 dark:text-orange-200",children:"Todas las comunicaciones usan HTTPS y protocolos de seguridad modernos."})]})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900 rounded-lg flex items-center justify-center",children:m.jsx(nc,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sus Derechos de Privacidad"})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"w-6 h-6 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx("span",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:"✓"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Acceso a sus Datos"}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Puede consultar qué datos tenemos sobre usted"})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400",children:"✓"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Rectificación"}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Puede corregir datos incorrectos o incompletos"})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400",children:"✓"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Portabilidad"}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Puede exportar sus datos en formato estándar"})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"w-6 h-6 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx("span",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:"✓"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Eliminación"}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Puede solicitar la eliminación completa de sus datos"})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"w-6 h-6 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx("span",{className:"text-xs font-bold text-orange-600 dark:text-orange-400",children:"✓"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Limitación"}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Puede restringir el procesamiento de sus datos"})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"w-6 h-6 bg-teal-100 dark:bg-teal-900 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx("span",{className:"text-xs font-bold text-teal-600 dark:text-teal-400",children:"✓"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Oposición"}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Puede oponerse al procesamiento de sus datos"})]})]})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Cómo Usamos sus Datos"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:[m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"🎯 Personalización de Análisis"}),m.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Utilizamos su perfil de salud para generar recomendaciones nutricionales específicas para sus condiciones médicas y objetivos."})]}),m.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 dark:from-green-900/20 dark:to-teal-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800",children:[m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"📊 Mejora del Servicio"}),m.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Analizamos patrones de uso (de forma anónima) para mejorar la precisión de nuestros análisis y añadir nuevas funcionalidades."})]}),m.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:[m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"🔔 Comunicaciones Relevantes"}),m.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enviamos consejos nutricionales personalizados y actualizaciones importantes (solo si acepta recibir notificaciones)."})]})]})]}),m.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 text-white",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:m.jsx(rc,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold",children:"Contacto para Privacidad"}),m.jsx("p",{className:"text-blue-100",children:"¿Preguntas sobre sus datos? Contáctenos"})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(rc,{className:"w-5 h-5 text-blue-200"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Email de Privacidad"}),m.jsx("p",{className:"text-blue-100",children:"privacidad@nutriscan-ai.com"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(jh,{className:"w-5 h-5 text-blue-200"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Teléfono"}),m.jsx("p",{className:"text-blue-100",children:"+57 300 123 4567"})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Om,{className:"w-5 h-5 text-blue-200"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Dirección"}),m.jsx("p",{className:"text-blue-100",children:"Bogotá, Colombia"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(qd,{className:"w-5 h-5 text-blue-200"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Horario de Atención"}),m.jsx("p",{className:"text-blue-100",children:"Lun-Vie 9:00-18:00 COT"})]})]})]})]})]}),m.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Cumplimiento Legal"}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-xl flex items-center justify-center mx-auto mb-3",children:m.jsx(nc,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"GDPR"}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cumplimiento con regulaciones europeas"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-xl flex items-center justify-center mx-auto mb-3",children:m.jsx(b0,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"LGPD"}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ley General de Protección de Datos (Brasil)"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-xl flex items-center justify-center mx-auto mb-3",children:m.jsx(Zd,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"CCPA"}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"California Consumer Privacy Act"})]})]})]}),m.jsxs("div",{className:"text-center py-6",children:[m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"© 2025 NutriScan AI. Todos los derechos reservados."}),m.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Última actualización: Junio 2025 • Versión 2.0"})]})]})]})},cy=()=>{const f=wa(),{subscriptionType:g}=Ul(),{getProductHistory:h}=O0(),y=h(g),A=O=>{f("/scanner",{state:{productInfo:O,analysis:O.analysis,fromHistory:!0}})},_=(()=>{switch(g){case"free":return{title:"Plan Gratuito",description:"El historial está disponible en planes Premium y Pro",color:"bg-gray-100 text-gray-800",limit:0};case"premium":return{title:"Plan Premium",description:"Historial de los últimos 5 productos escaneados",color:"bg-blue-100 text-blue-800",limit:5};case"pro":return{title:"Plan Pro",description:"Historial completo de todos los productos escaneados",color:"bg-purple-100 text-purple-800",limit:"ilimitado"};default:return{title:"Plan Gratuito",description:"El historial está disponible en planes Premium y Pro",color:"bg-gray-100 text-gray-800",limit:0}}})();return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50",children:[m.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 p-4",children:m.jsxs("div",{className:"max-w-4xl mx-auto flex items-center",children:[m.jsx("button",{onClick:()=>f("/home"),className:"mr-4 p-2 hover:bg-gray-100 rounded-xl transition-colors",children:m.jsx(ki,{className:"w-6 h-6 text-gray-600"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Historial de Productos"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Productos escaneados anteriormente"})]}),m.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${_.color}`,children:_.title})]})}),m.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[m.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-green-600 rounded-3xl p-6 mb-6 text-white shadow-xl",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mr-4 backdrop-blur-sm",children:m.jsx(Dl,{className:"w-8 h-8 text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold",children:_.title}),m.jsx("p",{className:"text-blue-100",children:_.description})]})]}),g==="free"&&m.jsxs("button",{onClick:()=>f("/subscription"),className:"bg-white/20 text-white px-4 py-2 rounded-xl hover:bg-white/30 transition-colors backdrop-blur-sm font-medium",children:[m.jsx(Li,{className:"w-4 h-4 inline mr-2"}),"Actualizar"]})]})}),g==="free"?m.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100 text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-3xl flex items-center justify-center mx-auto mb-6",children:m.jsx(Dl,{className:"w-10 h-10 text-gray-400"})}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Historial no disponible"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"El historial de productos está disponible en los planes Premium y Pro. Actualiza tu plan para acceder a esta funcionalidad."}),m.jsx("button",{onClick:()=>f("/subscription"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-3 px-8 rounded-2xl hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105",children:"Ver Planes"})]}):y.length>0?m.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-gray-100",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Productos Escaneados (",y.length,")"]}),m.jsxs("span",{className:"text-sm text-gray-500",children:["Límite: ",_.limit]})]})}),m.jsx("div",{className:"divide-y divide-gray-100",children:y.map((O,M)=>{var E,R,L,H,ie,ae;return m.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>A(O),children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-blue-500 rounded-2xl flex items-center justify-center mr-4 flex-shrink-0",children:m.jsx("span",{className:"text-white font-bold text-lg",children:((E=O.product_name)==null?void 0:E.charAt(0))||"P"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-bold text-gray-900 text-lg truncate",children:O.product_name||"Producto sin nombre"}),m.jsx("p",{className:"text-gray-600 truncate",children:O.brands||"Marca no disponible"}),m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx(xm,{className:"w-4 h-4 text-gray-400 mr-1"}),m.jsx("span",{className:"text-sm text-gray-500",children:new Date(O.scannedAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold text-white ${O.nutriscore_grade==="a"?"bg-green-500":O.nutriscore_grade==="b"?"bg-yellow-500":O.nutriscore_grade==="c"?"bg-orange-500":O.nutriscore_grade==="d"?"bg-red-500":O.nutriscore_grade==="e"?"bg-red-700":"bg-gray-500"}`,children:((R=O.nutriscore_grade)==null?void 0:R.toUpperCase())||"?"}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-sm font-medium text-gray-900",children:(H=(L=O.analysis)==null?void 0:L.recommendation)!=null&&H.includes("Recomendado")?"✅":(ae=(ie=O.analysis)==null?void 0:ie.recommendation)!=null&&ae.includes("Moderado")?"⚠️":"❌"}),m.jsx("div",{className:"text-xs text-gray-500",children:"Ver detalles"})]})]})]})},M)})})]}):m.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100 text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-3xl flex items-center justify-center mx-auto mb-6",children:m.jsx(km,{className:"w-10 h-10 text-gray-400"})}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Sin productos escaneados"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Aún no has escaneado ningún producto. Comienza escaneando tu primer producto para ver el historial aquí."}),m.jsx("button",{onClick:()=>f("/scanner"),className:"bg-gradient-to-r from-green-600 to-blue-600 text-white font-bold py-3 px-8 rounded-2xl hover:from-green-700 hover:to-blue-700 transition-all transform hover:scale-105",children:"Escanear Producto"})]})]})]})};function uy(){return m.jsx(Y2,{children:m.jsx(X2,{children:m.jsx(q2,{children:m.jsx(Z2,{children:m.jsx(L2,{children:m.jsx("div",{className:"App",children:m.jsxs(f2,{children:[m.jsx(ba,{path:"/",element:m.jsx(ry,{})}),m.jsx(ba,{path:"/auth",element:m.jsx(iy,{})}),m.jsx(ba,{path:"/profile",element:m.jsx(ii,{children:m.jsx(ny,{})})}),m.jsx(ba,{path:"/home",element:m.jsx(ii,{children:m.jsx(tp,{})})}),m.jsx(ba,{path:"/scanner",element:m.jsx(ii,{children:m.jsx(ty,{})})}),m.jsx(ba,{path:"/settings",element:m.jsx(ii,{children:m.jsx(ay,{})})}),m.jsx(ba,{path:"/subscription",element:m.jsx(ii,{children:m.jsx(sy,{})})}),m.jsx(ba,{path:"/support",element:m.jsx(ii,{children:m.jsx(ly,{})})}),m.jsx(ba,{path:"/privacy",element:m.jsx(ii,{children:m.jsx(oy,{})})}),m.jsx(ba,{path:"/history",element:m.jsx(ii,{children:m.jsx(cy,{})})}),m.jsx(ba,{path:"*",element:m.jsx(Eh,{to:"/",replace:!0})})]})})})})})})})}wx.createRoot(document.getElementById("root")).render(m.jsx(q.StrictMode,{children:m.jsx(uy,{})}));
